<div class='starfinder'>
    <div class='name-container'>
        <img class='header-image' src='https://s3.amazonaws.com/files.d20.io/images/37233401/rLKhHmqX51cO05GJ9r0BpA/max.png'>
    </div>
    <div class='nav'>
        <input class='is-not-caster' name='attr_caster_select' type='radio' value='0' checked='checked' hidden='true'>
        <input class="tab-button core" type="radio" name="attr_tab_select" value="core" checked="checked"><span data-i18n='core'>CORE</span>
        <input class='is-caster' name='attr_caster_select' type='radio' value='1' hidden='true'>
        <input class="tab-button spells" type="radio" name="attr_tab_select" value="spells"><span data-i18n='spells'>SPELLS</span>
        <input class="tab-button options" type="radio" name="attr_tab_select" value="options"><span style='font-style:pictos;'>y</span>
    </div>
    <!-- Toggles -->
    <input class="npcship_toggle" name="attr_npcship_toggle" type="hidden" value="0">
    <input class="npcship_toggle" name="attr_npcship_toggle" type="hidden" value="1">
    <input class="npcship_toggle" name="attr_npcship_toggle" type="hidden" value="2">
    <!-- Containers -->
    <div class="container npc">
        
    </div>
    <div class="container pc">
        <!--<div class='header'>-->
            <input class='char-tab char-details-tab' name='attr_char-tab' type='radio' value='char info' checked='checked'><h1 class='section label char-details' data-i18n='character_info'>CHARACTER INFO</h1>
            <div class='header-content char-info'>
                <div class='char-info-content'>
                    <div class='hlabel-container'>
                        <input class='char-name' type="text" name="attr_character_name">
                        <span class="label" data-i18n="char-name-u">CHARACTER NAME</span>
                    </div>
                    <div class='hlabel-container class-level'>
                        <input class='class-level' type='text' readonly='true' name='attr_class&level' title='@{class&level}'>
                        <span class='label' data-i18n='class-level'>CLASS/LEVEL</span>
                    </div>
                    <div class='hlabel-container'>
                        <input class='race' type='text' name='attr_race' title='@{race}'>
                        <span class='label' data-i18n='race'>RACE</span>
                    </div>
                    <div class='hlabel-container'>
                        <input class='race-hp' type='text' name='attr_race_hp' title='@{race_hp}'>
                        <span class='label' data-i18n='hp'>HP</span>
                    </div>
                    <div class='hlabel-container'>
                        <input class='theme' type='text' name='attr_theme' title='@{theme}'>
                        <span class='label' data-i18n='theme'>THEME</span>
                    </div>
                    <div class='hlabel-container'>
                        <select class='size' name='attr_size' title=@{size}>
                            <option value='-4'>FINE</option>
                            <option value='-3'>DIMINUTIVE</option>
                            <option value='-2'>TINY</option>
                            <option value='-1'>SMALL</option>
                            <option value='0'selected='selected'>MEDIUM</option>
                            <option value='1'>LARGE</option>
                            <option value='2'>HUGE</option>
                            <option value='3'>GARGANTUAN</option>
                            <option value='4'>COLOSSAL</option>
                        </select>
                        <span class='label' data-i18n='size'>SIZE</span>
                    </div>
                    <div class='hlabel-container'>
                        <input class=speed type='text' name='attr_speed' title='@{speed}'>
                        <span class='label' data-i18n='speed'>SPEED</span>
                    </div>
                    <div class='hlabel-container'>
                        <input class=gender type='text' name='attr_gender' title='@{gender}'>
                        <span class='label' data-i18n='gender'>GENDER</span>
                    </div>
                    <div class='hlabel-container'>
                        <input class='home-world' type='text' name='attr_home_world' title='@{home_world}'>
                        <span class='label' data-i18n='home-world'>HOME WORLD</span>
                    </div>
                    <div class='hlabel-container'>
                        <input class=alignment type='text' name='attr_alignment' title='@{alignment}'>
                        <span class='label' data-i18n='alignment'>ALIGNMENT</span>
                    </div>
                    <div class='hlabel-container'>
                        <input class=deity type='text' name='attr_deity' title='@{deity}'>
                        <span class='label' data-i18n='deity'>DEITY</span>
                    </div>
                    <div class='hlabel-container'>
                        <input class=language type='text' name='attr_language' title='@{language}'>
                        <span class='label' data-i18n='languages'>LANGUAGES</span>
                    </div>
                    <div class='hlabel-container'>
                        <input class=player type='text' name='attr_player' title='@{player}'>
                        <span class='label' data-i18n='player'>PLAYER</span>
                    </div>
                </div>
            </div>
            <input class='char-tab class-details-tab' name='attr_char-tab' type='radio' value='class details'><h1 class='section label class-details' data-i18n='class-details'>CLASS DETAILS</h1>
            <div class='header-content class-info'>
                <span class='label class-name' data-i18n='class-name'>CLASS NAME</span>
                <span class='label class-num-level' data-i18n='class-num-level'>LVL</span>
                <span class='label class-health' data-i18n='class-stam'>SP</span>
                <span class='label class-health' data-i18n='hp'>HP</span>
                <span class='label class-bab' data-i18n='bab'>BAB</span>
                <span class='label class-save' data-i18n='fort'>FORT</span>
                <span class='label class-save' data-i18n='ref'>REF</span>
                <span class='label class-save' data-i18n='will'>WILL</span>
                <span class='label class-skills' data-i18n='skills'>SKILLS</span>
                <span class='label class-ability' data-i18n='abi'>ABI</span>
                <span class='label class-spells' data-i18n='spell'>SPELL</span>
                <!-- class 1 -->
                <input class='class-1 class-name' type='text' name='attr_class_1_name' title='@{class_1_name}' placeholder='1st Class'>
                <input class='class-1 class-num-level' type='text' name='attr_class_1_level' title='@{class_1_level}' placeholder='1'>
                <input class='class-1 class-health' type='text' name='attr_class_1_sp' title='@{class_1_sp}' placeholder='4'>
                <input class='class-1 class-health' type='text' name='attr_class_1_hp' title='@{class_1_hp}' placeholder='4'>
                <select class='class-1 class-bab' name='attr_class_1_bab' title=@{class_1_bab}>
                    <option value='0.5'>1/2</option>
                    <option value='0.75'>3/4</option>
                    <option value='1'>1</option>
                </select>
                <select class='class-1 class-save' name='attr_class_1_fort'>
                    <option value='poor' data-i18n='poor' selected='selected'>POOR</option>
                    <option value='good' data-i18n='good'>GOOD</option>
                </select>
                <select class='class-1 class-save' name='attr_class_1_ref'>
                    <option value='poor' data-i18n='poor' selected='selected'>POOR</option>
                    <option value='good' data-i18n='good'>GOOD</option>
                </select>
                <select class='class-1 class-save' name='attr_class_1_will'>
                    <option value='poor' data-i18n='poor' selected='selected'>POOR</option>
                    <option value='good' data-i18n='good'>GOOD</option>
                </select>
                <input class='class-1 class-skills' type='text' name='attr_class_1_skills' title='@{class_1_skills}' placeholder='4'>
                <select class='class-1 class-ability' name='attr_class_1_ability' placeholder='@{class_1_ability}'>
                    <option value='strength_mod'>STR</option>
                    <option value='dexterity_mod' selected='selected'>DEX</option>
                    <option value='constitution_mod'>CON</option>
                    <option value='intelligence_mod'>INT</option>
                    <option value='wisdom_mod'>WIS</option>
                    <option value='charisma_mod'>CHA</option>
                </select>
                <input class='class-1 class-spells' name='attr_class_1_spells' title='@{class_1_spells' type='checkbox' value='1'>
                <!-- class 2 -->
                <input class='class-2 class-name' type='text' name='attr_class_2_name' title='@{class_2_name}' placeholder='2nd Class'>
                <input class='class-2 class-num-level' type='text' name='attr_class_2_level' title='@{class_2_level}' placeholder='1'>
                <input class='class-2 class-health' type='text' name='attr_class_2_sp' title='@{class_2_sp}' placeholder='4'>
                <input class='class-2 class-health' type='text' name='attr_class_2_hp' title='@{class_2_hp}' placeholder='4'>
                <select class='class-2 class-bab' name='attr_class_2_bab' title=@{class_2_bab}>
                    <option value='0.5'>1/2</option>
                    <option value='0.75'>3/4</option>
                    <option value='1'>1</option>
                </select>
                <select class='class-2 class-save' name='attr_class_2_fort'>
                    <option value='poor' data-i18n='poor' selected='selected'>POOR</option>
                    <option value='good' data-i18n='good'>GOOD</option>
                </select>
                <select class='class-2 class-save' name='attr_class_2_ref'>
                    <option value='poor' data-i18n='poor' selected='selected'>POOR</option>
                    <option value='good' data-i18n='good'>GOOD</option>
                </select>
                <select class='class-2 class-save' name='attr_class_2_will'>
                    <option value='poor' data-i18n='poor' selected='selected'>POOR</option>
                    <option value='good' data-i18n='good'>GOOD</option>
                </select>
                <input class='class-2 class-skills' type='text' name='attr_class_2_skills' title='@{class_2_skills}' placeholder='4'>
                <select class='class-2 class-ability' name='attr_class_2_ability' placeholder='@{class_2_ability}'>
                    <option value='strength_mod'>STR</option>
                    <option value='dexterity_mod' selected='selected'>DEX</option>
                    <option value='constitution_mod'>CON</option>
                    <option value='intelligence_mod'>INT</option>
                    <option value='wisdom_mod'>WIS</option>
                    <option value='charisma_mod'>CHA</option>
                </select>
                <input class='class-2 class-spells' name='attr_class_2_spells' title='@{class_2_spells' type='checkbox' value='1'>
                <!-- class 3 -->
                <input class='class-3 class-name' type='text' name='attr_class_3_name' title='@{class_3_name}' placeholder='3rd Class'>
                <input class='class-3 class-num-level' type='text' name='attr_class_3_level' title='@{class_3_level}' placeholder='1'>
                <input class='class-3 class-health' type='text' name='attr_class_3_sp' title='@{class_3_sp}' placeholder='4'>
                <input class='class-3 class-health' type='text' name='attr_class_3_hp' title='@{class_3_hp}' placeholder='4'>
                <select class='class-3 class-bab' name='attr_class_3_bab' title=@{class_3_bab}>
                    <option value='0.5'>1/2</option>
                    <option value='0.75'>3/4</option>
                    <option value='1'>1</option>
                </select>
                <select class='class-3 class-save' name='attr_class_3_fort'>
                    <option value='poor' data-i18n='poor' selected='selected'>POOR</option>
                    <option value='good' data-i18n='good'>GOOD</option>
                </select>
                <select class='class-3 class-save' name='attr_class_3_ref'>
                    <option value='poor' data-i18n='poor' selected='selected'>POOR</option>
                    <option value='good' data-i18n='good'>GOOD</option>
                </select>
                <select class='class-3 class-save' name='attr_class_3_will'>
                    <option value='poor' data-i18n='poor' selected='selected'>POOR</option>
                    <option value='good' data-i18n='good'>GOOD</option>
                </select>
                <input class='class-3 class-skills' type='text' name='attr_class_3_skills' title='@{class_3_skills}' placeholder='4'>
                <select class='class-3 class-ability' name='attr_class_3_ability' placeholder='@{class_3_ability}'>
                    <option value='strength_mod'>STR</option>
                    <option value='dexterity_mod' selected='selected'>DEX</option>
                    <option value='constitution_mod'>CON</option>
                    <option value='intelligence_mod'>INT</option>
                    <option value='wisdom_mod'>WIS</option>
                    <option value='charisma_mod'>CHA</option>
                </select>
                <input class='class-3 class-spells' name='attr_class_3_spells' title='@{class_3_spells' type='checkbox' value='1'>
                <!-- class 4 -->
                <input class='class-4 class-name' type='text' name='attr_class_4_name' title='@{class_4_name}' placeholder='4th Class'>
                <input class='class-4 class-num-level' type='text' name='attr_class_4_level' title='@{class_4_level}' placeholder='1'>
                <input class='class-4 class-health' type='text' name='attr_class_4_sp' title='@{class_4_sp}' placeholder='4'>
                <input class='class-4 class-health' type='text' name='attr_class_4_hp' title='@{class_4_hp}' placeholder='4'>
                <select class='class-4 class-bab' name='attr_class_4_bab' title=@{class_4_bab}>
                    <option value='0.5'>1/2</option>
                    <option value='0.75'>3/4</option>
                    <option value='1'>1</option>
                </select>
                <select class='class-4 class-save' name='attr_class_4_fort'>
                    <option value='poor' data-i18n='poor' selected='selected'>POOR</option>
                    <option value='good' data-i18n='good'>GOOD</option>
                </select>
                <select class='class-4 class-save' name='attr_class_4_ref'>
                    <option value='poor' data-i18n='poor' selected='selected'>POOR</option>
                    <option value='good' data-i18n='good'>GOOD</option>
                </select>
                <select class='class-4 class-save' name='attr_class_4_will'>
                    <option value='poor' data-i18n='poor' selected='selected'>POOR</option>
                    <option value='good' data-i18n='good'>GOOD</option>
                </select>
                <input class='class-4 class-skills' type='text' name='attr_class_4_skills' title='@{class_4_skills}' placeholder='4'>
                <select class='class-4 class-ability' name='attr_class_4_ability' placeholder='@{class_4_ability}'>
                    <option value='strength_mod'>STR</option>
                    <option value='dexterity_mod' selected='selected'>DEX</option>
                    <option value='constitution_mod'>CON</option>
                    <option value='intelligence_mod'>INT</option>
                    <option value='wisdom_mod'>WIS</option>
                    <option value='charisma_mod'>CHA</option>
                </select>
                <input class='class-4 class-spells' name='attr_class_4_spells' title='@{class_4_spells' type='checkbox' value='1'>
                <!-- class 5 -->
                <input class='class-5 class-name' type='text' name='attr_class_5_name' title='@{class_5_name}' placeholder='5th Class'>
                <input class='class-5 class-num-level' type='text' name='attr_class_5_level' title='@{class_5_level}' placeholder='1'>
                <input class='class-5 class-health' type='text' name='attr_class_5_sp' title='@{class_5_sp}' placeholder='4'>
                <input class='class-5 class-health' type='text' name='attr_class_5_hp' title='@{class_5_hp}' placeholder='4'>
                <select class='class-5 class-bab' name='attr_class_5_bab' title=@{class_5_bab}>
                    <option value='0.5'>1/2</option>
                    <option value='0.75'>3/4</option>
                    <option value='1'>1</option>
                </select>
                <select class='class-5 class-save' name='attr_class_5_fort'>
                    <option value='poor' data-i18n='poor' selected='selected'>POOR</option>
                    <option value='good' data-i18n='good'>GOOD</option>
                </select>
                <select class='class-5 class-save' name='attr_class_5_ref'>
                    <option value='poor' data-i18n='poor' selected='selected'>POOR</option>
                    <option value='good' data-i18n='good'>GOOD</option>
                </select>
                <select class='class-5 class-save' name='attr_class_5_will'>
                    <option value='poor' data-i18n='poor' selected='selected'>POOR</option>
                    <option value='good' data-i18n='good'>GOOD</option>
                </select>
                <input class='class-5 class-skills' type='text' name='attr_class_5_skills' title='@{class_5_skills}' placeholder='4'>
                <select class='class-5 class-ability' name='attr_class_5_ability' placeholder='@{class_5_ability}'>
                    <option value='strength_mod'>STR</option>
                    <option value='dexterity_mod' selected='selected'>DEX</option>
                    <option value='constitution_mod'>CON</option>
                    <option value='intelligence_mod'>INT</option>
                    <option value='wisdom_mod'>WIS</option>
                    <option value='charisma_mod'>CHA</option>
                </select>
                <input class='class-5 class-spells' name='attr_class_5_spells' title='@{class_5_spells' type='checkbox' value='1'>
            </div>
        <!--</div><!-- end of header div -->
        <!--<div class='in-play'>-->
            <input class='in-play-tab menu-tab' type='radio' name='attr_in-play-tab' value='menus' checked='checked'><h1 class='section label menu-head' data-i18n='menus'>MENUS</h1>
            <div class='menus in-play'>
                <button type='roll' name='roll_initiative' value='MACRO NEEDED' data-i18n='initiative'>INITIATIVE</button>
                <button type='roll' name='roll_attacks' value='MACRO NEEDED' data-i18n='attacks'>ATTACKS</button>
                <button type='roll' name='roll_saves' value='MACRO NEEDED' data-i18n='saves'>SAVES</button>
                <button type='roll' name='roll_spells' value='MACRO NEEDED' data-i18n='spells'>SPELLS</button>
                <button type='roll' name='roll_abilities' value='MACRO NEEDED' data-i18n='abilities-u'>ABILITIES</button>
                <button type='roll' name='roll_ability_checks' value='MACRO NEEDED' data-i18n='ability_checks'>ABILITY CHECKS</button>
            </div>
            <input class='in-play-tab buff-tab' type='radio' name='attr_in-play-tab' value='buffs'><h1 class='section label buff-head' data-i18n='buffs'>BUFFS</h1>
            <div class='buffs in-play'>
                <fieldset class='repeating_buff'>
                    <input class='filter' type='checkbox' hidden='true' name='attr_filter' value='1' checked='checked'>
                    <div class='filter-container buff'>
                        <input class="show-options" type="checkbox" name="attr_show_options" checked="checked"><span>y</span>
                        <div class='buff-options'>
                            <input class='buff-name' type='text' name='attr_name' placeholder='Haste'>
                            <div class='mod-container'>
                                <span class='label buff-mod' data-i18n='mods'>MODS</span>
                                <textarea class='buff-mod' name='attr_mods' placeholder='+X to EAC, +X Luck to Will'></textarea>
                            </div>
                        </div>
                        <div class='display'>
                            <input type='checkbox' name='attr_toggle' value='enabled'>
                            <span class='buff-name label' name='attr_name'></span>
                        </div>
                    </div>
                </fieldset>
            </div>
        <!--</div>-->
        <div class=tab-container>
            <input class="tab-button core" hidden='true' type="radio" name="attr_tab" value="core">
            <input class="tab-button spells" hidden='true' type="radio" name="attr_tab" value="spells" checked="checked">
            <input class="tab-button options" hidden='true' type="radio" name="attr_tab" value="options">
            <div class='page core'>
                <div class='initiative-container'>
                    <button class='section label' type='roll' name='roll_initiative' value='&{template:sf_generic} {{name=@{character_name}}} {{characterid=@{character_id}}} {{title=Initiative}} {{r1=[[1d20+@{initiative}+(@{initiative}/100)&{tracker}]]}}' data-i18n='initiative' title='%{initiative}'>INITIATIVE</button>
                    <input class='mod-debuff' type='radio' name='attr_initiative_change' value='-1' hidden='true'>
                    <input class='mod-normal' type='radio' name='attr_initiative_change' value='0' hidden='true' checked='checked'>
                    <input class='mod-buff' type='radio' name='attr_initiative_change' value='1' hidden='true'>
                    <span class='mod tot modified-attr' readonly='true' type='text' name='attr_initiative' title=@{initiative} value='0'>0</span>
                    <span class='arith'>=</span>
                    <select class='label abi' name='attr_initiative_ability' style='width; .5em;'>
                        <option value='dexterity_mod' selected='selected'>DEX</option>
                    <option value='strength_mod'>STR</option>
                    <option value='constitution_mod'>CON</option>
                    <option value='intelligence_mod'>INT</option>
                    <option value='wisdom_mod'>WIS</option>
                    <option value='charisma_mod'>CHA</option>
                    </select>
                </div>
                <div class='attribute-container section-container'>
                    <h1 class='section label' data-i18n='ability_scores'>ABILITY SCORES</h1>
                    <div class='attr-container'>
                        <span class='button'></span>
                        <span class='mod'></span>
                        <span class='attr-total-container'></span>
                        <span class='label pen' data-i18n='pen'>PEN</span>
                        <span class='label drain' data-i18n='drain'>DRAIN</span>
                    </div>
                    <div class='attr-container'>
                        <button class='button' type='roll' name='roll_strength' value='&{template:sf_generic} {{name=@{character_name}}} {{characterid=@{character_id}}} {{title=Strength}} {{r1=[[1d20+@{strength_mod}]]}}' data-i18n='strength' title=%{strength}>STRENGTH</button>
                        <input class='mod' type='text' name='attr_strength_mod' readonly='true' title='@{strength_mod}' value='0'>
                        <div class='attr-total-container'>
                            <input class='base-attr attr' type='number' name='attr_strength_base' value='10' title='@{strength}'>
                            <input class='mod-debuff' type='radio' name='attr_strength_change' value='-1' hidden='true'>
                            <input class='mod-normal' type='radio' name='attr_strength_change' value='0' hidden='true' checked='checked'>
                            <input class='mod-buff' type='radio' name='attr_strength_change' value='1' hidden='true'>
                            <span class='modified-attr attr' readonly='true' type='number' name='attr_strength' value='10'>10</span>
                        </div>
                        <input class='pen' type='number' name='attr_strength_penalty' value='' title='@{strength_penalty}'>
                        <input class='drain' type='number' name='attr_strength_drain' value='' title='@{strength_drain}'>
                    </div>
                    <div class='attr-container'>
                        <button class='button' type='roll' name='roll_dexterity' value='&{template:sf_generic} {{name=@{character_name}}} {{characterid=@{character_id}}} {{title=Dexterity}} {{r1=[[1d20+@{dexterity_mod}]]}}' data-i18n='dexterity' title=%{dexterity}>DEXTERITY</button>
                        <input class='mod' type='text' name='attr_dexterity_mod' readonly='true' title='@{dexterity_mod}' value='0'>
                        <div class='attr-total-container'>
                            <input class='base-attr attr' type='number' name='attr_dexterity_base' value='10' title='@{dexterity}'>
                            <input class='mod-debuff' type='radio' name='attr_dexterity_change' value='-1' hidden='true'>
                            <input class='mod-normal' type='radio' name='attr_dexterity_change' value='0' hidden='true' checked='checked'>
                            <input class='mod-buff' type='radio' name='attr_dexterity_change' value='1' hidden='true'>
                            <span class='modified-attr attr' readonly='true' type='number' name='attr_dexterity' value='10'>10</span>
                        </div>
                        <input class='pen' type='number' name='attr_dexterity_penalty' value='' title='@{dexterity_penalty}'>
                        <input class='drain' type='number' name='attr_dexterity_drain' value='' title='@{dexterity_drain}'>
                    </div>
                    <div class='attr-container'>
                        <button class='button' type='roll' name='roll_constitution' value='&{template:sf_generic} {{name=@{character_name}}} {{characterid=@{character_id}}} {{title=Constitution}} {{r1=[[1d20+@{constitution_mod}]]}}' data-i18n='constitution' title=%{constitution}>CONSTITUTION</button>
                        <input class='mod' type='text' name='attr_constitution_mod' readonly='true' title='@{constitution_mod}' value='0' value='0'>
                        <div class='attr-total-container'>
                            <input class='base-attr attr' type='number' name='attr_constitution_base' value='10' title='@{constitution}'>
                            <input class='mod-debuff' type='radio' name='attr_constitution_change' value='-1' hidden='true'>
                            <input class='mod-normal' type='radio' name='attr_constitution_change' value='0' hidden='true' checked='checked'>
                            <input class='mod-buff' type='radio' name='attr_constitution_change' value='1' hidden='true'>
                            <span class='modified-attr attr' readonly='true' type='number' name='attr_constitution' value='10'>10</span>
                        </div>
                        <input class='pen' type='number' name='attr_constitution_penalty' value='' title='@{constitution_penalty}'>
                        <input class='drain' type='number' name='attr_constitution_drain' value='' title='@{constitution_drain}'>
                    </div>
                    <div class='attr-container'>
                        <button class='button' type='roll' name='roll_intelligence' value='&{template:sf_generic} {{name=@{character_name}}} {{characterid=@{character_id}}} {{title=Intelligence}} {{r1=[[1d20+@{intelligence_mod}]]}}' data-i18n='intelligence' title=%{intelligence}>INTELLIGENCE</button>
                        <input class='mod' type='text' name='attr_intelligence_mod' readonly='true' title='@{intelligence_mod}' value='0'>
                        <div class='attr-total-container'>
                            <input class='base-attr attr' type='number' name='attr_intelligence_base' value='10' title='@{intelligence}'>
                            <input class='mod-debuff' type='radio' name='attr_intelligence_change' value='-1' hidden='true'>
                            <input class='mod-normal' type='radio' name='attr_intelligence_change' value='0' hidden='true' checked='checked'>
                            <input class='mod-buff' type='radio' name='attr_intelligence_change' value='1' hidden='true'>
                            <span class='modified-attr attr' readonly='true' type='number' name='attr_intelligence' value='10'>10</span>
                        </div>
                        <input class='pen' type='number' name='attr_intelligence_penalty' value='' title='@{intelligence_penalty}'>
                        <input class='drain' type='number' name='attr_intelligence_drain' value='' title='@{intelligence_drain}'>
                    </div>
                    <div class='attr-container'>
                        <button class='button' type='roll' name='roll_wisdom' value='&{template:sf_generic} {{name=@{character_name}}} {{characterid=@{character_id}}} {{title=Wisdom}} {{r1=[[1d20+@{wisdom_mod}]]}}' data-i18n='wisdom' title=%{wisdom}>WISDOM</button>
                        <input class='mod' type='text' name='attr_wisdom_mod' readonly='true' title='@{wisdom_mod}' value='0'>
                        <div class='attr-total-container'>
                            <input class='base-attr attr' type='number' name='attr_wisdom_base' value='10' title='@{wisdom}'>
                            <input class='mod-debuff' type='radio' name='attr_wisdom_change' value='-1' hidden='true'>
                            <input class='mod-normal' type='radio' name='attr_wisdom_change' value='0' hidden='true' checked='checked'>
                            <input class='mod-buff' type='radio' name='attr_wisdom_change' value='1' hidden='true'>
                            <span class='modified-attr attr' readonly='true' type='number' name='attr_wisdom' value='10'>10</span>
                        </div>
                        <input class='pen' type='number' name='attr_wisdom_penalty' value='' title='@{wisdom_penalty}'>
                        <input class='drain' type='number' name='attr_wisdom_drain' value='' title='@{wisdom_drain}'>
                    </div>
                    <div class='attr-container'>
                        <button class='button' type='roll' name='roll_charisma' value='&{template:sf_generic} {{name=@{character_name}}} {{characterid=@{character_id}}} {{title=Charisma}} {{r1=[[1d20+@{charisma_mod}]]}}' data-i18n='charisma' title=%{charisma}>CHARISMA</button>
                        <input class='mod' type='text' name='attr_charisma_mod' readonly='true' title='@{charisma_mod}' value='0'>
                        <div class='attr-total-container'>
                            <input class='base-attr attr' type='number' name='attr_charisma_base' value='10' title='@{charisma}'>
                            <input class='mod-debuff' type='radio' name='attr_charisma_change' value='-1' hidden='true'>
                            <input class='mod-normal' type='radio' name='attr_charisma_change' value='0' hidden='true' checked='checked'>
                            <input class='mod-buff' type='radio' name='attr_charisma_change' value='1' hidden='true'>
                            <span class='modified-attr attr' readonly='true' type='number' name='attr_charisma' value='10'>10</span>
                        </div>
                        <input class='pen' type='number' name='attr_charisma_penalty' value='' title='@{charisma_penalty}'>
                        <input class='drain' type='number' name='attr_charisma_drain' value='' title='@{charisma_drain}'>
                    </div>
                </div>
                <input class='full-health' type='radio' name='attr_health_status' readonly='true' hidden='true' value='0' checked='checked'>
                <input class='no-sp' type='radio' name='attr_health_status' value='1' readonly='true' hidden='true'>
                <input class='no-hp' type='radio' name='attr_health_status' value='2' readonly='true' hidden='true'>
                <input class='no-rp' type='radio' name='attr_health_status' value='3' readonly='true' hidden='true'>
                <div class='health-resolve-container section-container'>
                    <h1 class='section label' data-i18n='health'>HEALTH</h1>
                    <div class='health-container'>
                        <span class='health-label label stamina' data-i18n='sp'>SP</span>
                        <span class='health-label label hp' data-i18n='hp'>HP</span>
                        <span class='health-label label resolve' data-i18n='rp'>RP</span>
                        <span class='health-label label temp' data-i18n='temp-hp'>TMP</span>
                        <input class='current stamina' type='number' name='attr_sp' value='0' title=@{sp}>
                        <span class='slash stamina'>/</span>
                        <div class='attr-total-container'>
                            <input class='mod-debuff' type='radio' name='attr_sp_change' value='-1' hidden='true'>
                            <input class='mod-normal' type='radio' name='attr_sp_change' value='0' hidden='true' checked='checked'>
                            <input class='mod-buff' type='radio' name='attr_sp_change' value='1' hidden='true'>
                            <span class='max stamina modified-attr' type='number' name='attr_sp_max' readonly='true' value='0' title='@{sp|max}'>0</span>
                        </div>
                        <input class='current hp' type='number' name='attr_hp' value='0' title=@{hp}>
                        <span class='slash hp'>/</span>
                        <div class='attr-total-container'>
                            <input class='mod-debuff' type='radio' name='attr_hp_change' value='-1' hidden='true'>
                            <input class='mod-normal' type='radio' name='attr_hp_change' value='0' hidden='true' checked='checked'>
                            <input class='mod-buff' type='radio' name='attr_hp_change' value='1' hidden='true'>
                            <span class='max hp modified-attr' type='number' name='attr_hp_max' readonly='true' value='0' title=@{hp|max}>0</span>
                        </div>
                        <input class='current resolve' type='number' name='attr_rp' value='0' title=@{rp}>
                        <span class='slash resolve'>/</span>
                        <div class='attr-total-container'>
                            <input class='mod-debuff' type='radio' name='attr_rp_change' value='-1' hidden='true'>
                            <input class='mod-normal' type='radio' name='attr_rp_change' value='0' hidden='true' checked='checked'>
                            <input class='mod-buff' type='radio' name='attr_rp_change' value='1' hidden='true'>
                            <span class='max resolve modified-attr' type='number' name='attr_rp_max' readonly='true' value='0' title=@{rp|max}>0</span>
                        </div>
                        <input class='current temp' type='number' name='attr_temp_hp' value='0' title=@{temp_hp}>
                        <span class='slash temp'>/</span>
                        <div class='attr-total-container'>
                            <input class='mod-debuff' type='radio' name='attr_temp_hp_change' value='-1' hidden='true'>
                            <input class='mod-normal' type='radio' name='attr_temp_hp_change' value='0' hidden='true' checked='checked'>
                            <input class='mod-buff' type='radio' name='attr_temp_hp_change' value='1' hidden='true'>
                            <span class='max temp modified-attr' type='number' name='attr_temp_hp_max' readonly='true' value='0' title=@{temp_hp|max}>0</span>
                        </div>
                    </div>
                </div>
                <div class='ac-container section-container'>
                    <h1 class='section label' data-i18n='armorclass'>ARMOR CLASS</h1>
                    <div class='armor-container'>
                        <span class='ac'></span>
                        <span class='label tot' data-i18n='total'>TOTAL</span>
                        <span class='label arm' data-i18n='armor'>ARMOR</span>
                        <span class='label abi'></span>
                    </div>
                    <div class='armor-container'>
                        <span class='label ac' data-i18n='eac'>EAC</span>
                        <div class='attr-total-container'>
                            <input class='mod-debuff' type='radio' name='attr_eac_change' value='-1' hidden='true'>
                            <input class='mod-normal' type='radio' name='attr_eac_change' value='0' hidden='true' checked='checked'>
                            <input class='mod-buff' type='radio' name='attr_eac_change' value='1' hidden='true'>
                            <span class='tot mod modified-attr' readonly='true' name='attr_eac' title='@{eac}' value='10'>10</span>
                        </div>
                        <div class='attr-total-container'>
                            <input class='mod-debuff' type='radio' name='attr_eac_armor_change' value='-1' hidden='true'>
                            <input class='mod-normal' type='radio' name='attr_eac_armor_change' value='0' hidden='true' checked='checked'>
                            <input class='mod-buff' type='radio' name='attr_eac_armor_change' value='1' hidden='true'>
                            <span class='arm mod modified-attr' readonly='true' name='attr_eac_armor' title='@{eac_armor}' value='0'>0</span>
                        </div>
                        <select class='label abi' name='attr_eac_ability' style='width; .5em;'>
                            <option value='strength_mod'>STR</option>
                            <option value='dexterity_mod' selected='selected'>DEX</option>
                            <option value='constitution_mod'>CON</option>
                            <option value='intelligence_mod'>INT</option>
                            <option value='wisdom_mod'>WIS</option>
                            <option value='charisma_mod'>CHA</option>
                        </select>
                    </div>
                    <div class='armor-container'>
                        <span class='label ac' data-i18n='kac'>KAC</span>
                        <div class='attr-total-container'>
                            <input class='mod-debuff' type='radio' name='attr_kac_change' value='-1' hidden='true'>
                            <input class='mod-normal' type='radio' name='attr_kac_change' value='0' hidden='true' checked='checked'>
                            <input class='mod-buff' type='radio' name='attr_kac_change' value='1' hidden='true'>
                            <span class='tot mod modified-attr' readonly='true' name='attr_kac' title='@{kac}' value='10'>10</span>
                        </div>
                        <div class='attr-total-container'>
                            <input class='mod-debuff' type='radio' name='attr_kac_armor_change' value='-1' hidden='true'>
                            <input class='mod-normal' type='radio' name='attr_kac_armor_change' value='0' hidden='true' checked='checked'>
                            <input class='mod-buff' type='radio' name='attr_kac_armor_change' value='1' hidden='true'>
                            <span class='arm mod modified-attr' readonly='true' name='attr_kac_armor' title='@{kac_armor}' value='0'>0</span>
                        </div>
                        <select class='label abi' name='attr_kac_ability' style='width; .5em;'>
                            <option value='strength_mod'>STR</option>
                            <option value='dexterity_mod' selected='selected'>DEX</option>
                            <option value='constitution_mod'>CON</option>
                            <option value='intelligence_mod'>INT</option>
                            <option value='wisdom_mod'>WIS</option>
                            <option value='charisma_mod'>CHA</option>
                        </select>
                    </div>
                    <div class='armor-container'>
                        <span class='label ac' data-i18n='cmd'>CMD</span>
                        <div class='attr-total-container'>
                            <input class='mod-debuff' type='radio' name='attr_cmd_change' value='-1' hidden='true'>
                            <input class='mod-normal' type='radio' name='attr_cmd_change' value='0' hidden='true' checked='checked'>
                            <input class='mod-buff' type='radio' name='attr_cmd_change' value='1' hidden='true'>
                            <span class='tot mod modified-attr' readonly='true' name='attr_cmd' title='@{cmd}' value='18'>18</span>
                        </div>
                        <span class='arm'></span>
                        <span class='abi'></span>
                    </div>
                    <div class='armor-container'>
                        <span class='label dr-span' data-i18n='dr_resist'>DR/RESIST</span>
                        <input class='dr' type='text' name='attr_dr' title='@{dr}' placeholder='5/- Fire 5'>
                    </div>
                    <div class='armor-container'>
                        <textarea class='ac-notes' name='attr_ac_notes' title=@{ac_notes} placeholder='Notes'></textarea>
                    </div>
                </div>
                <div class='saving-container section-container'>
                    <h1 class='section label' data-i18n='savingthrows'>SAVING THROWS</h1>
                    <div class='save-container'>
                        <span class='label base' data-i18n='base'>BASE</span>
                        <div class='label abi'></div>
                    </div>
                    <div class='save-container'>
                        <button type='roll' name='roll_fort' value='&{template:sf_generic} {{name=@{character_name}}} {{characterid=@{character_id}}} {{title=Fortitude}} {{r1=[[1d20+@{fort}]] }}' data-i18n='fort' title='%{fort}'>FORT</button>
                        <div class='attr-total-container'>
                            <input class='mod-debuff' type='radio' name='attr_fort_change' value='-1' hidden='true'>
                            <input class='mod-normal' type='radio' name='attr_fort_change' value='0' hidden='true' checked='checked'>
                            <input class='mod-buff' type='radio' name='attr_fort_change' value='1' hidden='true'>
                            <span class='mod tot' readonly='true' type='text' name='attr_fort' title=@{fort} value='0'>0</span>
                        </div>
                        <input class='label base mod' readonly='true' name='attr_fort_base' value='0'>
                        <select class='label abi' name='attr_fort_ability' style='width; .5em;'>
                            <option value='dexterity_mod'>DEX</option>
                            <option value='strength_mod'>STR</option>
                            <option value='constitution_mod' selected='selected'>CON</option>
                            <option value='intelligence_mod'>INT</option>
                            <option value='wisdom_mod'>WIS</option>
                            <option value='charisma_mod'>CHA</option>
                        </select>
                    </div>
                    <div class='save-container'>
                        <button type='roll' name='roll_ref' value='&{template:sf_generic} {{name=@{character_name}}} {{characterid=@{character_id}}} {{title=Reflex}} {{r1=[[1d20+@{ref}]] }}' data-i18n='ref' title='%{ref}'>REF</button>
                        <div class='attr-total-container'>
                            <input class='mod-debuff' type='radio' name='attr_ref_change' value='-1' hidden='true'>
                            <input class='mod-normal' type='radio' name='attr_ref_change' value='0' hidden='true' checked='checked'>
                            <input class='mod-buff' type='radio' name='attr_ref_change' value='1' hidden='true'>
                            <span class='mod tot' readonly='true' type='text' name='attr_ref' title=@{ref} value='0'>0</span>
                        </div>
                        <input class='label base mod' readonly='true' name='attr_ref_base' value='0'>
                        <select class='label abi' name='attr_ref_ability' style='width; .5em;'>
                            <option value='dexterity_mod' selected='selected'>DEX</option>
                            <option value='strength_mod'>STR</option>
                            <option value='constitution_mod'>CON</option>
                            <option value='intelligence_mod'>INT</option>
                            <option value='wisdom_mod'>WIS</option>
                            <option value='charisma_mod'>CHA</option>
                        </select>
                    </div>
                    <div class='save-container'>
                        <button type='roll' name='roll_will' value='&{template:sf_generic} {{name=@{character_name}}} {{characterid=@{character_id}}} {{title=Will}} {{r1=[[1d20+@{will}]] }}' data-i18n='will' title='%{will}'>WILL</button>
                        <div class='attr-total-container'>
                            <input class='mod-debuff' type='radio' name='attr_will_change' value='-1' hidden='true'>
                            <input class='mod-normal' type='radio' name='attr_will_change' value='0' hidden='true' checked='checked'>
                            <input class='mod-buff' type='radio' name='attr_will_change' value='1' hidden='true'>
                            <span class='mod tot' readonly='true' type='text' name='attr_will' title=@{will} value='0'>0</span>
                        </div>
                        <input class='label base mod' readonly='true' name='attr_will_base' value='0'>
                        <select class='label abi' name='attr_will_ability' style='width; .5em;'>
                            <option value='dexterity_mod'>DEX</option>
                            <option value='strength_mod'>STR</option>
                       <option value='constitution_mod'>CON</option>
                            <option value='intelligence_mod'>INT</option>
                            <option value='wisdom_mod' selected='selected'>WIS</option>
                            <option value='charisma_mod'>CHA</option>
                        </select>
                    </div>
                    <div class='save-container'>
                        <textarea name='attr_save_notes' title=@{save_notes} placeholder='Notes'></textarea>
                    </div>
                </div>
                <div class='skills-container section-container'>
                    <h1 class='section label' data-i18n='skills'>SKILLS</h1>
                    <div class='skill-container'>
                        <span class='label ranks' data-i18n='ranks'>RANKS</span>
                        <div class='arith'> </div>
                        <span class='label class-skill' data-i18n='class-skill'>CS</span>
                        <div class='arith'> </div>
                        <span class='label abi'></span>
                    </div>
                    <div class='skill-container'>
                        <input class="show-options" type="checkbox" name="attr_acrobatics_show_options"><span>y</span>
                        <div class='display'>
                            <input class='acp' type='checkbox' name='attr_acrobatics_acp' hidden='true' value='1' checked='checked'>
                            <button class='acp' type='roll' name='roll_acrobatics' value='&{template:sf_generic} {{name=@{character_name}}} {{characterid=@{character_id}}} {{title=Acrobatics}}  {{r1=[[1d20+@{acrobatics}]]}}' data-i18n='acrobatics' title='%{acrobatics}'>ACROBATICS</button>
                            <input class='mod-debuff' type='radio' name='attr_acrobatics_change' value='-1' hidden='true'>
                            <input class='mod-normal' type='radio' name='attr_acrobatics_change' value='0' hidden='true' checked='checked'>
                            <input class='mod-buff' type='radio' name='attr_acrobatics_change' value='1' hidden='true'>
                            <span class='mod tot modified-attr' readonly='true' type='text' name='attr_acrobatics' title='@{acrobatics}' value='0'>0</span>
                            <div class='arith'>=</div>
                            <input class='ranks' type='number' name='attr_acrobatics_ranks' value='' title='@{acrobatics_ranks}'>
                            <div class='arith'>+</div>
                            <div class='class-skill'><input type='checkbox' name='attr_acrobatics_class_skill' title='@{acrobatics_class_skill}' value='3'><span class='cs'>3</span></div>
                            <div class='arith'>+</div>
                            <select class='label abi' name='attr_acrobatics_ability' style='width; .5em;'>
                                <option value='strength_mod'>STR</option>
                                <option value='dexterity_mod' selected='selected'>DEX</option>
                                <option value='constitution_mod'>CON</option>
                                <option value='intelligence_mod'>INT</option>
                                <option value='wisdom_mod'>WIS</option>
                                <option value='charisma_mod'>CHA</option>
                            </select>
                        </div>
                        <div class='skill-options'>
                            <div class='row'>
                                <span class='skill-span label' data-i18n='acp'>ACP</span>
                                <input class='acp' type='checkbox' name='attr_acrobatics_acp' value='1' checked='checked'>
                            </div>
                            <textarea class='skill-description' name='attr_acrobatics_description' placeholder='Notes'></textarea>
                            <input name='attr_acrobatics_buff_notes' hidden='true'>
                        </div>
                    </div>
                    <div class='skill-container'>
                        <input class="show-options" type="checkbox" name="attr_athletics_show_options"><span>y</span>
                        <div class='display'>
                            <input class='acp' type='checkbox' name='attr_athletics_acp' hidden='true' value='1' checked='checked'>
                            <button class='acp' type='roll' name='roll_athletics' value='&{template:sf_generic} {{name=@{character_name}}} {{characterid=@{character_id}}} {{title=Athletics}}  {{r1=[[1d20+@{athletics}]]}}' data-i18n='athletics' title='%{athletics}'>ATHLETICS</button>
                            <input class='mod-debuff' type='radio' name='attr_athletics_change' value='-1' hidden='true'>
                            <input class='mod-normal' type='radio' name='attr_athletics_change' value='0' hidden='true' checked='checked'>
                            <input class='mod-buff' type='radio' name='attr_athletics_change' value='1' hidden='true'>
                            <span class='mod tot modified-attr' readonly='true' type='text' name='attr_athletics' title='@{athletics}' value='0'>0</span>
                            <div class='arith'>=</div>
                            <input class='ranks' type='number' name='attr_athletics_ranks' value='' title='@{athletics_ranks}'>
                            <div class='arith'>+</div>
                            <div class='class-skill'><input type='checkbox' name='attr_athletics_class_skill' title='@{athletics_class_skill}' value='3'><span class='cs'>3</span></div>
                            <div class='arith'>+</div>
                            <select class='label abi' name='attr_athletics_ability' style='width; .5em;'>
                                <option value='strength_mod' selected='selected'>STR</option>
                                <option value='dexterity_mod'>DEX</option>
                                <option value='constitution_mod'>CON</option>
                                <option value='intelligence_mod'>INT</option>
                                <option value='wisdom_mod'>WIS</option>
                                <option value='charisma_mod'>CHA</option>
                            </select>
                        </div>
                        <div class='skill-options'>
                            <div class='row'>
                                <span class='skill-span label' data-i18n='acp'>ACP</span>
                                <input class='acp' type='checkbox' name='attr_athletics_acp' value='1' checked='checked'>
                            </div>
                            <textarea class='skill-description' name='attr_athletics_description' placeholder='Notes'></textarea>
                            <input name='attr_athletics_buff_notes' hidden='true'>
                        </div>
                    </div>
                    <div class='skill-container'>
                        <input class="show-options" type="checkbox" name="attr_bluff_show_options"><span>y</span>
                        <div class='display'>
                            <input class='acp' type='checkbox' name='attr_bluff_acp' hidden='true' value='1'>
                            <button class='acp' type='roll' name='roll_bluff' value='&{template:sf_generic} {{name=@{character_name}}} {{characterid=@{character_id}}} {{title=Bluff}}  {{r1=[[1d20+@{bluff}]]}}' data-i18n='bluff' title='%{bluff}'>BLUFF </button>
                            <input class='mod-debuff' type='radio' name='attr_bluff_change' value='-1' hidden='true'>
                            <input class='mod-normal' type='radio' name='attr_bluff_change' value='0' hidden='true' checked='checked'>
                            <input class='mod-buff' type='radio' name='attr_bluff_change' value='1' hidden='true'>
                            <span class='mod tot modified-attr' readonly='true' type='text' name='attr_bluff' title='@{bluff}' value='0'>0</span>
                            <div class='arith'>=</div>
                            <input class='ranks' type='number' name='attr_bluff_ranks' value='' title='@{bluff_ranks}'>
                            <div class='arith'>+</div>
                            <div class='class-skill'><input type='checkbox' name='attr_bluff_class_skill' title='@{bluff_class_skill}' value='3'><span class='cs'>3</span></div>
                            <div class='arith'>+</div>
                            <select class='label abi' name='attr_bluff_ability' style='width; .5em;'>
                                <option value='strength_mod'>STR</option>
                                <option value='dexterity_mod'>DEX</option>
                                <option value='constitution_mod'>CON</option>
                                <option value='intelligence_mod'>INT</option>
                                <option value='wisdom_mod'>WIS</option>
                                <option value='charisma_mod' selected='selected'>CHA</option>
                            </select>
                        </div>
                        <div class='skill-options'>
                            <div class='row'>
                                <span class='skill-span label' data-i18n='acp'>ACP</span>
                                <input class='acp' type='checkbox' name='attr_bluff_acp' value='1'>
                            </div>
                            <textarea class='skill-description' name='attr_bluff_description' placeholder='Notes'></textarea>
                            <input name='attr_bluff_buff_notes' hidden='true'>
                        </div>
                    </div>
                    <div class='skill-container'>
                        <input class="show-options" type="checkbox" name="attr_computers_show_options"><span>y</span>
                        <div class='display'>
                            <input class='acp' type='checkbox' name='attr_computers_acp' hidden='true' value='1'>
                            <button class='acp' type='roll' name='roll_computers' value='&{template:sf_generic} {{name=@{character_name}}} {{characterid=@{character_id}}} {{title=Computers}}  {{r1=[[1d20+@{computers}]]}}' data-i18n='computers' title='%{computers}'>COMPUTERS</button>
                            <input class='mod-debuff' type='radio' name='attr_computers_change' value='-1' hidden='true'>
                            <input class='mod-normal' type='radio' name='attr_computers_change' value='0' hidden='true' checked='checked'>
                            <input class='mod-buff' type='radio' name='attr_computers_change' value='1' hidden='true'>
                            <span class='mod tot modified-attr' readonly='true' type='text' name='attr_computers' title='@{computers}' value='0'>0</span>
                            <div class='arith'>=</div>
                            <input class='ranks' type='number' name='attr_computers_ranks' value='' title='@{computers_ranks}'>
                            <div class='arith'>+</div>
                            <div class='class-skill'><input type='checkbox' name='attr_computers_class_skill' title='@{computers_class_skill}' value='3'><span class='cs'>3</span></div>
                            <div class='arith'>+</div>
                            <select class='label abi' name='attr_computers_ability' style='width; .5em;'>
                                <option value='strength_mod'>STR</option>
                                <option value='dexterity_mod'>DEX</option>
                                <option value='constitution_mod'>CON</option>
                                <option value='intelligence_mod' selected='selected'>INT</option>
                                <option value='wisdom_mod'>WIS</option>
                                <option value='charisma_mod'>CHA</option>
                            </select>
                        </div>
                        <div class='skill-options'>
                            <div class='row'>
                                <span class='skill-span label' data-i18n='acp'>ACP</span>
                                <input class='acp' type='checkbox' name='attr_computers_acp' value='1'>
                            </div>
                            <textarea class='skill-description' name='attr_computers_description' placeholder='Notes'></textarea>
                            <input name='attr_computers_buff_notes' hidden='true'>
                        </div>
                    </div>
                    <div class='skill-container'>
                        <input class="show-options" type="checkbox" name="attr_culture_show_options"><span>y</span>
                        <div class='display'>
                            <input class='acp' type='checkbox' name='attr_culture_acp' hidden='true' value='1'>
                            <button class='acp' type='roll' name='roll_culture' value='&{template:sf_generic} {{name=@{character_name}}} {{characterid=@{character_id}}} {{title=Culture}}  {{r1=[[1d20+@{culture}]]}}' data-i18n='culture' title='%{culture}'>CULTURE</button>
                            <input class='mod-debuff' type='radio' name='attr_culture_change' value='-1' hidden='true'>
                            <input class='mod-normal' type='radio' name='attr_culture_change' value='0' hidden='true' checked='checked'>
                            <input class='mod-buff' type='radio' name='attr_culture_change' value='1' hidden='true'>
                            <span class='mod tot modified-attr' readonly='true' type='text' name='attr_culture' title='@{culture}' value='0'>0</span>
                            <div class='arith'>=</div>
                            <input class='ranks' type='number' name='attr_culture_ranks' value='' title='@{culture_ranks}'>
                            <div class='arith'>+</div>
                            <div class='class-skill'><input type='checkbox' name='attr_culture_class_skill' title='@{culture_class_skill}' value='3'><span class='cs'>3</span></div>
                            <div class='arith'>+</div>
                            <select class='label abi' name='attr_culture_ability' style='width; .5em;'>
                                <option value='strength_mod'>STR</option>
                                <option value='dexterity_mod'>DEX</option>
                                <option value='constitution_mod'>CON</option>
                                <option value='intelligence_mod' selected='selected'>INT</option>
                                <option value='wisdom_mod'>WIS</option>
                                <option value='charisma_mod'>CHA</option>
                            </select>
                        </div>
                        <div class='skill-options'>
                            <div class='row'>
                                <span class='skill-span label' data-i18n='acp'>ACP</span>
                                <input class='acp' type='checkbox' name='attr_culture_acp' value='1'>
                            </div>
                            <textarea class='skill-description' name='attr_culture_description' placeholder='Notes'></textarea>
                            <input name='attr_culture_buff_notes' hidden='true'>
                        </div>
                    </div>
                    <div class='skill-container'>
                        <input class="show-options" type="checkbox" name="attr_diplomacy_show_options"><span>y</span>
                        <div class='display'>
                            <input class='acp' type='checkbox' name='attr_diplomacy_acp' hidden='true' value='1'>
                            <button class='acp' type='roll' name='roll_diplomacy' value='&{template:sf_generic} {{name=@{character_name}}} {{characterid=@{character_id}}} {{title=Diplomacy}}  {{r1=[[1d20+@{diplomacy}]]}}' data-i18n='diplomacy' title='%{diplomacy}'>DIPLOMACY</button>
                            <input class='mod-debuff' type='radio' name='attr_diplomacy_change' value='-1' hidden='true'>
                            <input class='mod-normal' type='radio' name='attr_diplomacy_change' value='0' hidden='true' checked='checked'>
                            <input class='mod-buff' type='radio' name='attr_diplomacy_change' value='1' hidden='true'>
                            <span class='mod tot modified-attr' readonly='true' type='text' name='attr_diplomacy' title='@{diplomacy}' value='0'>0</span>
                            <div class='arith'>=</div>
                            <input class='ranks' type='number' name='attr_diplomacy_ranks' value='' title='@{diplomacy_ranks}'>
                            <div class='arith'>+</div>
                            <div class='class-skill'><input type='checkbox' name='attr_diplomacy_class_skill' title='@{diplomacy_class_skill}' value='3'><span class='cs'>3</span></div>
                            <div class='arith'>+</div>
                            <select class='label abi' name='attr_diplomacy_ability' style='width; .5em;'>
                                <option value='strength_mod'>STR</option>
                                <option value='dexterity_mod'>DEX</option>
                                <option value='constitution_mod'>CON</option>
                                <option value='intelligence_mod'>INT</option>
                                <option value='wisdom_mod'>WIS</option>
                                <option value='charisma_mod' selected='selected'>CHA</option>
                            </select>
                        </div>
                        <div class='skill-options'>
                            <div class='row'>
                                <span class='skill-span label' data-i18n='acp'>ACP</span>
                                <input class='acp' type='checkbox' name='attr_diplomacy_acp' value='1'>
                            </div>
                            <textarea class='skill-description' name='attr_diplomacy_description' placeholder='Notes'></textarea>
                            <input name='attr_diplomacy_buff_notes' hidden='true'>
                        </div>
                    </div>
                    <div class='skill-container'>
                        <input class="show-options" type="checkbox" name="attr_disguise_show_options"><span>y</span>
                        <div class='display'>
                            <input class='acp' type='checkbox' name='attr_disguise_acp' hidden='true' value='1'>
                            <button class='acp' type='roll' name='roll_disguise' value='&{template:sf_generic} {{name=@{character_name}}} {{characterid=@{character_id}}} {{title=Disguise}}  {{r1=[[1d20+@{disguise}]]}}' data-i18n='disguise' title='%{disguise}'>DISGUISE</button>
                            <input class='mod-debuff' type='radio' name='attr_disguise_change' value='-1' hidden='true'>
                            <input class='mod-normal' type='radio' name='attr_disguise_change' value='0' hidden='true' checked='checked'>
                            <input class='mod-buff' type='radio' name='attr_disguise_change' value='1' hidden='true'>
                            <span class='mod tot modified-attr' readonly='true' type='text' name='attr_disguise' title='@{disguise}' value='0'>0</span>
                            <div class='arith'>=</div>
                            <input class='ranks' type='number' name='attr_disguise_ranks' value='' title='@{disguise_ranks}'>
                            <div class='arith'>+</div>
                            <div class='class-skill'><input type='checkbox' name='attr_disguise_class_skill' title='@{disguise_class_skill}' value='3'><span class='cs'>3</span></div>
                            <div class='arith'>+</div>
                            <select class='label abi' name='attr_disguise_ability' style='width; .5em;'>
                                <option value='strength_mod'>STR</option>
                                <option value='dexterity_mod'>DEX</option>
                                <option value='constitution_mod'>CON</option>
                                <option value='intelligence_mod'>INT</option>
                                <option value='wisdom_mod'>WIS</option>
                                <option value='charisma_mod' selected='selected'>CHA</option>
                            </select>
                        </div>
                        <div class='skill-options'>
                            <div class='row'>
                                <span class='skill-span label' data-i18n='acp'>ACP</span>
                                <input class='acp' type='checkbox' name='attr_disguise_acp' value='1'>
                            </div>
                            <textarea class='skill-description' name='attr_disguise_description' placeholder='Notes'></textarea>
                            <input name='attr_disguise_buff_notes' hidden='true'>
                        </div>
                    </div>
                    <div class='skill-container'>
                        <input class="show-options" type="checkbox" name="attr_engineering_show_options"><span>y</span>
                        <div class='display'>
                            <input class='acp' type='checkbox' name='attr_engineering_acp' hidden='true' value='1'>
                            <button class='acp' type='roll' name='roll_engineering' value='&{template:sf_generic} {{name=@{character_name}}} {{characterid=@{character_id}}} {{title=Engineering}}  {{r1=[[1d20+@{engineering}]]}}' data-i18n='engineering' title='%{engineering}'>ENGINEERING</button>
                            <input class='mod-debuff' type='radio' name='attr_engineering_change' value='-1' hidden='true'>
                            <input class='mod-normal' type='radio' name='attr_engineering_change' value='0' hidden='true' checked='checked'>
                            <input class='mod-buff' type='radio' name='attr_engineering_change' value='1' hidden='true'>
                            <span class='mod tot modified-attr' readonly='true' type='text' name='attr_engineering' title='@{engineering}' value='0'>0</span>
                            <div class='arith'>=</div>
                            <input class='ranks' type='number' name='attr_engineering_ranks' value='' title='@{engineering_ranks}'>
                            <div class='arith'>+</div>
                            <div class='class-skill'><input type='checkbox' name='attr_engineering_class_skill' title='@{engineering_class_skill}' value='3'><span class='cs'>3</span></div>
                            <div class='arith'>+</div>
                            <select class='label abi' name='attr_engineering_ability' style='width; .5em;'>
                                <option value='strength_mod'>STR</option>
                                <option value='dexterity_mod'>DEX</option>
                                <option value='constitution_mod'>CON</option>
                                <option value='intelligence_mod' selected='selected'>INT</option>
                                <option value='wisdom_mod'>WIS</option>
                                <option value='charisma_mod'>CHA</option>
                            </select>
                        </div>
                        <div class='skill-options'>
                            <div class='row'>
                                <span class='skill-span label' data-i18n='acp'>ACP</span>
                                <input class='acp' type='checkbox' name='attr_engineering_acp' value='1'>
                            </div>
                            <textarea class='skill-description' name='attr_engineering_description' placeholder='Notes'></textarea>
                            <input name='attr_engineering_buff_notes' hidden='true'>
                        </div>
                    </div>
                    <div class='skill-container'>
                        <input class="show-options" type="checkbox" name="attr_intimidate_show_options"><span>y</span>
                        <div class='display'>
                            <input class='acp' type='checkbox' name='attr_intimidate_acp' hidden='true' value='1'>
                            <button class='acp' type='roll' name='roll_intimidate' value='&{template:sf_generic} {{name=@{character_name}}} {{characterid=@{character_id}}} {{title=Intimidate}}  {{r1=[[1d20+@{intimidate}]]}}' data-i18n='intimidate' title='%{intimidate}'>INTIMIDATE</button>
                            <input class='mod-debuff' type='radio' name='attr_intimidate_change' value='-1' hidden='true'>
                            <input class='mod-normal' type='radio' name='attr_intimidate_change' value='0' hidden='true' checked='checked'>
                            <input class='mod-buff' type='radio' name='attr_intimidate_change' value='1' hidden='true'>
                            <span class='mod tot modified-attr' readonly='true' type='text' name='attr_intimidate' title='@{intimidate}' value='0'>0</span>
                            <div class='arith'>=</div>
                            <input class='ranks' type='number' name='attr_intimidate_ranks' value='' title='@{intimidate_ranks}'>
                            <div class='arith'>+</div>
                            <div class='class-skill'><input type='checkbox' name='attr_intimidate_class_skill' title='@{intimidate_class_skill}' value='3'><span class='cs'>3</span></div>
                            <div class='arith'>+</div>
                            <select class='label abi' name='attr_intimidate_ability' style='width; .5em;'>
                                <option value='strength_mod'>STR</option>
                                <option value='dexterity_mod'>DEX</option>
                                <option value='constitution_mod'>CON</option>
                                <option value='intelligence_mod'>INT</option>
                                <option value='wisdom_mod'>WIS</option>
                                <option value='charisma_mod' selected='selected'>CHA</option>
                            </select>
                        </div>
                        <div class='skill-options'>
                            <div class='row'>
                                <span class='skill-span label' data-i18n='acp'>ACP</span>
                                <input class='acp' type='checkbox' name='attr_intimidate_acp' value='1'>
                            </div>
                            <textarea class='skill-description' name='attr_intimidate_description' placeholder='Notes'></textarea>
                            <input name='attr_intimidate_buff_notes' hidden='true'>
                        </div>
                    </div>
                    <div class='skill-container'>
                        <input class="show-options" type="checkbox" name="attr_life_science_show_options"><span>y</span>
                        <div class='display'>
                            <input class='acp' type='checkbox' name='attr_life_science_acp' hidden='true' value='1'>
                            <button class='acp' type='roll' name='roll_life_science' value='&{template:sf_generic} {{name=@{character_name}}} {{characterid=@{character_id}}} {{title=Life Science}}  {{r1=[[1d20+@{life_science}]]}}' data-i18n='life_science' title='%{life_science}'>LIFE SCIENCE</button>
                            <input class='mod-debuff' type='radio' name='attr_life_science_change' value='-1' hidden='true'>
                            <input class='mod-normal' type='radio' name='attr_life_science_change' value='0' hidden='true' checked='checked'>
                            <input class='mod-buff' type='radio' name='attr_life_science_change' value='1' hidden='true'>
                            <span class='mod tot modified-attr' readonly='true' type='text' name='attr_life_science' title='@{life_science}' value='0'>0</span>
                            <div class='arith'>=</div>
                            <input class='ranks' type='number' name='attr_life_science_ranks' value='' title='@{life_science_ranks}'>
                            <div class='arith'>+</div>
                            <div class='class-skill'><input type='checkbox' name='attr_life_science_class_skill' title='@{life_science_class_skill}' value='3'><span class='cs'>3</span></div>
                            <div class='arith'>+</div>
                            <select class='label abi' name='attr_life_science_ability' style='width; .5em;'>
                                <option value='strength_mod'>STR</option>
                                <option value='dexterity_mod'>DEX</option>
                                <option value='constitution_mod'>CON</option>
                                <option value='intelligence_mod' selected='selected'>INT</option>
                                <option value='wisdom_mod'>WIS</option>
                                <option value='charisma_mod'>CHA</option>
                            </select>
                        </div>
                        <div class='skill-options'>
                            <div class='row'>
                                <span class='skill-span label' data-i18n='acp'>ACP</span>
                                <input class='acp' type='checkbox' name='attr_life_science_acp' value='1'>
                            </div>
                            <textarea class='skill-description' name='attr_life_science_description' placeholder='Notes'></textarea>
                            <input name='attr_life_science_buff_notes' hidden='true'>
                        </div>
                    </div>
                    <div class='skill-container'>
                        <input class="show-options" type="checkbox" name="attr_medicine_show_options"><span>y</span>
                        <div class='display'>
                            <input class='acp' type='checkbox' name='attr_medicine_acp' hidden='true' value='1'>
                            <button class='acp' type='roll' name='roll_medicine' value='&{template:sf_generic} {{name=@{character_name}}} {{characterid=@{character_id}}} {{title=Medicine}}  {{r1=[[1d20+@{medicine}]]}}' data-i18n='medicine' title='%{medicine}'>MEDICINE </button>
                            <input class='mod-debuff' type='radio' name='attr_medicine_change' value='-1' hidden='true'>
                            <input class='mod-normal' type='radio' name='attr_medicine_change' value='0' hidden='true' checked='checked'>
                            <input class='mod-buff' type='radio' name='attr_medicine_change' value='1' hidden='true'>
                            <span class='mod tot modified-attr' readonly='true' type='text' name='attr_medicine' title='@{medicine}' value='0'>0</span>
                            <div class='arith'>=</div>
                            <input class='ranks' type='number' name='attr_medicine_ranks' value='' title='@{medicine_ranks}'>
                            <div class='arith'>+</div>
                            <div class='class-skill'><input type='checkbox' name='attr_medicine_class_skill' title='@{medicine_class_skill}' value='3'><span class='cs'>3</span></div>
                            <div class='arith'>+</div>
                            <select class='label abi' name='attr_medicine_ability' style='width; .5em;'>
                                <option value='strength_mod'>STR</option>
                                <option value='dexterity_mod'>DEX</option>
                                <option value='constitution_mod'>CON</option>
                                <option value='intelligence_mod' selected='selected'>INT</option>
                                <option value='wisdom_mod'>WIS</option>
                                <option value='charisma_mod'>CHA</option>
                            </select>
                        </div>
                        <div class='skill-options'>
                            <div class='row'>
                                <span class='skill-span label' data-i18n='acp'>ACP</span>
                                <input class='acp' type='checkbox' name='attr_medicine_acp' value='1'>
                            </div>
                            <textarea class='skill-description' name='attr_medicine_description' placeholder='Notes'></textarea>
                            <input name='attr_medicine_buff_notes' hidden='true'>
                        </div>
                    </div>
                    <div class='skill-container'>
                        <input class="show-options" type="checkbox" name="attr_mysticism_show_options"><span>y</span>
                        <div class='display'>
                            <input class='acp' type='checkbox' name='attr_mysticism_acp' hidden='true' value='1'>
                            <button class='acp' type='roll' name='roll_mysticism' value='&{template:sf_generic} {{name=@{character_name}}} {{characterid=@{character_id}}} {{title=Mysticism}}  {{r1=[[1d20+@{mysticism}]]}}' data-i18n='mysticism' title='%{mysticism}'>MYSTICISM </button>
                            <input class='mod-debuff' type='radio' name='attr_mysticism_change' value='-1' hidden='true'>
                            <input class='mod-normal' type='radio' name='attr_mysticism_change' value='0' hidden='true' checked='checked'>
                            <input class='mod-buff' type='radio' name='attr_mysticism_change' value='1' hidden='true'>
                            <span class='mod tot modified-attr' readonly='true' type='text' name='attr_mysticism' title='@{mysticism}' value='0'>0</span>
                            <div class='arith'>=</div>
                            <input class='ranks' type='number' name='attr_mysticism_ranks' value='' title='@{mysticism_ranks}'>
                            <div class='arith'>+</div>
                            <div class='class-skill'><input type='checkbox' name='attr_mysticism_class_skill' title='@{mysticism_class_skill}' value='3'><span class='cs'>3</span></div>
                            <div class='arith'>+</div>
                            <select class='label abi' name='attr_mysticism_ability' style='width; .5em;'>
                                <option value='strength_mod'>STR</option>
                                <option value='dexterity_mod'>DEX</option>
                                <option value='constitution_mod'>CON</option>
                                <option value='intelligence_mod'>INT</option>
                                <option value='wisdom_mod' selected='selected'>WIS</option>
                                <option value='charisma_mod'>CHA</option>
                            </select>
                        </div>
                        <div class='skill-options'>
                            <div class='row'>
                                <span class='skill-span label' data-i18n='acp'>ACP</span>
                                <input class='acp' type='checkbox' name='attr_mysticism_acp' value='1'>
                            </div>
                            <textarea class='skill-description' name='attr_mysticism_description' placeholder='Notes'></textarea>
                            <input name='attr_mysticism_buff_notes' hidden='true'>
                        </div>
                    </div>
                    <div class='skill-container'>
                        <input class="show-options" type="checkbox" name="attr_perception_show_options"><span>y</span>
                        <div class='display'>
                            <input class='acp' type='checkbox' name='attr_perception_acp' hidden='true' value='1'>
                            <button class='acp' type='roll' name='roll_perception' value='&{template:sf_generic} {{name=@{character_name}}} {{characterid=@{character_id}}} {{title=Perception}}  {{r1=[[1d20+@{perception}]]}}' data-i18n='perception' title='%{perception}'>PERCEPTION </button>
                            <input class='mod-debuff' type='radio' name='attr_perception_change' value='-1' hidden='true'>
                            <input class='mod-normal' type='radio' name='attr_perception_change' value='0' hidden='true' checked='checked'>
                            <input class='mod-buff' type='radio' name='attr_perception_change' value='1' hidden='true'>
                            <span class='mod tot modified-attr' readonly='true' type='text' name='attr_perception' title='@{perception}' value='0'>0</span>
                            <div class='arith'>=</div>
                            <input class='ranks' type='number' name='attr_perception_ranks' value='' title='@{perception_ranks}'>
                            <div class='arith'>+</div>
                            <div class='class-skill'><input type='checkbox' name='attr_perception_class_skill' title='@{perception_class_skill}' value='3'><span class='cs'>3</span></div>
                            <div class='arith'>+</div>
                            <select class='label abi' name='attr_perception_ability' style='width; .5em;'>
                                <option value='strength_mod'>STR</option>
                                <option value='dexterity_mod'>DEX</option>
                                <option value='constitution_mod'>CON</option>
                                <option value='intelligence_mod'>INT</option>
                                <option value='wisdom_mod' selected='selected'>WIS</option>
                                <option value='charisma_mod'>CHA</option>
                            </select>
                        </div>
                        <div class='skill-options'>
                            <div class='row'>
                                <span class='skill-span label' data-i18n='acp'>ACP</span>
                                <input class='acp' type='checkbox' name='attr_perception_acp' value='1'>
                            </div>
                            <textarea class='skill-description' name='attr_perception_description' placeholder='Notes'></textarea>
                            <input name='attr_perception_buff_notes' hidden='true'>
                        </div>
                    </div>
                    <div class='skill-container'>
                        <input class="show-options" type="checkbox" name="attr_physical_science_show_options"><span>y</span>
                        <div class='display'>
                            <input class='acp' type='checkbox' name='attr_physical_science_acp' hidden='true' value='1'>
                            <button class='acp' type='roll' name='roll_physical_science' value='&{template:sf_generic} {{name=@{character_name}}} {{characterid=@{character_id}}} {{title=Physical Science}}  {{r1=[[1d20+@{physical_science}]]}}' data-i18n='physical_science' title='%{physical_science}'>PHYSICAL SCIENCE</button>
                            <input class='mod-debuff' type='radio' name='attr_physical_science_change' value='-1' hidden='true'>
                            <input class='mod-normal' type='radio' name='attr_physical_science_change' value='0' hidden='true' checked='checked'>
                            <input class='mod-buff' type='radio' name='attr_physical_science_change' value='1' hidden='true'>
                            <span class='mod tot modified-attr' readonly='true' type='text' name='attr_physical_science' title='@{physical_science}' value='0'>0</span>
                            <div class='arith'>=</div>
                            <input class='ranks' type='number' name='attr_physical_science_ranks' value='' title='@{physical_science_ranks}'>
                            <div class='arith'>+</div>
                            <div class='class-skill'><input type='checkbox' name='attr_physical_science_class_skill' title='@{physical_science_class_skill}' value='3'><span class='cs'>3</span></div>
                            <div class='arith'>+</div>
                            <select class='label abi' name='attr_physical_science_ability' style='width; .5em;'>
                                <option value='strength_mod'>STR</option>
                                <option value='dexterity_mod'>DEX</option>
                                <option value='constitution_mod'>CON</option>
                                <option value='intelligence_mod' selected='selected'>INT</option>
                                <option value='wisdom_mod'>WIS</option>
                                <option value='charisma_mod'>CHA</option>
                            </select>
                        </div>
                        <div class='skill-options'>
                            <div class='row'>
                                <span class='skill-span label' data-i18n='acp'>ACP</span>
                                <input class='acp' type='checkbox' name='attr_physical_science_acp' value='1'>
                            </div>
                            <textarea class='skill-description' name='attr_physical_science_description' placeholder='Notes'></textarea>
                            <input name='attr_physical_science_buff_notes' hidden='true'>
                        </div>
                    </div>
                    <div class='skill-container'>
                        <input class="show-options" type="checkbox" name="attr_piloting_show_options"><span>y</span>
                        <div class='display'>
                            <input class='acp' type='checkbox' name='attr_piloting_acp' hidden='true' value='1'>
                            <button class='acp' type='roll' name='roll_piloting' value='&{template:sf_generic} {{name=@{character_name}}} {{characterid=@{character_id}}} {{title=Piloting}}  {{r1=[[1d20+@{piloting}]]}}' data-i18n='piloting' title='%{piloting}'>PILOTING</button>
                            <input class='mod-debuff' type='radio' name='attr_piloting_change' value='-1' hidden='true'>
                            <input class='mod-normal' type='radio' name='attr_piloting_change' value='0' hidden='true' checked='checked'>
                            <input class='mod-buff' type='radio' name='attr_piloting_change' value='1' hidden='true'>
                            <span class='mod tot modified-attr' readonly='true' type='text' name='attr_piloting' title='@{piloting}' value='0'>0</span>
                            <div class='arith'>=</div>
                            <input class='ranks' type='number' name='attr_piloting_ranks' value='' title='@{piloting_ranks}'>
                            <div class='arith'>+</div>
                            <div class='class-skill'><input type='checkbox' name='attr_piloting_class_skill' title='@{piloting_class_skill}' value='3'><span class='cs'>3</span></div>
                            <div class='arith'>+</div>
                            <select class='label abi' name='attr_piloting_ability' style='width; .5em;'>
                                <option value='strength_mod'>STR</option>
                                <option value='dexterity_mod' selected='selected'>DEX</option>
                                <option value='constitution_mod'>CON</option>
                                <option value='intelligence_mod'>INT</option>
                                <option value='wisdom_mod'>WIS</option>
                                <option value='charisma_mod'>CHA</option>
                            </select>
                        </div>
                        <div class='skill-options'>
                            <div class='row'>
                                <span class='skill-span label' data-i18n='acp'>ACP</span>
                                <input class='acp' type='checkbox' name='attr_piloting_acp' value='1'>
                            </div>
                            <textarea class='skill-description' name='attr_piloting_description' placeholder='Notes'></textarea>
                            <input name='attr_piloting_buff_notes' hidden='true'>
                        </div>
                    </div>
                    <div class='skill-fieldset'>
                        <div class='profession-placeholder' data-i18n='profession_placeholder'>ADD PROFESSIONS HERE</div>
                        <fieldset class='repeating_profession'>
                            <input type='checkbox' hidden='true' name='attr_filter' value='1' checked='checked'>
                            <div class='skill-container'>
                                <input class="show-options" type="checkbox" name="attr_show_options"><span>y</span>
                                <div class='display'>
                                    <input class='acp' type='checkbox' name='attr_acp' hidden='true' value='1'>
                                    <button class='acp' type='roll' name='roll_roll' value='&{template:sf_generic} {{name=@{character_name}}} {{characterid=@{character_id}}} {{title=@{name}}}  {{r1=[[1d20+@{profession}]]}}' title='%{repeating_profession_$X_roll}'><input class='profession-name' type='text' name='attr_name' value='Profession'></button>
                                    <input class='mod-debuff' type='radio' name='attr_change' value='-1' hidden='true'>
                                    <input class='mod-normal' type='radio' name='attr_change' value='0' hidden='true' checked='checked'>
                                    <input class='mod-buff' type='radio' name='attr_change' value='1' hidden='true'>
                                    <input hidden='true' type='text' name='attr_profession' value='0'>
                                    <span class='mod tot modified-attr' readonly='true' type='text' name='attr_profession' title='@{repeating_profession_$X_profession}' value='0'>0</span>
                                    <div class='arith'>=</div>
                                    <input class='ranks' type='number' name='attr_ranks' value='' title='@{repeating_profession_$X_ranks}'>
                                    <div class='arith'>+</div>
                                    <div class='class-skill'><input type='checkbox' name='attr_class_skill' title='@{repeating_profession_$X_class_skill}' value='3'><span class='cs'>3</span></div>
                                    <div class='arith'>+</div>
                                    <select class='label abi' name='attr_ability' style='width; .5em;'>
                                        <option value='strength_mod'>STR</option>
                                        <option value='dexterity_mod'>DEX</option>
                                        <option value='constitution_mod'>CON</option>
                                        <option value='intelligence_mod' selected='selected'>INT</option>
                                        <option value='wisdom_mod'>WIS</option>
                                        <option value='charisma_mod'>CHA</option>
                                    </select>
                                </div>
                                <div class='skill-options'>
                                    <div class='row'>
                                        <input class='profession-name' type='text' name='attr_name' value='Profession'>
                                        <span class='skill-span label' data-i18n='acp'>ACP</span>
                                        <input class='acp' type='checkbox' name='attr_acp' value='1'>
                                    </div>
                                    <textarea class='skill-description' name='attr_description' placeholder='Notes'></textarea>
                                    <input name='attr_buff_notes' hidden='true'>
                                </div>
                            </div>
                        </fieldset>
                    </div>
                    <div class='skill-container'>
                        <input class="show-options" type="checkbox" name="attr_sense_motive_show_options"><span>y</span>
                        <div class='display'>
                            <input class='acp' type='checkbox' name='attr_sense_motive_acp' hidden='true' value='1'>
                            <button class='acp' type='roll' name='roll_sense_motive' value='&{template:sf_generic} {{name=@{character_name}}} {{characterid=@{character_id}}} {{title=Sense Motive}}  {{r1=[[1d20+@{sense_motive}]]}}' data-i18n='sense_motive' title='%{sense_motive}'>SENSE MOTIVE</button>
                            <input class='mod-debuff' type='radio' name='attr_sense_motive_change' value='-1' hidden='true'>
                            <input class='mod-normal' type='radio' name='attr_sense_motive_change' value='0' hidden='true' checked='checked'>
                            <input class='mod-buff' type='radio' name='attr_sense_motive_change' value='1' hidden='true'>
                            <span class='mod tot modified-attr' readonly='true' type='text' name='attr_sense_motive' title='@{sense_motive}' value='0'>0</span>
                            <div class='arith'>=</div>
                            <input class='ranks' type='number' name='attr_sense_motive_ranks' value='' title='@{sense_motive_ranks}'>
                            <div class='arith'>+</div>
                            <div class='class-skill'><input type='checkbox' name='attr_sense_motive_class_skill' title='@{sense_motive_class_skill}' value='3'><span class='cs'>3</span></div>
                            <div class='arith'>+</div>
                            <select class='label abi' name='attr_sense_motive_ability' style='width; .5em;'>
                                <option value='strength_mod'>STR</option>
                                <option value='dexterity_mod'>DEX</option>
                                <option value='constitution_mod'>CON</option>
                                <option value='intelligence_mod'>INT</option>
                                <option value='wisdom_mod' selected='selected'>WIS</option>
                                <option value='charisma_mod'>CHA</option>
                            </select>
                        </div>
                        <div class='skill-options'>
                            <div class='row'>
                                <span class='skill-span label' data-i18n='acp'>ACP</span>
                                <input class='acp' type='checkbox' name='attr_sense_motive_acp' value='1'>
                            </div>
                            <textarea class='skill-description' name='attr_sense_motive_description' placeholder='Notes'></textarea>
                            <input name='attr_sense_motive_buff_notes' hidden='true'>
                        </div>
                    </div>
                    <div class='skill-container'>
                        <input class="show-options" type="checkbox" name="attr_sleight_of_hand_show_options"><span>y</span>
                        <div class='display'>
                            <input class='acp' type='checkbox' name='attr_sleight_of_hand_acp' hidden='true' value='1' checked='checked'>
                            <button class='acp' type='roll' name='roll_sleight_of_hand' value='&{template:sf_generic} {{name=@{character_name}}} {{characterid=@{character_id}}} {{title=Sleight of Hand}}  {{r1=[[1d20+@{sleight_of_hand}]]}}' data-i18n='sleight_of_hand' title='%{sleight_of_hand}'>SLEIGHT OF HAND</button>
                            <input class='mod-debuff' type='radio' name='attr_sleight_of_hand_change' value='-1' hidden='true'>
                            <input class='mod-normal' type='radio' name='attr_sleight_of_hand_change' value='0' hidden='true' checked='checked'>
                            <input class='mod-buff' type='radio' name='attr_sleight_of_hand_change' value='1' hidden='true'>
                            <span class='mod tot modified-attr' readonly='true' type='text' name='attr_sleight_of_hand' title='@{sleight_of_hand}' value='0'>0</span>
                            <div class='arith'>=</div>
                            <input class='ranks' type='number' name='attr_sleight_of_hand_ranks' value='' title='@{sleight_of_hand_ranks}'>
                            <div class='arith'>+</div>
                            <div class='class-skill'><input type='checkbox' name='attr_sleight_of_hand_class_skill' title='@{sleight_of_hand_class_skill}' value='3'><span class='cs'>3</span></div>
                            <div class='arith'>+</div>
                            <select class='label abi' name='attr_sleight_of_hand_ability' style='width; .5em;'>
                                <option value='strength_mod'>STR</option>
                                <option value='dexterity_mod' selected='selected'>DEX</option>
                                <option value='constitution_mod'>CON</option>
                                <option value='intelligence_mod'>INT</option>
                                <option value='wisdom_mod'>WIS</option>
                                <option value='charisma_mod'>CHA</option>
                            </select>
                        </div>
                        <div class='skill-options'>
                            <div class='row'>
                                <span class='skill-span label' data-i18n='acp'>ACP</span>
                                <input class='acp' type='checkbox' name='attr_sleight_of_hand_acp' value='1' checked='checked'>
                            </div>
                            <textarea class='skill-description' name='attr_sleight_of_hand_description' placeholder='Notes'></textarea>
                            <input name='attr_sleight_of_hand_buff_notes' hidden='true'>
                        </div>
                    </div>
                    <div class='skill-container'>
                        <input class="show-options" type="checkbox" name="attr_stealth_show_options"><span>y</span>
                        <div class='display'>
                            <input class='acp' type='checkbox' name='attr_stealth_acp' hidden='true' value='1' checked='checked'>
                            <button class='acp' type='roll' name='roll_stealth' value='&{template:sf_generic} {{name=@{character_name}}} {{characterid=@{character_id}}} {{title=Stealth}}  {{r1=[[1d20+@{stealth}]]}}' data-i18n='stealth' title='%{stealth}'>STEALTH</button>
                            <input class='mod-debuff' type='radio' name='attr_stealth_change' value='-1' hidden='true'>
                            <input class='mod-normal' type='radio' name='attr_stealth_change' value='0' hidden='true' checked='checked'>
                            <input class='mod-buff' type='radio' name='attr_stealth_change' value='1' hidden='true'>
                            <span class='mod tot modified-attr' readonly='true' type='text' name='attr_stealth' title='@{stealth}' value='0'>0</span>
                            <div class='arith'>=</div>
                            <input class='ranks' type='number' name='attr_stealth_ranks' value='' title='@{stealth_ranks}'>
                            <div class='arith'>+</div>
                            <div class='class-skill'><input type='checkbox' name='attr_stealth_class_skill' title='@{stealth_class_skill}' value='3'><span class='cs'>3</span></div>
                            <div class='arith'>+</div>
                            <select class='label abi' name='attr_stealth_ability' style='width; .5em;'>
                                <option value='strength_mod'>STR</option>
                                <option value='dexterity_mod' selected='selected'>DEX</option>
                                <option value='constitution_mod'>CON</option>
                                <option value='intelligence_mod'>INT</option>
                                <option value='wisdom_mod'>WIS</option>
                                <option value='charisma_mod'>CHA</option>
                            </select>
                        </div>
                        <div class='skill-options'>
                            <div class='row'>
                                <span class='skill-span label' data-i18n='acp'>ACP</span>
                                <input class='acp' type='checkbox' name='attr_stealth_acp' value='1' checked='checked'>
                            </div>
                            <textarea class='skill-description' name='attr_stealth_description' placeholder='Notes'></textarea>
                            <input name='attr_stealth_buff_notes' hidden='true'>
                        </div>
                    </div>
                    <div class='skill-container'>
                        <input class="show-options" type="checkbox" name="attr_survival_show_options"><span>y</span>
                        <div class='display'>
                            <input class='acp' type='checkbox' name='attr_survival_acp' hidden='true' value='1'>
                            <button class='acp' type='roll' name='roll_survival' value='&{template:sf_generic} {{name=@{character_name}}} {{characterid=@{character_id}}} {{title=Survival}}  {{r1=[[1d20+@{survival}]]}}' data-i18n='survival' title='%{survival}'>SURVIVAL</button>
                            <input class='mod-debuff' type='radio' name='attr_survival_change' value='-1' hidden='true'>
                            <input class='mod-normal' type='radio' name='attr_survival_change' value='0' hidden='true' checked='checked'>
                            <input class='mod-buff' type='radio' name='attr_survival_change' value='1' hidden='true'>
                            <span class='mod tot modified-attr' readonly='true' type='text' name='attr_survival' title='@{survival}' value='0'>0</span>
                            <div class='arith'>=</div>
                            <input class='ranks' type='number' name='attr_survival_ranks' value='' title='@{survival_ranks}'>
                            <div class='arith'>+</div>
                            <div class='class-skill'><input type='checkbox' name='attr_survival_class_skill' title='@{survival_class_skill}' value='3'><span class='cs'>3</span></div>
                            <div class='arith'>+</div>
                            <select class='label abi' name='attr_survival_ability' style='width; .5em;'>
                                <option value='strength_mod'>STR</option>
                                <option value='dexterity_mod'>DEX</option>
                                <option value='constitution_mod'>CON</option>
                                <option value='intelligence_mod'>INT</option>
                                <option value='wisdom_mod' selected='selected'>WIS</option>
                                <option value='charisma_mod'>CHA</option>
                            </select>
                        </div>
                        <div class='skill-options'>
                            <div class='row'>
                                <span class='skill-span label' data-i18n='acp'>ACP</span>
                                <input class='acp' type='checkbox' name='attr_survival_acp' value='1'>
                            </div>
                            <textarea class='skill-description' name='attr_survival_description' placeholder='Notes'></textarea>
                            <input name='attr_suvival_buff_notes' hidden='true'>
                        </div>
                    </div>
                </div>
                <div class='weapons section-container'>
                    <h1 class='section label' data-i18n='attacks'>ATTACKS</h1>
                    <div class='attack-header'>
                        <div class="label atk-name-col" data-i18n="name-u">NAME</div>
                        <div class='label atk-mod-col' data-i18n="atk-u">ATK</div>
                        <div class="label atk-dmg-col" data-i18n="dmg-type-u">DAMAGE/TYPE</div>
                    </div>
                    <fieldset class='repeating_attack'>
                        <input class='filter' type='checkbox' hidden='true' name='attr_filter' value='1' checked='checked'>
                        <div class='filter-container attack'>
                            <!--Hidden Attack Attributes -->
                            <input type='text' hidden='true' name='attr_misc' value=''>
                            <input type='text' hidden='true' name='attr_damage_misc' value=''>
                            <!--Shown Attack Attributes -->
                            <input class="show-options" type="checkbox" name="attr_show_options" value='1' checked="checked"><span>y</span>
                            <div class='atk-options'>
                                <div class='row'>
                                <span class='label' data-i18n='name-u'>NAME</span>
                                <input class='atk-name' type='text' name='attr_name' placeholder='Laser Pistol' value=''>
                                <span class='label' data-i18n='atk_level'>LVL</span>
                                <input class='atk-level' type='text' name='attr_level' value='0'>
                            </div>
                                <div class='row'>
                                    <select class='label proficiency' name='attr_proficiency'>
                                        <option value='no' data-i18n='Not-Proficient'>NOT PROFICIENT</option>
                                        <option value='yes' data-i18n='proficient' selected='selected'>PROFICIENT</option>
                                        <option value='specialized' data-i18n='specialized'>SPECIALIZED</option>
                                    </select>
                                    <span class='label' data-i18n='category'>CATEGORY</span>
                                    <input class='weapon-cat' type='text' name='attr_category' placeholder='Longarm' value=''>
                                </div>
                            <div class='row'>
                                <span class='label' data-i18n='atk-u'>ATK</span>
                                <select class='label atk-ability abi' name='attr_ability'>
                                        <option value='strength_mod' selected='selected'>STR</option>
                                        <option value='dexterity_mod'>DEX</option>
                                        <option value='constitution_mod'>CON</option>
                                        <option value='intelligence_mod'>INT</option>
                                        <option value='wisdom_mod'>WIS</option>
                                        <option value='charisma_mod'>CHA</option>
                                    </select>
                                    <input hidden='true' name='attr_ability_value' value='0'>
                                    <span class='arith'>+</span>
                                    <input class='bab' name='attr_bab' disabled='true' title='@{bab}' value='@{bab}'>
                                    <input class='atk-misc misc' type='text' name='attr_bonus' placeholder='+@{attr}/2 + ?{Query}' value=''>
                                    <span class='label' data-i18n='atk_range'>RNG</span>
                                    <input class='atk-range' type='text' name='attr_range' placeholder='30 ft' value=''>
                                </div>
                                <div class='row'>
                                    <span class='label' data-i18n='atk_dmg'>DMG</span>
                                    <input class='dmg-dice' type='text' name=attr_damage_dice title='@{repeating_attack_$X_attack_dmg_dice}' placeholder='1d8' value=''><span>+</span>
                                    <select class='label atk-ability abi' name='attr_damage_ability'>
                                        <option value='' selected='selected'>N/A</option>
                                        <option value='strength_mod'>STR</option>
                                        <option value='dexterity_mod'>DEX</option>
                                        <option value='constitution_mod'>CON</option>
                                        <option value='intelligence_mod'>INT</option>
                                        <option value='wisdom_mod'>WIS</option>
                                        <option value='charisma_mod'>CHA</option>
                                    </select>
                                    <input hidden='true' name='attr_damage_ability_value' value='0'>
                                    <input class='atk-damage' type='text' name='attr_damage_bonus' placeholder='+@{attr}/2 + ?{Query}' value=''>
                                </div>
                                <div class='row'>
                                    <span class='label' data-i18n='atk_type'>TYPE</span>
                                    <input class='atk-type' type='text' name='attr_type' placeholder='Fire' value=''>
                                    <span class='label' data-i18n='atk_crit_effect'>CRIT EFFECT</span>
                                    <input class='atk-crit' type='text' name='attr_crit' placeholder='Burn' value=''>
                                </div>
                                <div class='row'>
                                    <span class='label' data-i18n='atk_usage'>USAGE</span>
                                    <input class='atk-usage' type='text' name='attr_usage' placeholder='1 charge' value=''>
                                    <span class='label' data-i18n='atk_special'>SPECIAL</span>
                                    <input class='atk-special' type='text' name='attr_special' placeholder='heirloom' value=''>
                                </div>
                                
                                <div class='row'>
                                    <textarea class='atk-description' name='attr_macro' title='@{repeatin_attack_$X_attack_macro}'>&{template:sf_attack} {{name=@{character_name}}} {{characterid=@{character_id}}} {{title=@{name}}} {{level=[[[[@{level}]]d1cs>2cf<0]]}} {{r1=[[1d20+@{bab}[BAB]+@{ability_value}[ABILITY]@{misc}@{bonus}]]}} {{damagetype=@{type}}} {{damage1=[[@{damage_dice}+@{damage_ability_value}[ABILITY]@{damage_misc}@{damage_bonus}]]}} {{crit1damage=[[@{damage_dice}+@{damage_ability_value}[ABILITY]@{damage_misc}@{damage_bonus}]]}} {{crit1effect=@{crit}}} {{range=[[@{range}]]}} {{notes=@{description}}}</textarea>
                                </div>
                                <div class='row'>
                                    <textarea class='atk-description' name='attr_description' title='@{repeating_attack_$X_description}' placeholder='Description' value=''></textarea>
                                </div>
                            </div>
                            <div class='display'>
                                <button class='summary' type='roll' name='roll_roll' value='@{macro}'>
                                    <span class='label atk-name-col' name='attr_name' placeholder='Laser Pistol'>Laser Pistol</span>
                                    <div class='attr-total-container'>
                                        <input class='mod-debuff' type='radio' name='attr_total_change' value='-1' hidden='true'>
                                        <input class='mod-normal' type='radio' name='attr_total_change' value='0' hidden='true' checked='checked'>
                                        <input class='mod-buff' type='radio' name='attr_total_change' value='1' hidden='true'>
                                        <span class='label atk-mod-col modified-attr' name='attr_total' value='0'>0</span>
                                    </div>
                                    <div class='attr-total-container'>
                                        <input class='mod-debuff' type='radio' name='attr_damage_total_change' value='-1' hidden='true'>
                                        <input class='mod-normal' type='radio' name='attr_damage_total_change' value='0' hidden='true' checked='checked'>
                                        <input class='mod-buff' type='radio' name='attr_damage_total_change' value='1' hidden='true'>
                                        <span class='label atk-dmg-col modified-attr' name='attr_damage_total' value='0'>0</span>
                                    </div>
                                </button>
                            </div>
                        </div>
                    </fieldset>
                </div>
                <div class='equipment section-container'>
                    <h1 class='section label' data-i18n='equipment'>EQUIPMENT</h1>
                    <input type='radio' name='attr_encumber_level' hidden='true' value='0' checked='checked'>
                    <div class='equip-info-container'>
                        <div class='bulk-container carried'>
                            <input class='number' name='attr_carried_bulk' readonly='true' title='@{carried_bulk}' value='0'>
                            <span class='label' data-i18n='carried'>CARRIED</span>
                        </div>
                        <input class='encumbered' type='radio' name='attr_encumber_level' hidden='true' value='1'>
                        <div class='bulk-container encumber'>
                            <input class='mod-debuff' type='radio' name='attr_encumber_bulk_change' value='-1' hidden='true'>
                            <input class='mod-normal' type='radio' name='attr_encumber_bulk_change' value='0' hidden='true' checked='checked'>
                            <input class='mod-buff' type='radio' name='attr_encumber_bulk_change' value='1' hidden='true'>
                            <span class='number modified-attr' name=attr_encumber_bulk readonly='true' title='@{encumber_bulk}' value='5'>5</span>
                            <span class='label' data-i18n='encumbered'>ENCUMBERED</span>
                        </div>
                        <input class='overburdened' type='radio' name='attr_encumber_level' hidden='true' value='2'>
                        <div class='bulk-container overburden'>
                            <input class='mod-debuff' type='radio' name='attr_overburden_bulk_change' value='-1' hidden='true'>
                            <input class='mod-normal' type='radio' name='attr_overburden_bulk_change' value='0' hidden='true' checked='checked'>
                            <input class='mod-buff' type='radio' name='attr_overburden_bulk_change' value='1' hidden='true'>
                            <span class='number modified-attr' name='attr_overburden_bulk' readonly='true' title='@{overburden_bulk}' value='10'>10</span>
                            <span class='label' data-i18n='overburdened'>OVERBURDENED</span>
                        </div>
                        <div class='credits-container credits'>
                            <input type='text' name='attr_credits' title=@{credits} value=0>
                            <span class='label' data-i18n='credits'>CREDITS</span>
                        </div>
                        <div class='credits-container wealth'>
                            <input class='number' name='attr_wealth' readonly='true' title=@{wealth} value='0'>
                            <span class='label' data-i18n='wealth'>WEALTH</span>
                        </div>
                    </div>
                    <div class='item-container'>
                        <div class="label item-name-col" data-i18n="item-name">ITEM NAME</div>
                        <fieldset class='repeating_item'>
                            <input class='filter' type='checkbox' hidden='true' name='attr_filter' value='1' checked='checked'>
                            <div class='filter-container item'>
                                <input class="show-options" type="checkbox" name="attr_show_options" checked="checked"><span>y</span>
                                <div class='item-options'>
                                    <div class='row'>
                                        <span class='label' data-i18n='name-u'>NAME</span>
                                        <input class='item-name' type='text' name='attr_name' placeholder='Laser Pistol'>
                                    </div>
                                    <div class='row'>
                                        <select class='item-equip' name='attr_equipped' title='@{repeating_$X_item_equipped}'>
                                            <option value='equipped' selected='selected'>EQUIPPED</option>
                                            <option value='carried'>CARRIED</option>
                                            <option value='not carried'>NOT CARRIED</option>
                                        </select>
                                        <span class='label' data-i18n='item_quantity'>NUM</span>
                                        <input class='item-quantity' type='text' name='attr_quantity' placeholder='1'>
                                    </div>
                                    <div class='row'>
                                        <span class='label' data-i18n='item_bulk'>BULK</span>
                                        <input class='item-bulk' type='text' name='attr_bulk' placeholder='1'>
                                        <span class='label' data-i18n='item_cost'>COST</span>
                                        <input class='item-cost' type='text' name='attr_cost' placeholder='1'>
                                    </div>
                                    <div class='row mod-container'>
                                        <span class='label item-mods' data-i18n='mods'>MODS</span>
                                        <textarea class='item-mods' type='text' name='attr_mods' placeholder='+X to EAC, +X Luck to Will'></textarea>
                                    </div>
                                    <div class='row'>
                                        <textarea class='item-description' name='attr_description' title='@{repeating_item_$X_item_description}' placeholder='Description'></textarea>
                                    </div>
                                </div>
                                <div class='display'>
                                <button class='summary' type='roll' name='roll_roll' value='Item Macros not programmed yet'><input name='attr_name'></button>
                                </div>
                            </div>
                        </fieldset>
                    </div>
                </div>
                <div class='section-container abilities-container'>
                    <h1 class='section label' data-i18n='abilities'>ABILITIES</h1>
                    <div class='ability-header'>
                        <span class="label abi-name-col" data-i18n="name-u">NAME</span>
                        <span class='label abi-dc-col' data-i18n="dc">DC</span>
                        <span class="label abi-effect-col" data-i18n="effect">EFFECT</span>
                    </div>
                    <fieldset class='repeating_ability'>
                        <input class='filter' type='checkbox' hidden='true' name='attr_filter' value='1' checked='checked'>
                        <div class='filter-container ability'>
                           <!--Hidden Ability Attributes -->
                           <input type='text' hidden='true' name='attr_attack_misc' value=''>
                           <input type='text' hidden='true' name='attr_attack_damage_misc' value=''>
                           <input type='text' hidden='true' name='attr_effect_misc' value=''>
                           <!--Shown Ability Attributes -->
                            <input class="show-options" type="checkbox" name="attr_show_options" checked="checked"><span>y</span>
                            <div class='ability-options'>
                                <div class='row'>
                                    <span class='label' data-i18n='name-u'>NAME</span>
                                    <input class='atk-name' type='text' name='attr_name' placeholder="Operative's Edge">
                                    <select class='freq-select' name='attr_frequency'>
                                        <option value='constant' data-i18n='constant' selected='selected'>CONSTANT</option>
                                        <option value='at will' data-i18n='at-will'>AT WILL</option>
                                        <option value='daily limit' data-i18n='x/day'>X/DAY</option>
                                    </select>
                                </div>
                                <div class='row'>
                                    <span class='label' data-i18n='source'>SOURCE</span>
                                    <input class='weapon-cat' type='text' name='attr_source' placeholder='Operative'>
                                </div>
                                <div class='row'>
                                    <span class='label' data-i18n='target'>TARGET</span>
                                    <input class='target' type='text' name='attr_target' placeholder='self'>
                                    <span class='label' data-i18n='atk_range'>RNG</span>
                                    <input class='atk-range' type='text' name='attr_range' placeholder='30 ft'>
                                </div>
                                <div class='row'>
                                    <span class='label' data-i18n='duration'>DURATION</span>
                                    <input class='target' type='text' name='attr_duration' placeholder='1 round' value=''>
                                </div>
                                <div class='row'>
                                    <input type='radio' hidden='true' name='attr_uses_freq_dependency' class='freq-check constant' value='constant' checked='checked'>
                                    <input type='radio' hidden='true' name='attr_uses_freq_dependency' class='freq-check' value='at will'>
                                    <input type='radio' hidden='true' name='attr_uses_freq_dependency' class='freq-check daily-limit' value='daily limit'>
                                    <input class='freq-check daily-limit' type='number' name='attr_uses' value='0'>
                                    <span class='freq-check daily-limit label'>/</span>
                                    <div class='attr-total-container freq-check daily-limit'>
                                        <input class='base-attr ability-uses' type='text' name='attr_uses_max_base' value='10' title='@{strength}'>
                                        <input class='mod-debuff' type='radio' name='attr_uses_change' value='-1' hidden='true'>
                                        <input class='mod-normal' type='radio' name='attr_uses_change' value='0' hidden='true' checked='checked'>
                                        <input class='mod-buff' type='radio' name='attr_uses_change' value='1' hidden='true'>
                                        <span class='modified-attr attr ability-uses' readonly='true' type='text' name='attr_uses_max' value='10'>10</span>
                                    </div>
                                    <span class='freq-check daily-limit label' data-i18n='_-daily-uses'>Daily Uses</span>
                                </div>
                                <input type='radio' hidden='true' name='attr_usage_freq_dependency' class='freq-check constant' value='constant' checked='checked'>
                                <input type='radio' hidden='true' name='attr_usage_freq_dependency' class='freq-check at-will' value='at will'>
                                <input type='radio' hidden='true' name='attr_usage_freq_dependency' class='freq-check daily-limit' value='daily limit'>
                                <div class='row freq-check at-will daily-limit'>
                                    <span class='label abi-cost' data-i18n='usage'>USAGE</span>
                                    <input class='abi-cost' type='text' name='attr_usage' placeholder='move action, 1 resolve point'>
                                </div>
                                <input class='field-tab' type='checkbox' name='attr_attack_checkbox' value='1' hidden='true'>
                                <div class='field-container'>
                                    <input class='field-tab atk-tab' type='checkbox' name='attr_attack_checkbox' value='1'><span class='field label' data-i18n='atk'>ATK</span>
                                <div class='field row'>
                                        <select class='label atk-ability abi' name='attr_attack_ability'>
                                            <option value='strength_mod' selected='selected'>STR</option>
                                            <option value='dexterity_mod'>DEX</option>
                                            <option value='constitution_mod'>CON</option>
                                            <option value='intelligence_mod'>INT</option>
                                            <option value='wisdom_mod'>WIS</option>
                                            <option value='charisma_mod'>CHA</option>
                                        </select>
                                        <input hidden='true' name='attr_attack_ability_value' value='0'>
                                        <span class='arith'>+</span>
                                        <input class='bab' name='attr_bab' readonly='true' title='@{bab}' value='0'>
                                        <input class='abi-misc' type='text' name='attr_attack_bonus' placeholder='+@{attr}/2 + ?{Query}'>
                                    </div>
                                </div>
                                <input class='field-tab' type='checkbox' name='attr_damage_checkbox' value='1' hidden='true'>
                                <div class='field-container'>
                                    <input hidden='true' name='attr_damage_misc' value=''>
                                    <input class='field-tab dmg-tab' type='checkbox' name='attr_damage_checkbox' value='1'><span class='field label' data-i18n='dmg'>DMG</span>
                                    <div class='field row'>
                                        <input class='abi-dmg-dice' type='text' name=attr_damage_dice title='@{repeating_attack_$X_damage_dice}' placeholder='1d8'><span>+</span>
                                        <select class='label atk-ability abi' name='attr_damage_ability'>
                                            <option value='' selected='selected'>N/A</option>
                                            <option value='strength_mod'>STR</option>
                                            <option value='dexterity_mod'>DEX</option>
                                            <option value='constitution_mod'>CON</option>
                                            <option value='intelligence_mod'>INT</option>
                                            <option value='wisdom_mod'>WIS</option>
                                            <option value='charisma_mod'>CHA</option>
                                        </select>
                                        <input hidden='true' name='attr_damage_ability_value' value='0'>
                                    </div>
                                    <div class='field row'>
                                        <span class='label' data-i18n='atk_type'>TYPE</span>
                                        <input class='atk-type' type='text' name='attr_attack_type' placeholder='Fire'>
                                        <span class='label' data-i18n='atk_crit_effect'>CRIT EFFECT</span>
                                        <input class='atk-crit' type='text' name='attr_attack_crit' placeholder='Burn'>
                                    </div>
                                </div>
                                <input class='field-tab' type='checkbox' name='attr_save_checkbox' value='1' hidden='true'>
                                <div class='field-container'>
                                    <input class='field-tab save-effect-tab' type='checkbox' name='attr_save_checkbox' value='1'><span class='field label' data-i18n='save-effect'>SAVE EFFECT</span>
                                    <div class='field row'>
                                        <select class='label atk-ability abi' name='attr_save_ability'>
                                            <option value='strength_mod' data-i18n='str' selected='selected'>STR</option>
                                            <option value='dexterity_mod' data-i18n='dex'>DEX</option>
                                            <option value='constitution_mod' data-i18n='con'>CON</option>
                                            <option value='intelligence_mod' data-i18n='int'>INT</option>
                                            <option value='wisdom_mod' data-i18n='wis'>WIS</option>
                                            <option value='charisma_mod' data-i18n='cha'>CHA</option>
                                        </select>
                                        <span class='label' data-i18n='based-dc_'>Based DC </span>
                                        <input name='attr_dc' value='10' hidden='true'>
                                        <span class='save-dc label' name='attr_dc' value='10'>10</span>
                                        <select class='label save-type' name='attr_save_type'>
                                            <option value='' selected='selected'>-</option>
                                            <option value='FORT' data-i18n='fort-save'>FORT SAVE</option>
                                            <option value='REF' data-i18n='ref-save'>REF SAVE</option>
                                            <option value='WILL' data-i18n='will-save'>WILL SAVE</option>
                                        </select>
                                    </div>
                                    <div class='field row'>
                                        <textarea class='abi-description' name='attr_effect' placeholder='Effect on a Failed Save'></textarea>
                                    </div>
                                    <div class='field row'>
                                        <span class='label' data-i18n='A-Sucessful-Save:'>A Sucessful Save:</span>
                                    </div>
                                    <div class='field row'>
                                        <textarea class='abi-description' name='attr_save_effect' placeholder='Effect on a Successful Save'></textarea>
                                    </div>
                                    <div class='field row'>
                                    </div>
                                </div>
                                <input class='field-tab' type='checkbox' name='attr_mods_checkbox' value='1' hidden='true'>
                                <div class='row field-container mod-container'>
                                    <input class='field-tab mods-tab item-mods' type='checkbox' name='attr_mods_checkbox' value='1'><span class='label field item-mods' data-i18n='mods'>MODS</span>
                                    <textarea class='field row item-mods abi-description' type='text' name='attr_mods' placeholder='+X to EAC, +X Luck to Will'></textarea>
                                </div>
                                <input class='field-tab' type='checkbox' name='attr_macro_checkbox' value='1' hidden='true'>
                                <div class='row field-container mod-container'>
                                    <input class='field-tab macro-tab' type='checkbox' name='attr_macro_checkbox' value='1'><span class='label field' data-i18n='macro'>MACRO</span>
                                    <textarea class='field row abi-description' type='text' name='attr_macro'>&{template:sf_spell} {{name=@{character_name}}} {{characterid=@{character_id}}} {{title=@{name}}} {{saveflag=[[1d@{save_checkbox}]]}} {{activation=@{usage}}} {{duration=@{duration}}} {{targets=@{target}}} {{range=@{range}}} {{savedc=[[@{dc}]]}} {{savetype=@{save_type}}} {{effect=@{effect}}} {{saveeffect=@{save_effect}}} {{attackflag=[[1d@{attack_checkbox}]]}} {{r1=[[1d20+@{bab}[BAB]+@{attack_ability_value}[ABILITY]@{attack_misc}@{attack_bonus}]]}} {{damageflag=[[1d@{damage_checkbox}]]}} {{damage1type=@{attack_type}}} {{damage1=[[@{damage_dice}+@{damage_ability_value}[ABILITY]@{damage_misc}]]}} {{crit1damage=[[@{damage_dice}+@{damage_ability_value}[ABILITY]@{damage_misc}]]}} {{crit1effect=@{attack_crit}}} {{notes=@{description}}}</textarea>
                                </div>
                                <div class='row'>
                                    <textarea class='abi-description' name='attr_description' title='@{repeatin_ability_$X_description}' placeholder='Description'></textarea>
                                </div>
                            </div>
                            <div class='display'>
                                <input type='radio' hidden='true' name='attr_toggle_freq_dependency' class='freq-check' value='constant' checked='checked'>
                                <input type='radio' hidden='true' name='attr_toggle_freq_dependency' class='freq-check at-will' value='at will'>
                                <input type='radio' hidden='true' name='attr_toggle_freq_dependency' class='freq-check daily-limit' value='daily limit'>
                                <input class='freq-check at-will daily-limit' type='checkbox' name='attr_toggle' value='enabled'>
                                <button class='summary' type='roll' name='roll_roll' value='@{macro}'>
                                    <span class='label abi-name-col' name='attr_name' placeholder='Laser Pistol'>Laser Pistol</span>
                                    <div class='attr-total-container'>
                                        <input class='mod-debuff' type='radio' name='attr_dc_change' value='-1' hidden='true'>
                                        <input class='mod-normal' type='radio' name='attr_dc_change' value='0' hidden='true' checked='checked'>
                                        <input class='mod-buff' type='radio' name='attr_dc_change' value='1' hidden='true'>
                                        <span class='label abi-dc-col modified-attr' name='attr_dc' value='0'>0</span>
                                    </div>
                                    <div class='attr-total-container'>
                                        <input class='mod-debuff' type='radio' name='attr_effect_change' value='-1' hidden='true'>
                                        <input class='mod-normal' type='radio' name='attr_effect_change' value='0' hidden='true' checked='checked'>
                                        <input class='mod-buff' type='radio' name='attr_effect_change' value='1' hidden='true'>
                                        <span class='label abi-effect-col modified-attr' name='attr_effect' value=' '> </span>
                                    </div>
                                </button>
                            </div>
                        </div>
                    </fieldset>
                </div>
            </div>
            <div class='page spells'>
                <div class='spells-container'>
                    <div class='column-1'>
                        <div class='section-container spells-per-day-container'>
                            <h1 class='section label' data-i18n='spellclasses'>SPELLCLASSES</h1>
                            <div class='overflow-container'>
                                <div class='spellclass-details'>
                                    <!-- Caster 1 -->
                                    <input class='class-1 class-spells' name='attr_class_1_spells' title='@{class_1_spells' type='checkbox' checked='checked' value='1' hidden='true'>
                                    <div class='spellclass-container'>
                                        <input class='class-1 class-show' name='attr_class_1_show' titel='@{class_1_show}' type=checkbox checked='checked' value='1'>
                                        <span class='class-1 class-name' name='attr_class_1_name' title='@{class_1_name}' placeholder='1st Class' readonly='true'></span>
                                        <span class='class-1 class-num-level' name='attr_class_1_level' title='@{class_1_level}' placeholder='1' readonly='true'></span>
                                        <span class='casting-ability' data-i18n='ability'>ABILITY</span>
                                        <select class='class-1 class-ability' name='attr_class_1_casting_ability' title='@{class_1_casting_ability}'>
                                            <option value='strength_mod' selected='selected'>STR</option>
                                            <option value='dexterity_mod'>DEX</option>
                                            <option value='constitution_mod'>CON</option>
                                            <option value='intelligence_mod'>INT</option>
                                            <option value='wisdom_mod'>WIS</option>
                                            <option value='charisma_mod'>CHA</option>
                                        </select>
                                        <span CLASS='spell-progression' data-i18n='progress'>PROGRESS</span>
                                        <select class='class-1 class-spell-progression' name='attr_class_1_spell_progression' title='@{class_1_spell_progression'>
                                            <option value='half'>HALF</option>
                                            <option value='partial' selected='selected'>PARTIAL</option>
                                            <option value='full_prep'>FULL PREP</option>
                                            <option value='full_spont'>FULL SPONT</option>
                                        </select>
                                        <input type='radio' class='cantrips-only' name='attr_class_1_max_spell' value='0' checked='checked' hidden='true'>
                                        <input type='radio' class='spell1' name='attr_class_1_max_spell' value='1' hidden='true'>
                                        <input type='radio' class='spell2' name='attr_class_1_max_spell' value='2' hidden='true'>
                                        <input type='radio' class='spell3' name='attr_class_1_max_spell' value='3' hidden='true'>
                                        <input type='radio' class='spell4' name='attr_class_1_max_spell' value='4' hidden='true'>
                                        <input type='radio' class='spell5' name='attr_class_1_max_spell' value='5' hidden='true'>
                                        <input type='radio' class='spell6' name='attr_class_1_max_spell' value='6' hidden='true'>
                                        <input type='radio' class='spell7' name='attr_class_1_max_spell' value='7' hidden='true'>
                                        <input type='radio' class='spell8' name='attr_class_1_max_spell' value='8' hidden='true'>
                                        <input type='radio' class='spell9' name='attr_class_1_max_spell' value='9' hidden='true'>
                                        <span class='label daily' data-i18n='spells-per-day'>SPELLS PER DAY</span>
                                        <span class='label num aspell0'>0</span>
                                        <input class='label current aspell0' name='attr_class_1_cantrips_per_day'><span class='label slash aspell0'>/</span>
                                        <input class='label max aspell0' name='attr_class_1_cantrips_per_day_max'>
                                        <span class='label num class-spells-day aspell1'>1</span>
                                        <input class='label class-spells-day current aspell1' name='attr_class_1_level_1_spells_per_day'><span class='label class-spells-day slash aspell1'>/</span>
                                        <input class='label class-spells-day max aspell1' name='attr_class_1_level_1_spells_per_day_max'>
                                        <span class='label num class-spells-day aspell2'>2</span>
                                        <input class='label class-spells-day current aspell2' name='attr_class_1_level_2_spells_per_day'><span class='label class-spells-day slash aspell2'>/</span>
                                        <input class='label class-spells-day max aspell2' name='attr_class_1_level_2_spells_per_day_max'>
                                        <span class='label num class-spells-day aspell3'>3</span>
                                        <input class='label class-spells-day current aspell3' name='attr_class_1_level_3_spells_per_day'><span class='label class-spells-day slash aspell3'>/</span>
                                        <input class='label class-spells-day max aspell3' name='attr_class_1_level_3_spells_per_day_max'>
                                        <span class='label num class-spells-day aspell4'>4</span>
                                        <input class='label class-spells-day current aspell4' name='attr_class_1_level_4_spells_per_day'><span class='label class-spells-day slash aspell4'>/</span>
                                        <input class='label class-spells-day max aspell4' name='attr_class_1_level_4_spells_per_day_max'>
                                        <span class='label num class-spells-day aspell5'>5</span>
                                        <input class='label class-spells-day current aspell5' name='attr_class_1_level_5_spells_per_day'><span class='label class-spells-day slash aspell5'>/</span>
                                        <input class='label class-spells-day max aspell5' name='attr_class_1_level_5_spells_per_day_max'>
                                        <span class='label num class-spells-day aspell6'>6</span>
                                        <input class='label class-spells-day current aspell6' name='attr_class_1_level_6_spells_per_day'><span class='label class-spells-day slash aspell6'>/</span>
                                        <input class='label class-spells-day max aspell6' name='attr_class_1_level_6_spells_per_day_max'>
                                        <span class='label num class-spells-day aspell7'>7</span>
                                        <input class='label class-spells-day current aspell7' name='attr_class_1_level_7_spells_per_day'><span class='label class-spells-day slash aspell7'>/</span>
                                        <input class='label class-spells-day max aspell7' name='attr_class_1_level_7_spells_per_day_max'>
                                        <span class='label num class-spells-day aspell8'>8</span>
                                        <input class='label class-spells-day current aspell8' name='attr_class_1_level_8_spells_per_day'><span class='label class-spells-day slash aspell8'>/</span>
                                        <input class='label class-spells-day max aspell8' name='attr_class_1_level_8_spells_per_day_max'>
                                        <span class='label num class-spells-day aspell9'>9</span>
                                        <input class='label class-spells-day current aspell9' name='attr_class_1_level_9_spells_per_day'><span class='label class-spells-day slash aspell9'>/</span>
                                        <input class='label class-spells-day max aspell9' name='attr_class_1_level_9_spells_per_day_max'>
                                    </div>
                                    <!-- Caster 2 -->
                                    <input class='class-2 class-spells' name='attr_class_2_spells' title='@{class_2_spells' type='checkbox' checked='checked' value='1' hidden='true'>
                                    <div class='spellclass-container'>
                                        <input class='class-2 class-show' name='attr_class_2_show' titel='@{class_2_show}' type=checkbox checked='checked' value='1'>
                                        <span class='class-2 class-name' name='attr_class_2_name' title='@{class_2_name}' placeholder='1st Class' readonly='true'></span>
                                        <span class='class-2 class-num-level' name='attr_class_2_level' title='@{class_2_level}' placeholder='1' readonly='true'></span>
                                        <span class='casting-ability' data-i18n='ability'>ABILITY</span>
                                        <select class='class-2 class-ability' name='attr_class_2_casting_ability' title='@{class_2_casting_ability}'>
                                            <option value='strength_mod' selected='selected'>STR</option>
                                            <option value='dexterity_mod'>DEX</option>
                                            <option value='constitution_mod'>CON</option>
                                            <option value='intelligence_mod'>INT</option>
                                            <option value='wisdom_mod'>WIS</option>
                                            <option value='charisma_mod'>CHA</option>
                                        </select>
                                        <span CLASS='spell-progression' data-i18n='progress'>PROGRESS</span>
                                        <select class='class-2 class-spell-progression' name='attr_class_2_spell_progression' title='@{class_2_spell_progression'>
                                            <option value='half'>HALF</option>
                                            <option value='partial' selected='selected'>PARTIAL</option>
                                            <option value='full_prep'>FULL PREP</option>
                                            <option value='full_spont'>FULL SPONT</option>
                                        </select>
                                        <input type='radio' class='cantrips-only' name='attr_class_2_max_spell' value='0' checked='checked' hidden='true'>
                                        <input type='radio' class='spell1' name='attr_class_2_max_spell' value='1' hidden='true'>
                                        <input type='radio' class='spell2' name='attr_class_2_max_spell' value='2' hidden='true'>
                                        <input type='radio' class='spell3' name='attr_class_2_max_spell' value='3' hidden='true'>
                                        <input type='radio' class='spell4' name='attr_class_2_max_spell' value='4' hidden='true'>
                                        <input type='radio' class='spell5' name='attr_class_2_max_spell' value='5' hidden='true'>
                                        <input type='radio' class='spell6' name='attr_class_2_max_spell' value='6' hidden='true'>
                                        <input type='radio' class='spell7' name='attr_class_2_max_spell' value='7' hidden='true'>
                                        <input type='radio' class='spell8' name='attr_class_2_max_spell' value='8' hidden='true'>
                                        <input type='radio' class='spell9' name='attr_class_2_max_spell' value='9' hidden='true'>
                                        <span class='label daily' data-i18n='spells-per-day'>SPELLS PER DAY</span>
                                        <span class='label num aspell0'>0</span>
                                        <input class='label current aspell0' name='attr_class_2_cantrips_per_day'><span class='label slash aspell0'>/</span>
                                        <input class='label max aspell0' name='attr_class_2_cantrips_per_day_max'>
                                        <span class='label num class-spells-day aspell1'>1</span>
                                        <input class='label class-spells-day current aspell1' name='attr_class_2_level_1_spells_per_day'><span class='label class-spells-day slash aspell1'>/</span>
                                        <input class='label class-spells-day max aspell1' name='attr_class_2_level_1_spells_per_day_max'>
                                        <span class='label num class-spells-day aspell2'>2</span>
                                        <input class='label class-spells-day current aspell2' name='attr_class_2_level_2_spells_per_day'><span class='label class-spells-day slash aspell2'>/</span>
                                        <input class='label class-spells-day max aspell2' name='attr_class_2_level_2_spells_per_day_max'>
                                        <span class='label num class-spells-day aspell3'>3</span>
                                        <input class='label class-spells-day current aspell3' name='attr_class_2_level_3_spells_per_day'><span class='label class-spells-day slash aspell3'>/</span>
                                        <input class='label class-spells-day max aspell3' name='attr_class_2_level_3_spells_per_day_max'>
                                        <span class='label num class-spells-day aspell4'>4</span>
                                        <input class='label class-spells-day current aspell4' name='attr_class_2_level_4_spells_per_day'><span class='label class-spells-day slash aspell4'>/</span>
                                        <input class='label class-spells-day max aspell4' name='attr_class_2_level_4_spells_per_day_max'>
                                        <span class='label num class-spells-day aspell5'>5</span>
                                        <input class='label class-spells-day current aspell5' name='attr_class_2_level_5_spells_per_day'><span class='label class-spells-day slash aspell5'>/</span>
                                        <input class='label class-spells-day max aspell5' name='attr_class_2_level_5_spells_per_day_max'>
                                        <span class='label num class-spells-day aspell6'>6</span>
                                        <input class='label class-spells-day current aspell6' name='attr_class_2_level_6_spells_per_day'><span class='label class-spells-day slash aspell6'>/</span>
                                        <input class='label class-spells-day max aspell6' name='attr_class_2_level_6_spells_per_day_max'>
                                        <span class='label num class-spells-day aspell7'>7</span>
                                        <input class='label class-spells-day current aspell7' name='attr_class_2_level_7_spells_per_day'><span class='label class-spells-day slash aspell7'>/</span>
                                        <input class='label class-spells-day max aspell7' name='attr_class_2_level_7_spells_per_day_max'>
                                        <span class='label num class-spells-day aspell8'>8</span>
                                        <input class='label class-spells-day current aspell8' name='attr_class_2_level_8_spells_per_day'><span class='label class-spells-day slash aspell8'>/</span>
                                        <input class='label class-spells-day max aspell8' name='attr_class_2_level_8_spells_per_day_max'>
                                        <span class='label num class-spells-day aspell9'>9</span>
                                        <input class='label class-spells-day current aspell9' name='attr_class_2_level_9_spells_per_day'><span class='label class-spells-day slash aspell9'>/</span>
                                        <input class='label class-spells-day max aspell9' name='attr_class_2_level_9_spells_per_day_max'>
                                    </div>
                                    <!-- Caster 3 -->
                                    <input class='class-3 class-spells' name='attr_class_3_spells' title='@{class_3_spells' type='checkbox' checked='checked' value='1' hidden='true'>
                                    <div class='spellclass-container'>
                                        <input class='class-3 class-show' name='attr_class_3_show' titel='@{class_3_show}' type=checkbox checked='checked' value='1'>
                                        <span class='class-3 class-name' name='attr_class_3_name' title='@{class_3_name}' placeholder='1st Class' readonly='true'></span>
                                        <span class='class-3 class-num-level' name='attr_class_3_level' title='@{class_3_level}' placeholder='1' readonly='true'></span>
                                        <span class='casting-ability' data-i18n='ability'>ABILITY</span>
                                        <select class='class-3 class-ability' name='attr_class_3_casting_ability' title='@{class_3_casting_ability}'>
                                            <option value='strength_mod' selected='selected'>STR</option>
                                            <option value='dexterity_mod'>DEX</option>
                                            <option value='constitution_mod'>CON</option>
                                            <option value='intelligence_mod'>INT</option>
                                            <option value='wisdom_mod'>WIS</option>
                                            <option value='charisma_mod'>CHA</option>
                                        </select>
                                        <span CLASS='spell-progression' data-i18n='progress'>PROGRESS</span>
                                        <select class='class-3 class-spell-progression' name='attr_class_3_spell_progression' title='@{class_3_spell_progression'>
                                            <option value='half'>HALF</option>
                                            <option value='partial' selected='selected'>PARTIAL</option>
                                            <option value='full_prep'>FULL PREP</option>
                                            <option value='full_spont'>FULL SPONT</option>
                                        </select>
                                        <input type='radio' class='cantrips-only' name='attr_class_3_max_spell' value='0' checked='checked' hidden='true'>
                                        <input type='radio' class='spell1' name='attr_class_3_max_spell' value='1' hidden='true'>
                                        <input type='radio' class='spell2' name='attr_class_3_max_spell' value='2' hidden='true'>
                                        <input type='radio' class='spell3' name='attr_class_3_max_spell' value='3' hidden='true'>
                                        <input type='radio' class='spell4' name='attr_class_3_max_spell' value='4' hidden='true'>
                                        <input type='radio' class='spell5' name='attr_class_3_max_spell' value='5' hidden='true'>
                                        <input type='radio' class='spell6' name='attr_class_3_max_spell' value='6' hidden='true'>
                                        <input type='radio' class='spell7' name='attr_class_3_max_spell' value='7' hidden='true'>
                                        <input type='radio' class='spell8' name='attr_class_3_max_spell' value='8' hidden='true'>
                                        <input type='radio' class='spell9' name='attr_class_3_max_spell' value='9' hidden='true'>
                                        <span class='label daily' data-i18n='spells-per-day'>SPELLS PER DAY</span>
                                        <span class='label num aspell0'>0</span>
                                        <input class='label current aspell0' name='attr_class_3_cantrips_per_day'><span class='label slash aspell0'>/</span>
                                        <input class='label max aspell0' name='attr_class_3_cantrips_per_day_max'>
                                        <span class='label num class-spells-day aspell1'>1</span>
                                        <input class='label class-spells-day current aspell1' name='attr_class_3_level_1_spells_per_day'><span class='label class-spells-day slash aspell1'>/</span>
                                        <input class='label class-spells-day max aspell1' name='attr_class_3_level_1_spells_per_day_max'>
                                        <span class='label num class-spells-day aspell2'>2</span>
                                        <input class='label class-spells-day current aspell2' name='attr_class_3_level_2_spells_per_day'><span class='label class-spells-day slash aspell2'>/</span>
                                        <input class='label class-spells-day max aspell2' name='attr_class_3_level_2_spells_per_day_max'>
                                        <span class='label num class-spells-day aspell3'>3</span>
                                        <input class='label class-spells-day current aspell3' name='attr_class_3_level_3_spells_per_day'><span class='label class-spells-day slash aspell3'>/</span>
                                        <input class='label class-spells-day max aspell3' name='attr_class_3_level_3_spells_per_day_max'>
                                        <span class='label num class-spells-day aspell4'>4</span>
                                        <input class='label class-spells-day current aspell4' name='attr_class_3_level_4_spells_per_day'><span class='label class-spells-day slash aspell4'>/</span>
                                        <input class='label class-spells-day max aspell4' name='attr_class_3_level_4_spells_per_day_max'>
                                        <span class='label num class-spells-day aspell5'>5</span>
                                        <input class='label class-spells-day current aspell5' name='attr_class_3_level_5_spells_per_day'><span class='label class-spells-day slash aspell5'>/</span>
                                        <input class='label class-spells-day max aspell5' name='attr_class_3_level_5_spells_per_day_max'>
                                        <span class='label num class-spells-day aspell6'>6</span>
                                        <input class='label class-spells-day current aspell6' name='attr_class_3_level_6_spells_per_day'><span class='label class-spells-day slash aspell6'>/</span>
                                        <input class='label class-spells-day max aspell6' name='attr_class_3_level_6_spells_per_day_max'>
                                        <span class='label num class-spells-day aspell7'>7</span>
                                        <input class='label class-spells-day current aspell7' name='attr_class_3_level_7_spells_per_day'><span class='label class-spells-day slash aspell7'>/</span>
                                        <input class='label class-spells-day max aspell7' name='attr_class_3_level_7_spells_per_day_max'>
                                        <span class='label num class-spells-day aspell8'>8</span>
                                        <input class='label class-spells-day current aspell8' name='attr_class_3_level_8_spells_per_day'><span class='label class-spells-day slash aspell8'>/</span>
                                        <input class='label class-spells-day max aspell8' name='attr_class_3_level_8_spells_per_day_max'>
                                        <span class='label num class-spells-day aspell9'>9</span>
                                        <input class='label class-spells-day current aspell9' name='attr_class_3_level_9_spells_per_day'><span class='label class-spells-day slash aspell9'>/</span>
                                        <input class='label class-spells-day max aspell9' name='attr_class_3_level_9_spells_per_day_max'>
                                    </div>
                                    <!-- Caster 4 -->
                                    <input class='class-4 class-spells' name='attr_class_4_spells' title='@{class_4_spells' type='checkbox' checked='checked' value='1' hidden='true'>
                                    <div class='spellclass-container'>
                                        <input class='class-4 class-show' name='attr_class_4_show' titel='@{class_4_show}' type=checkbox checked='checked' value='1'>
                                        <span class='class-4 class-name' name='attr_class_4_name' title='@{class_4_name}' placeholder='1st Class' readonly='true'></span>
                                        <span class='class-4 class-num-level' name='attr_class_4_level' title='@{class_4_level}' placeholder='1' readonly='true'></span>
                                        <span class='casting-ability' data-i18n='ability'>ABILITY</span>
                                        <select class='class-4 class-ability' name='attr_class_4_casting_ability' title='@{class_4_casting_ability}'>
                                            <option value='strength_mod' selected='selected'>STR</option>
                                            <option value='dexterity_mod'>DEX</option>
                                            <option value='constitution_mod'>CON</option>
                                            <option value='intelligence_mod'>INT</option>
                                            <option value='wisdom_mod'>WIS</option>
                                            <option value='charisma_mod'>CHA</option>
                                        </select>
                                        <span CLASS='spell-progression' data-i18n='progress'>PROGRESS</span>
                                        <select class='class-4 class-spell-progression' name='attr_class_4_spell_progression' title='@{class_4_spell_progression'>
                                            <option value='half'>HALF</option>
                                            <option value='partial' selected='selected'>PARTIAL</option>
                                            <option value='full_prep'>FULL PREP</option>
                                            <option value='full_spont'>FULL SPONT</option>
                                        </select>
                                        <input type='radio' class='cantrips-only' name='attr_class_4_max_spell' value='0' checked='checked' hidden='true'>
                                        <input type='radio' class='spell1' name='attr_class_4_max_spell' value='1' hidden='true'>
                                        <input type='radio' class='spell2' name='attr_class_4_max_spell' value='2' hidden='true'>
                                        <input type='radio' class='spell3' name='attr_class_4_max_spell' value='3' hidden='true'>
                                        <input type='radio' class='spell4' name='attr_class_4_max_spell' value='4' hidden='true'>
                                        <input type='radio' class='spell5' name='attr_class_4_max_spell' value='5' hidden='true'>
                                        <input type='radio' class='spell6' name='attr_class_4_max_spell' value='6' hidden='true'>
                                        <input type='radio' class='spell7' name='attr_class_4_max_spell' value='7' hidden='true'>
                                        <input type='radio' class='spell8' name='attr_class_4_max_spell' value='8' hidden='true'>
                                        <input type='radio' class='spell9' name='attr_class_4_max_spell' value='9' hidden='true'>
                                        <span class='label daily' data-i18n='spells-per-day'>SPELLS PER DAY</span>
                                        <span class='label num aspell0'>0</span>
                                        <input class='label current aspell0' name='attr_class_4_cantrips_per_day'><span class='label slash aspell0'>/</span>
                                        <input class='label max aspell0' name='attr_class_4_cantrips_per_day_max'>
                                        <span class='label num class-spells-day aspell1'>1</span>
                                        <input class='label class-spells-day current aspell1' name='attr_class_4_level_1_spells_per_day'><span class='label class-spells-day slash aspell1'>/</span>
                                        <input class='label class-spells-day max aspell1' name='attr_class_4_level_1_spells_per_day_max'>
                                        <span class='label num class-spells-day aspell2'>2</span>
                                        <input class='label class-spells-day current aspell2' name='attr_class_4_level_2_spells_per_day'><span class='label class-spells-day slash aspell2'>/</span>
                                        <input class='label class-spells-day max aspell2' name='attr_class_4_level_2_spells_per_day_max'>
                                        <span class='label num class-spells-day aspell3'>3</span>
                                        <input class='label class-spells-day current aspell3' name='attr_class_4_level_3_spells_per_day'><span class='label class-spells-day slash aspell3'>/</span>
                                        <input class='label class-spells-day max aspell3' name='attr_class_4_level_3_spells_per_day_max'>
                                        <span class='label num class-spells-day aspell4'>4</span>
                                        <input class='label class-spells-day current aspell4' name='attr_class_4_level_4_spells_per_day'><span class='label class-spells-day slash aspell4'>/</span>
                                        <input class='label class-spells-day max aspell4' name='attr_class_4_level_4_spells_per_day_max'>
                                        <span class='label num class-spells-day aspell5'>5</span>
                                        <input class='label class-spells-day current aspell5' name='attr_class_4_level_5_spells_per_day'><span class='label class-spells-day slash aspell5'>/</span>
                                        <input class='label class-spells-day max aspell5' name='attr_class_4_level_5_spells_per_day_max'>
                                        <span class='label num class-spells-day aspell6'>6</span>
                                        <input class='label class-spells-day current aspell6' name='attr_class_4_level_6_spells_per_day'><span class='label class-spells-day slash aspell6'>/</span>
                                        <input class='label class-spells-day max aspell6' name='attr_class_4_level_6_spells_per_day_max'>
                                        <span class='label num class-spells-day aspell7'>7</span>
                                        <input class='label class-spells-day current aspell7' name='attr_class_4_level_7_spells_per_day'><span class='label class-spells-day slash aspell7'>/</span>
                                        <input class='label class-spells-day max aspell7' name='attr_class_4_level_7_spells_per_day_max'>
                                        <span class='label num class-spells-day aspell8'>8</span>
                                        <input class='label class-spells-day current aspell8' name='attr_class_4_level_8_spells_per_day'><span class='label class-spells-day slash aspell8'>/</span>
                                        <input class='label class-spells-day max aspell8' name='attr_class_4_level_8_spells_per_day_max'>
                                        <span class='label num class-spells-day aspell9'>9</span>
                                        <input class='label class-spells-day current aspell9' name='attr_class_4_level_9_spells_per_day'><span class='label class-spells-day slash aspell9'>/</span>
                                        <input class='label class-spells-day max aspell9' name='attr_class_4_level_9_spells_per_day_max'>
                                    </div>
                                    <!-- Caster 5 -->
                                    <input class='class-5 class-spells' name='attr_class_5_spells' title='@{class_5_spells' type='checkbox' checked='checked' value='1' hidden='true'>
                                    <div class='spellclass-container'>
                                        <input class='class-5 class-show' name='attr_class_5_show' titel='@{class_5_show}' type=checkbox checked='checked' value='1'>
                                        <span class='class-5 class-name' name='attr_class_5_name' title='@{class_5_name}' placeholder='1st Class' readonly='true'></span>
                                        <span class='class-5 class-num-level' name='attr_class_5_level' title='@{class_5_level}' placeholder='1' readonly='true'></span>
                                        <span class='casting-ability' data-i18n='ability'>ABILITY</span>
                                        <select class='class-5 class-ability' name='attr_class_5_casting_ability' title='@{class_5_casting_ability}'>
                                            <option value='strength_mod' selected='selected'>STR</option>
                                            <option value='dexterity_mod'>DEX</option>
                                            <option value='constitution_mod'>CON</option>
                                            <option value='intelligence_mod'>INT</option>
                                            <option value='wisdom_mod'>WIS</option>
                                            <option value='charisma_mod'>CHA</option>
                                        </select>
                                        <span CLASS='spell-progression' data-i18n='progress'>PROGRESS</span>
                                        <select class='class-5 class-spell-progression' name='attr_class_5_spell_progression' title='@{class_5_spell_progression'>
                                            <option value='half'>HALF</option>
                                            <option value='partial' selected='selected'>PARTIAL</option>
                                            <option value='full_prep'>FULL PREP</option>
                                            <option value='full_spont'>FULL SPONT</option>
                                        </select>
                                        <input type='radio' class='cantrips-only' name='attr_class_5_max_spell' value='0' checked='checked' hidden='true'>
                                        <input type='radio' class='spell1' name='attr_class_5_max_spell' value='1' hidden='true'>
                                        <input type='radio' class='spell2' name='attr_class_5_max_spell' value='2' hidden='true'>
                                        <input type='radio' class='spell3' name='attr_class_5_max_spell' value='3' hidden='true'>
                                        <input type='radio' class='spell4' name='attr_class_5_max_spell' value='4' hidden='true'>
                                        <input type='radio' class='spell5' name='attr_class_5_max_spell' value='5' hidden='true'>
                                        <input type='radio' class='spell6' name='attr_class_5_max_spell' value='6' hidden='true'>
                                        <input type='radio' class='spell7' name='attr_class_5_max_spell' value='7' hidden='true'>
                                        <input type='radio' class='spell8' name='attr_class_5_max_spell' value='8' hidden='true'>
                                        <input type='radio' class='spell9' name='attr_class_5_max_spell' value='9' hidden='true'>
                                        <span class='label daily' data-i18n='spells-per-day'>SPELLS PER DAY</span>
                                        <span class='label num aspell0'>0</span>
                                        <input class='label current aspell0' name='attr_class_5_cantrips_per_day'><span class='label slash aspell0'>/</span>
                                        <input class='label max aspell0' name='attr_class_5_cantrips_per_day_max'>
                                        <span class='label num class-spells-day aspell1'>1</span>
                                        <input class='label class-spells-day current aspell1' name='attr_class_5_level_1_spells_per_day'><span class='label class-spells-day slash aspell1'>/</span>
                                        <input class='label class-spells-day max aspell1' name='attr_class_5_level_1_spells_per_day_max'>
                                        <span class='label num class-spells-day aspell2'>2</span>
                                        <input class='label class-spells-day current aspell2' name='attr_class_5_level_2_spells_per_day'><span class='label class-spells-day slash aspell2'>/</span>
                                        <input class='label class-spells-day max aspell2' name='attr_class_5_level_2_spells_per_day_max'>
                                        <span class='label num class-spells-day aspell3'>3</span>
                                        <input class='label class-spells-day current aspell3' name='attr_class_5_level_3_spells_per_day'><span class='label class-spells-day slash aspell3'>/</span>
                                        <input class='label class-spells-day max aspell3' name='attr_class_5_level_3_spells_per_day_max'>
                                        <span class='label num class-spells-day aspell4'>4</span>
                                        <input class='label class-spells-day current aspell4' name='attr_class_5_level_4_spells_per_day'><span class='label class-spells-day slash aspell4'>/</span>
                                        <input class='label class-spells-day max aspell4' name='attr_class_5_level_4_spells_per_day_max'>
                                        <span class='label num class-spells-day aspell5'>5</span>
                                        <input class='label class-spells-day current aspell5' name='attr_class_5_level_5_spells_per_day'><span class='label class-spells-day slash aspell5'>/</span>
                                        <input class='label class-spells-day max aspell5' name='attr_class_5_level_5_spells_per_day_max'>
                                        <span class='label num class-spells-day aspell6'>6</span>
                                        <input class='label class-spells-day current aspell6' name='attr_class_5_level_6_spells_per_day'><span class='label class-spells-day slash aspell6'>/</span>
                                        <input class='label class-spells-day max aspell6' name='attr_class_5_level_6_spells_per_day_max'>
                                        <span class='label num class-spells-day aspell7'>7</span>
                                        <input class='label class-spells-day current aspell7' name='attr_class_5_level_7_spells_per_day'><span class='label class-spells-day slash aspell7'>/</span>
                                        <input class='label class-spells-day max aspell7' name='attr_class_5_level_7_spells_per_day_max'>
                                        <span class='label num class-spells-day aspell8'>8</span>
                                        <input class='label class-spells-day current aspell8' name='attr_class_5_level_8_spells_per_day'><span class='label class-spells-day slash aspell8'>/</span>
                                        <input class='label class-spells-day max aspell8' name='attr_class_5_level_8_spells_per_day_max'>
                                        <span class='label num class-spells-day aspell9'>9</span>
                                        <input class='label class-spells-day current aspell9' name='attr_class_5_level_9_spells_per_day'><span class='label class-spells-day slash aspell9'>/</span>
                                        <input class='label class-spells-day max aspell9' name='attr_class_5_level_9_spells_per_day_max'>
                                    </div>
                                </div>
                            </div>
                        </div>
                        <div class='spell-column'>
                            <input type='radio' class='cantrips-only' name='attr_char_max_spell2' value='0' checked='checked' hidden='true'>
                            <input type='radio' class='spell1' name='attr_char_max_spell_2' value='1' hidden='true'>
                            <input type='radio' class='spell2' name='attr_char_max_spell_2' value='2' hidden='true'>
                            <input type='radio' class='spell3' name='attr_char_max_spell_2' value='3' hidden='true'>
                            <input type='radio' class='spell4' name='attr_char_max_spell_2' value='4' hidden='true'>
                            <input type='radio' class='spell5' name='attr_char_max_spell_2' value='5' hidden='true'>
                            <input type='radio' class='spell6' name='attr_char_max_spell_2' value='6' hidden='true'>
                            <input type='radio' class='spell7' name='attr_char_max_spell_2' value='7' hidden='true'>
                            <input type='radio' class='spell8' name='attr_char_max_spell_2' value='8' hidden='true'>
                            <input type='radio' class='spell9' name='attr_char_max_spell_2' value='9' hidden='true'>
                            <div class='section-container aspell1 class-spells-day'>
                            <h1 class='section label' data-i18n='1st-level'>1st LEVEL</h1>
                            <div class='spell-header'>
                                <span class="label spell-name-col" data-i18n="name-u">NAME</span>
                                <span class='label spell-dc-col' data-i18n="dc">DC</span>
                                <span class="label spell-effect-col" data-i18n="effect">EFFECT</span>
                            </div>
                            <fieldset class='repeating_spell'>
                                <input class='filter' type='checkbox' hidden='true' name='attr_level_1_filter' value='1'>
                                <div class='filter-container spell'>
                                   <!--Hidden Ability Attributes -->
                                   <input type='text' hidden='true' name='attr_attack_misc' value=''>
                                   <input type='text' hidden='true' name='attr_effect_misc' value=''>
                                   <!--Shown Ability Attributes -->
                                    <input class="show-options" type="checkbox" name="attr_show_options" checked="checked"><span>y</span>
                                    <div class='spell-options'>
                                        <div class='row'>
                                        <span class='label' data-i18n='name-u'>NAME</span>
                                        <input class='atk-name' type='text' name='attr_name' placeholder="Operative's Edge">
                                        <span class='label' data-i18n='atk_level'>LVL</span>
                                        <input class='atk-level' name='attr_level' type='text' value=''>
                                        </div>
                                        <div class='row'>
                                            <span class='label' data-i18n='source'>SOURCE</span>
                                            <input class='weapon-cat' type='text' name='attr_source' placeholder='Operative'>
                                        </div>
                                        <div class='row'>
                                            <span class='label' data-i18n='target'>TARGET</span>
                                            <input class='target' type='text' name='attr_target' placeholder='self'>
                                            <span class='label' data-i18n='atk_range'>RNG</span>
                                            <input class='atk-range' type='text' name='attr_range' placeholder='30 ft'>
                                        </div>
                                        <div class='row'>
                                            <span class='label' data-i18n='duration'>DURATION</span>
                                            <input class='target' type='text' name='attr_duration' placeholder='1 round' value=''>
                                        </div>
                                        <div class='row'>
                                            <span class='label abi-cost' data-i18n='usage'>USAGE</span>
                                            <input class='abi-cost' type='text' name='attr_usage' placeholder='Standard Action'>
                                        </div>
                                        <input class='field-tab' type='checkbox' name='attr_attack_checkbox' value='1' hidden='true'>
                                        <div class='field-container'>
                                            <input class='field-tab atk-tab' type='checkbox' name='attr_attack_checkbox' value='1'><span class='field label' data-i18n='atk'>ATK</span>
                                        <div class='field row'>
                                                <select class='label atk-ability abi' name='attr_attack_ability'>
                                                    <option value='strength_mod' selected='selected'>STR</option>
                                                    <option value='dexterity_mod'>DEX</option>
                                                    <option value='constitution_mod'>CON</option>
                                                    <option value='intelligence_mod'>INT</option>
                                                    <option value='wisdom_mod'>WIS</option>
                                                    <option value='charisma_mod'>CHA</option>
                                                </select>
                                                <input hidden='true' name='attr_attack_ability_value' value='0'>
                                                <span class='arith'>+</span>
                                                <input class='bab' name='attr_bab' readonly='true' title='@{bab}' value='0'>
                                                <input class='abi-misc' type='text' name='attr_attack_bonus' placeholder='+@{attr}/2 + ?{Query}'>
                                            </div>
                                            <div class='field row'>
                                                <span class='label' data-i18n='atk_range'>RNG</span>
                                                <input class='atk-range' type='text' name='attr_range' placeholder='30 ft'>
                                            </div>
                                        </div>
                                        <input class='field-tab' type='checkbox' name='attr_damage_checkbox' value='1' hidden='true'>
                                        <div class='field-container'>
                                            <input hidden='true' name='attr_damage_misc' value=''>
                                            <input class='field-tab dmg-tab' type='checkbox' name='attr_damage_checkbox' value='1'><span class='field label' data-i18n='dmg'>DMG</span>
                                            <div class='field row'>
                                                <input class='abi-dmg-dice' type='text' name=attr_damage_dice title='@{repeating_attack_$X_damage_dice}' placeholder='1d8'><span>+</span>
                                                <select class='label atk-ability abi' name='attr_damage_ability'>
                                                    <option value='' selected='selected'>N/A</option>
                                                    <option value='strength_mod'>STR</option>
                                                    <option value='dexterity_mod'>DEX</option>
                                                    <option value='constitution_mod'>CON</option>
                                                    <option value='intelligence_mod'>INT</option>
                                                    <option value='wisdom_mod'>WIS</option>
                                                    <option value='charisma_mod'>CHA</option>
                                                </select>
                                                <input hidden='true' name='attr_damage_ability_value' value='0'>
                                            </div>
                                            <div class='field row'>
                                                <span class='label' data-i18n='atk_type'>TYPE</span>
                                                <input class='atk-type' type='text' name='attr_attack_type' placeholder='Fire'>
                                                <span class='label' data-i18n='atk_crit_effect'>CRIT EFFECT</span>
                                                <input class='atk-crit' type='text' name='attr_attack_crit' placeholder='Burn'>
                                            </div>
                                        </div>
                                        <input class='field-tab' type='checkbox' name='attr_save_checkbox' value='1' hidden='true'>
                                        <div class='field-container'>
                                            <input class='field-tab save-effect-tab' type='checkbox' name='attr_save_checkbox' value='1'><span class='field label' data-i18n='save-effect'>SAVE EFFECT</span>
                                            <div class='field row'>
                                                <select class='label atk-ability abi' name='attr_save_ability'>
                                                    <option value='strength_mod' data-i18n='str' selected='selected'>STR</option>
                                                    <option value='dexterity_mod' data-i18n='dex'>DEX</option>
                                                    <option value='constitution_mod' data-i18n='con'>CON</option>
                                                    <option value='intelligence_mod' data-i18n='int'>INT</option>
                                                    <option value='wisdom_mod' data-i18n='wis'>WIS</option>
                                                    <option value='charisma_mod' data-i18n='cha'>CHA</option>
                                                </select>
                                                <span class='label' data-i18n='based-dc_'>Based DC </span>
                                                <input hidden='true' name='attr_dc' value='10'>
                                                <span class='save-dc label' name='attr_dc' value='10'>10</span>
                                                <select class='label save-type' name='attr_save_type'>
                                                    <option value='' selected='selected'>-</option>
                                                    <option value='FORT' data-i18n='fort-save'>FORT SAVE</option>
                                                    <option value='REF' data-i18n='ref-save'>REF SAVE</option>
                                                    <option value='WILL' data-i18n='will-save'>WILL SAVE</option>
                                                </select>
                                            </div>
                                            <div class='field row'>
                                                <textarea class='abi-description' name='attr_effect' placeholder='Effect on a Failed Save'></textarea>
                                            </div>
                                            <div class='field row'>
                                                <span class='label' data-i18n='A-Sucessful-Save:'>A Sucessful Save:</span>
                                            </div>
                                            <div class='field row'>
                                                <textarea class='abi-description' name='attr_save_effect' placeholder='Effect on a Successful Save'></textarea>
                                            </div>
                                            <div class='field row'>
                                            </div>
                                        </div>
                                        <input class='field-tab' type='checkbox' name='attr_macro_checkbox' value='1' hidden='true'>
                                        <div class='row field-container mod-container'>
                                            <input class='field-tab macro-tab' type='checkbox' name='attr_macro_checkbox' value='1'><span class='label field' data-i18n='macro'>MACRO</span>
                                            <textarea class='field row abi-description' type='text' name='attr_macro'>&{template:sf_spell} {{name=@{character_name}}} {{characterid=@{character_id}}} {{title=@{name}}} {{level=[[[[@{level}]]d1cs>2cf<0]]}} {{saveflag=[[1d@{save_checkbox}]]}} {{activation=@{usage}}} {{duration=@{duration}}} {{targets=@{target}}} {{range=@{range}}} {{savedc=[[@{dc}]]}} {{savetype=@{save_type}}} {{effect=@{effect}}} {{saveeffect=@{save_effect}}} {{attackflag=[[1d@{attack_checkbox}]]}} {{r1=[[1d20+@{bab}[BAB]+@{attack_ability_value}[ABILITY]@{attack_misc}@{attack_bonus}]]}} {{damageflag=[[1d@{damage_checkbox}]]}} {{damage1type=@{attack_type}}} {{damage1=[[@{damage_dice}+@{damage_ability_value}[ABILITY]@{damage_misc}]]}} {{crit1damage=[[@{damage_dice}+@{damage_ability_value}[ABILITY]@{damage_misc}]]}} {{crit1effect=@{attack_crit}}} {{notes=@{description}}}</textarea>
                                        </div>
                                        <div class='row'>
                                            <textarea class='abi-description' name='attr_description' title='@{repeatin_ability_$X_description}' placeholder='Description'></textarea>
                                        </div>
                                    </div>
                                    <div class='display'>
                                        <button class='summary' type='roll' name='roll_roll' value='@{macro}'>
                                            <span class='label abi-name-col' name='attr_name' placeholder='Laser Pistol'>Laser Pistol</span>
                                            <div class='attr-total-container'>
                                                <input class='mod-debuff' type='radio' name='attr_dc_change' value='-1' hidden='true'>
                                                <input class='mod-normal' type='radio' name='attr_dc_change' value='0' hidden='true' checked='checked'>
                                                <input class='mod-buff' type='radio' name='attr_dc_change' value='1' hidden='true'>
                                                <span class='label abi-dc-col modified-attr' name='attr_dc' value='0'>0</span>
                                            </div>
                                            <div class='attr-total-container'>
                                                <input class='mod-debuff' type='radio' name='attr_effect_change' value='-1' hidden='true'>
                                                <input class='mod-normal' type='radio' name='attr_effect_change' value='0' hidden='true' checked='checked'>
                                                <input class='mod-buff' type='radio' name='attr_effect_change' value='1' hidden='true'>
                                                <span class='label abi-effect-col modified-attr' name='attr_effect' value=' '> </span>
                                            </div>
                                        </button>
                                    </div>
                                </div>
                            </fieldset>
                            <div class='pseudo-repcontrol spell'>
                                <input type='checkbox' name='attr_create_1st' value='1'>
                                <span>&</span>
                            </div>
                        </div>
                            <div class='section-container aspell4 class-spells-day'>
                            <h1 class='section label' data-i18n='4th-level'>4th LEVEL</h1>
                            <div class='spell-header'>
                                <span class="label spell-name-col" data-i18n="name-u">NAME</span>
                                <span class='label spell-dc-col' data-i18n="dc">DC</span>
                                <span class="label spell-effect-col" data-i18n="effect">EFFECT</span>
                            </div>
                            <fieldset class='repeating_spell'>
                                <input class='filter' type='checkbox' hidden='true' name='attr_level_4_filter' value='4'>
                                <div class='filter-container spell'>
                                   <!--Hidden Ability Attributes -->
                                   <input type='text' hidden='true' name='attr_attack_misc' value=''>
                                   <input type='text' hidden='true' name='attr_effect_misc' value=''>
                                   <!--Shown Ability Attributes -->
                                    <input class="show-options" type="checkbox" name="attr_show_options" checked="checked"><span>y</span>
                                    <div class='spell-options'>
                                        <div class='row'>
                                        <span class='label' data-i18n='name-u'>NAME</span>
                                        <input class='atk-name' type='text' name='attr_name' placeholder="Operative's Edge">
                                        <span class='label' data-i18n='atk_level'>LVL</span>
                                        <input class='atk-level' name='attr_level' type='text' value=''>
                                        </div>
                                        <div class='row'>
                                            <span class='label' data-i18n='source'>SOURCE</span>
                                            <input class='weapon-cat' type='text' name='attr_source' placeholder='Operative'>
                                        </div>
                                        <div class='row'>
                                            <span class='label' data-i18n='target'>TARGET</span>
                                            <input class='target' type='text' name='attr_target' placeholder='self'>
                                            <span class='label' data-i18n='atk_range'>RNG</span>
                                            <input class='atk-range' type='text' name='attr_range' placeholder='30 ft'>
                                        </div>
                                        <div class='row'>
                                            <span class='label' data-i18n='duration'>DURATION</span>
                                            <input class='target' type='text' name='attr_duration' placeholder='1 round' value=''>
                                        </div>
                                        <div class='row'>
                                            <span class='label abi-cost' data-i18n='usage'>USAGE</span>
                                            <input class='abi-cost' type='text' name='attr_usage' placeholder='Standard Action'>
                                        </div>
                                        <input class='field-tab' type='checkbox' name='attr_attack_checkbox' value='1' hidden='true'>
                                        <div class='field-container'>
                                            <input class='field-tab atk-tab' type='checkbox' name='attr_attack_checkbox' value='1'><span class='field label' data-i18n='atk'>ATK</span>
                                        <div class='field row'>
                                                <select class='label atk-ability abi' name='attr_attack_ability'>
                                                    <option value='strength_mod' selected='selected'>STR</option>
                                                    <option value='dexterity_mod'>DEX</option>
                                                    <option value='constitution_mod'>CON</option>
                                                    <option value='intelligence_mod'>INT</option>
                                                    <option value='wisdom_mod'>WIS</option>
                                                    <option value='charisma_mod'>CHA</option>
                                                </select>
                                                <input hidden='true' name='attr_attack_ability_value' value='0'>
                                                <span class='arith'>+</span>
                                                <input class='bab' name='attr_bab' readonly='true' title='@{bab}' value='0'>
                                                <input class='abi-misc' type='text' name='attr_attack_bonus' placeholder='+@{attr}/2 + ?{Query}'>
                                            </div>
                                            <div class='field row'>
                                                <span class='label' data-i18n='atk_range'>RNG</span>
                                                <input class='atk-range' type='text' name='attr_range' placeholder='30 ft'>
                                            </div>
                                        </div>
                                        <input class='field-tab' type='checkbox' name='attr_damage_checkbox' value='1' hidden='true'>
                                        <div class='field-container'>
                                            <input hidden='true' name='attr_damage_misc' value=''>
                                            <input class='field-tab dmg-tab' type='checkbox' name='attr_damage_checkbox' value='1'><span class='field label' data-i18n='dmg'>DMG</span>
                                            <div class='field row'>
                                                <input class='abi-dmg-dice' type='text' name=attr_damage_dice title='@{repeating_attack_$X_damage_dice}' placeholder='1d8'><span>+</span>
                                                <select class='label atk-ability abi' name='attr_damage_ability'>
                                                    <option value='' selected='selected'>N/A</option>
                                                    <option value='strength_mod'>STR</option>
                                                    <option value='dexterity_mod'>DEX</option>
                                                    <option value='constitution_mod'>CON</option>
                                                    <option value='intelligence_mod'>INT</option>
                                                    <option value='wisdom_mod'>WIS</option>
                                                    <option value='charisma_mod'>CHA</option>
                                                </select>
                                                <input hidden='true' name='attr_damage_ability_value' value='0'>
                                            </div>
                                            <div class='field row'>
                                                <span class='label' data-i18n='atk_type'>TYPE</span>
                                                <input class='atk-type' type='text' name='attr_attack_type' placeholder='Fire'>
                                                <span class='label' data-i18n='atk_crit_effect'>CRIT EFFECT</span>
                                                <input class='atk-crit' type='text' name='attr_attack_crit' placeholder='Burn'>
                                            </div>
                                        </div>
                                        <input class='field-tab' type='checkbox' name='attr_save_checkbox' value='1' hidden='true'>
                                        <div class='field-container'>
                                            <input class='field-tab save-effect-tab' type='checkbox' name='attr_save_checkbox' value='1'><span class='field label' data-i18n='save-effect'>SAVE EFFECT</span>
                                            <div class='field row'>
                                                <select class='label atk-ability abi' name='attr_save_ability'>
                                                    <option value='strength_mod' data-i18n='str' selected='selected'>STR</option>
                                                    <option value='dexterity_mod' data-i18n='dex'>DEX</option>
                                                    <option value='constitution_mod' data-i18n='con'>CON</option>
                                                    <option value='intelligence_mod' data-i18n='int'>INT</option>
                                                    <option value='wisdom_mod' data-i18n='wis'>WIS</option>
                                                    <option value='charisma_mod' data-i18n='cha'>CHA</option>
                                                </select>
                                                <span class='label' data-i18n='based-dc_'>Based DC </span>
                                                <input hidden='true' name='attr_dc' value='10'>
                                                <span class='save-dc label' name='attr_dc' value='10'>10</span>
                                                <select class='label save-type' name='attr_save_type'>
                                                    <option value='' selected='selected'>-</option>
                                                    <option value='FORT' data-i18n='fort-save'>FORT SAVE</option>
                                                    <option value='REF' data-i18n='ref-save'>REF SAVE</option>
                                                    <option value='WILL' data-i18n='will-save'>WILL SAVE</option>
                                                </select>
                                            </div>
                                            <div class='field row'>
                                                <textarea class='abi-description' name='attr_effect' placeholder='Effect on a Failed Save'></textarea>
                                            </div>
                                            <div class='field row'>
                                                <span class='label' data-i18n='A-Sucessful-Save:'>A Sucessful Save:</span>
                                            </div>
                                            <div class='field row'>
                                                <textarea class='abi-description' name='attr_save_effect' placeholder='Effect on a Successful Save'></textarea>
                                            </div>
                                            <div class='field row'>
                                            </div>
                                        </div>
                                        <input class='field-tab' type='checkbox' name='attr_macro_checkbox' value='1' hidden='true'>
                                        <div class='row field-container mod-container'>
                                            <input class='field-tab macro-tab' type='checkbox' name='attr_macro_checkbox' value='1'><span class='label field' data-i18n='macro'>MACRO</span>
                                            <textarea class='field row abi-description' type='text' name='attr_macro'>&{template:sf_spell} {{name=@{character_name}}} {{characterid=@{character_id}}} {{title=@{name}}} {{level=[[[[@{level}]]d1cs>2cf<0]]}} {{saveflag=[[1d@{save_checkbox}]]}} {{activation=@{usage}}} {{duration=@{duration}}} {{targets=@{target}}} {{range=@{range}}} {{savedc=[[@{dc}]]}} {{savetype=@{save_type}}} {{effect=@{effect}}} {{saveeffect=@{save_effect}}} {{attackflag=[[1d@{attack_checkbox}]]}} {{r1=[[1d20+@{bab}[BAB]+@{attack_ability_value}[ABILITY]@{attack_misc}@{attack_bonus}]]}} {{damageflag=[[1d@{damage_checkbox}]]}} {{damage1type=@{attack_type}}} {{damage1=[[@{damage_dice}+@{damage_ability_value}[ABILITY]@{damage_misc}]]}} {{crit1damage=[[@{damage_dice}+@{damage_ability_value}[ABILITY]@{damage_misc}]]}} {{crit1effect=@{attack_crit}}} {{notes=@{description}}}</textarea>
                                        </div>
                                        <div class='row'>
                                            <textarea class='abi-description' name='attr_description' title='@{repeatin_ability_$X_description}' placeholder='Description'></textarea>
                                        </div>
                                    </div>
                                    <div class='display'>
                                        <button class='summary' type='roll' name='roll_roll' value='@{macro}'>
                                            <span class='label abi-name-col' name='attr_name' placeholder='Laser Pistol'>Laser Pistol</span>
                                            <div class='attr-total-container'>
                                                <input class='mod-debuff' type='radio' name='attr_dc_change' value='-1' hidden='true'>
                                                <input class='mod-normal' type='radio' name='attr_dc_change' value='0' hidden='true' checked='checked'>
                                                <input class='mod-buff' type='radio' name='attr_dc_change' value='1' hidden='true'>
                                                <span class='label abi-dc-col modified-attr' name='attr_dc' value='0'>0</span>
                                            </div>
                                            <div class='attr-total-container'>
                                                <input class='mod-debuff' type='radio' name='attr_effect_change' value='-1' hidden='true'>
                                                <input class='mod-normal' type='radio' name='attr_effect_change' value='0' hidden='true' checked='checked'>
                                                <input class='mod-buff' type='radio' name='attr_effect_change' value='1' hidden='true'>
                                                <span class='label abi-effect-col modified-attr' name='attr_effect' value=' '> </span>
                                            </div>
                                        </button>
                                    </div>
                                </div>
                            </fieldset>
                            <div class='pseudo-repcontrol spell'>
                                <input type='checkbox' name='attr_create_4th' value='1'>
                                <span>&</span>
                            </div>
                        </div>
                            <div class='section-container aspell7 class-spells-day'>
                            <h1 class='section label' data-i18n='7th-level'>7th LEVEL</h1>
                            <div class='spell-header'>
                                <span class="label spell-name-col" data-i18n="name-u">NAME</span>
                                <span class='label spell-dc-col' data-i18n="dc">DC</span>
                                <span class="label spell-effect-col" data-i18n="effect">EFFECT</span>
                            </div>
                            <fieldset class='repeating_spell'>
                                <input class='filter' type='checkbox' hidden='true' name='attr_level_7_filter' value='7'>
                                <div class='filter-container spell'>
                                   <!--Hidden Ability Attributes -->
                                   <input type='text' hidden='true' name='attr_attack_misc' value=''>
                                   <input type='text' hidden='true' name='attr_effect_misc' value=''>
                                   <!--Shown Ability Attributes -->
                                    <input class="show-options" type="checkbox" name="attr_show_options" checked="checked"><span>y</span>
                                    <div class='spell-options'>
                                        <div class='row'>
                                        <span class='label' data-i18n='name-u'>NAME</span>
                                        <input class='atk-name' type='text' name='attr_name' placeholder="Operative's Edge">
                                        <span class='label' data-i18n='atk_level'>LVL</span>
                                        <input class='atk-level' name='attr_level' type='text' value=''>
                                        </div>
                                        <div class='row'>
                                            <span class='label' data-i18n='source'>SOURCE</span>
                                            <input class='weapon-cat' type='text' name='attr_source' placeholder='Operative'>
                                        </div>
                                        <div class='row'>
                                            <span class='label' data-i18n='target'>TARGET</span>
                                            <input class='target' type='text' name='attr_target' placeholder='self'>
                                            <span class='label' data-i18n='atk_range'>RNG</span>
                                            <input class='atk-range' type='text' name='attr_range' placeholder='30 ft'>
                                        </div>
                                        <div class='row'>
                                            <span class='label' data-i18n='duration'>DURATION</span>
                                            <input class='target' type='text' name='attr_duration' placeholder='1 round' value=''>
                                        </div>
                                        <div class='row'>
                                            <span class='label abi-cost' data-i18n='usage'>USAGE</span>
                                            <input class='abi-cost' type='text' name='attr_usage' placeholder='Standard Action'>
                                        </div>
                                        <input class='field-tab' type='checkbox' name='attr_attack_checkbox' value='1' hidden='true'>
                                        <div class='field-container'>
                                            <input class='field-tab atk-tab' type='checkbox' name='attr_attack_checkbox' value='1'><span class='field label' data-i18n='atk'>ATK</span>
                                        <div class='field row'>
                                                <select class='label atk-ability abi' name='attr_attack_ability'>
                                                    <option value='strength_mod' selected='selected'>STR</option>
                                                    <option value='dexterity_mod'>DEX</option>
                                                    <option value='constitution_mod'>CON</option>
                                                    <option value='intelligence_mod'>INT</option>
                                                    <option value='wisdom_mod'>WIS</option>
                                                    <option value='charisma_mod'>CHA</option>
                                                </select>
                                                <input hidden='true' name='attr_attack_ability_value' value='0'>
                                                <span class='arith'>+</span>
                                                <input class='bab' name='attr_bab' readonly='true' title='@{bab}' value='0'>
                                                <input class='abi-misc' type='text' name='attr_attack_bonus' placeholder='+@{attr}/2 + ?{Query}'>
                                            </div>
                                            <div class='field row'>
                                                <span class='label' data-i18n='atk_range'>RNG</span>
                                                <input class='atk-range' type='text' name='attr_range' placeholder='30 ft'>
                                            </div>
                                        </div>
                                        <input class='field-tab' type='checkbox' name='attr_damage_checkbox' value='1' hidden='true'>
                                        <div class='field-container'>
                                            <input hidden='true' name='attr_damage_misc' value=''>
                                            <input class='field-tab dmg-tab' type='checkbox' name='attr_damage_checkbox' value='1'><span class='field label' data-i18n='dmg'>DMG</span>
                                            <div class='field row'>
                                                <input class='abi-dmg-dice' type='text' name=attr_damage_dice title='@{repeating_attack_$X_damage_dice}' placeholder='1d8'><span>+</span>
                                                <select class='label atk-ability abi' name='attr_damage_ability'>
                                                    <option value='' selected='selected'>N/A</option>
                                                    <option value='strength_mod'>STR</option>
                                                    <option value='dexterity_mod'>DEX</option>
                                                    <option value='constitution_mod'>CON</option>
                                                    <option value='intelligence_mod'>INT</option>
                                                    <option value='wisdom_mod'>WIS</option>
                                                    <option value='charisma_mod'>CHA</option>
                                                </select>
                                                <input hidden='true' name='attr_damage_ability_value' value='0'>
                                            </div>
                                            <div class='field row'>
                                                <span class='label' data-i18n='atk_type'>TYPE</span>
                                                <input class='atk-type' type='text' name='attr_attack_type' placeholder='Fire'>
                                                <span class='label' data-i18n='atk_crit_effect'>CRIT EFFECT</span>
                                                <input class='atk-crit' type='text' name='attr_attack_crit' placeholder='Burn'>
                                            </div>
                                        </div>
                                        <input class='field-tab' type='checkbox' name='attr_save_checkbox' value='1' hidden='true'>
                                        <div class='field-container'>
                                            <input class='field-tab save-effect-tab' type='checkbox' name='attr_save_checkbox' value='1'><span class='field label' data-i18n='save-effect'>SAVE EFFECT</span>
                                            <div class='field row'>
                                                <select class='label atk-ability abi' name='attr_save_ability'>
                                                    <option value='strength_mod' data-i18n='str' selected='selected'>STR</option>
                                                    <option value='dexterity_mod' data-i18n='dex'>DEX</option>
                                                    <option value='constitution_mod' data-i18n='con'>CON</option>
                                                    <option value='intelligence_mod' data-i18n='int'>INT</option>
                                                    <option value='wisdom_mod' data-i18n='wis'>WIS</option>
                                                    <option value='charisma_mod' data-i18n='cha'>CHA</option>
                                                </select>
                                                <span class='label' data-i18n='based-dc_'>Based DC </span>
                                                <input hidden='true' name='attr_dc' value='10'>
                                                <span class='save-dc label' name='attr_dc' value='10'>10</span>
                                                <select class='label save-type' name='attr_save_type'>
                                                    <option value='' selected='selected'>-</option>
                                                    <option value='FORT' data-i18n='fort-save'>FORT SAVE</option>
                                                    <option value='REF' data-i18n='ref-save'>REF SAVE</option>
                                                    <option value='WILL' data-i18n='will-save'>WILL SAVE</option>
                                                </select>
                                            </div>
                                            <div class='field row'>
                                                <textarea class='abi-description' name='attr_effect' placeholder='Effect on a Failed Save'></textarea>
                                            </div>
                                            <div class='field row'>
                                                <span class='label' data-i18n='A-Sucessful-Save:'>A Sucessful Save:</span>
                                            </div>
                                            <div class='field row'>
                                                <textarea class='abi-description' name='attr_save_effect' placeholder='Effect on a Successful Save'></textarea>
                                            </div>
                                            <div class='field row'>
                                            </div>
                                        </div>
                                        <input class='field-tab' type='checkbox' name='attr_macro_checkbox' value='1' hidden='true'>
                                        <div class='row field-container mod-container'>
                                            <input class='field-tab macro-tab' type='checkbox' name='attr_macro_checkbox' value='1'><span class='label field' data-i18n='macro'>MACRO</span>
                                            <textarea class='field row abi-description' type='text' name='attr_macro'>&{template:sf_spell} {{name=@{character_name}}} {{characterid=@{character_id}}} {{title=@{name}}} {{level=[[[[@{level}]]d1cs>2cf<0]]}} {{saveflag=[[1d@{save_checkbox}]]}} {{activation=@{usage}}} {{duration=@{duration}}} {{targets=@{target}}} {{range=@{range}}} {{savedc=[[@{dc}]]}} {{savetype=@{save_type}}} {{effect=@{effect}}} {{saveeffect=@{save_effect}}} {{attackflag=[[1d@{attack_checkbox}]]}} {{r1=[[1d20+@{bab}[BAB]+@{attack_ability_value}[ABILITY]@{attack_misc}@{attack_bonus}]]}} {{damageflag=[[1d@{damage_checkbox}]]}} {{damage1type=@{attack_type}}} {{damage1=[[@{damage_dice}+@{damage_ability_value}[ABILITY]@{damage_misc}]]}} {{crit1damage=[[@{damage_dice}+@{damage_ability_value}[ABILITY]@{damage_misc}]]}} {{crit1effect=@{attack_crit}}} {{notes=@{description}}}</textarea>
                                        </div>
                                        <div class='row'>
                                            <textarea class='abi-description' name='attr_description' title='@{repeatin_ability_$X_description}' placeholder='Description'></textarea>
                                        </div>
                                    </div>
                                    <div class='display'>
                                        <button class='summary' type='roll' name='roll_roll' value='@{macro}'>
                                            <span class='label abi-name-col' name='attr_name' placeholder='Laser Pistol'>Laser Pistol</span>
                                            <div class='attr-total-container'>
                                                <input class='mod-debuff' type='radio' name='attr_dc_change' value='-1' hidden='true'>
                                                <input class='mod-normal' type='radio' name='attr_dc_change' value='0' hidden='true' checked='checked'>
                                                <input class='mod-buff' type='radio' name='attr_dc_change' value='1' hidden='true'>
                                                <span class='label abi-dc-col modified-attr' name='attr_dc' value='0'>0</span>
                                            </div>
                                            <div class='attr-total-container'>
                                                <input class='mod-debuff' type='radio' name='attr_effect_change' value='-1' hidden='true'>
                                                <input class='mod-normal' type='radio' name='attr_effect_change' value='0' hidden='true' checked='checked'>
                                                <input class='mod-buff' type='radio' name='attr_effect_change' value='1' hidden='true'>
                                                <span class='label abi-effect-col modified-attr' name='attr_effect' value=' '> </span>
                                            </div>
                                        </button>
                                    </div>
                                </div>
                            </fieldset>
                            <div class='pseudo-repcontrol spell'>
                                <input type='checkbox' name='attr_create_7th' value='1'>
                                <span>&</span>
                            </div>
                        </div>
                        </div>
                        <div class='spell-column'>
                            <input type='radio' class='cantrips-only' name='attr_char_max_spell_3' value='0' checked='checked' hidden='true'>
                            <input type='radio' class='spell1' name='attr_char_max_spell_3' value='1' hidden='true'>
                            <input type='radio' class='spell2' name='attr_char_max_spell_3' value='2' hidden='true'>
                            <input type='radio' class='spell3' name='attr_char_max_spell_3' value='3' hidden='true'>
                            <input type='radio' class='spell4' name='attr_char_max_spell_3' value='4' hidden='true'>
                            <input type='radio' class='spell5' name='attr_char_max_spell_3' value='5' hidden='true'>
                            <input type='radio' class='spell6' name='attr_char_max_spell_3' value='6' hidden='true'>
                            <input type='radio' class='spell7' name='attr_char_max_spell_3' value='7' hidden='true'>
                            <input type='radio' class='spell8' name='attr_char_max_spell_3' value='8' hidden='true'>
                            <input type='radio' class='spell9' name='attr_char_max_spell_3' value='9' hidden='true'>
                            <div class='section-container aspell2 class-spells-day'>
                            <h1 class='section label' data-i18n='2nd-level'>2nd LEVEL</h1>
                            <div class='spell-header'>
                                <span class="label spell-name-col" data-i18n="name-u">NAME</span>
                                <span class='label spell-dc-col' data-i18n="dc">DC</span>
                                <span class="label spell-effect-col" data-i18n="effect">EFFECT</span>
                            </div>
                            <fieldset class='repeating_spell'>
                                <input class='filter' type='checkbox' hidden='true' name='attr_level_2_filter' value='2'>
                                <div class='filter-container spell'>
                                   <!--Hidden Ability Attributes -->
                                   <input type='text' hidden='true' name='attr_attack_misc' value=''>
                                   <input type='text' hidden='true' name='attr_effect_misc' value=''>
                                   <!--Shown Ability Attributes -->
                                    <input class="show-options" type="checkbox" name="attr_show_options" checked="checked"><span>y</span>
                                    <div class='spell-options'>
                                        <div class='row'>
                                        <span class='label' data-i18n='name-u'>NAME</span>
                                        <input class='atk-name' type='text' name='attr_name' placeholder="Operative's Edge">
                                        <span class='label' data-i18n='atk_level'>LVL</span>
                                        <input class='atk-level' name='attr_level' type='text' value=''>
                                        </div>
                                        <div class='row'>
                                            <span class='label' data-i18n='source'>SOURCE</span>
                                            <input class='weapon-cat' type='text' name='attr_source' placeholder='Operative'>
                                        </div>
                                        <div class='row'>
                                            <span class='label' data-i18n='target'>TARGET</span>
                                            <input class='target' type='text' name='attr_target' placeholder='self'>
                                            <span class='label' data-i18n='atk_range'>RNG</span>
                                            <input class='atk-range' type='text' name='attr_range' placeholder='30 ft'>
                                        </div>
                                        <div class='row'>
                                            <span class='label' data-i18n='duration'>DURATION</span>
                                            <input class='target' type='text' name='attr_duration' placeholder='1 round' value=''>
                                        </div>
                                        <div class='row'>
                                            <span class='label abi-cost' data-i18n='usage'>USAGE</span>
                                            <input class='abi-cost' type='text' name='attr_usage' placeholder='Standard Action'>
                                        </div>
                                        <input class='field-tab' type='checkbox' name='attr_attack_checkbox' value='1' hidden='true'>
                                        <div class='field-container'>
                                            <input class='field-tab atk-tab' type='checkbox' name='attr_attack_checkbox' value='1'><span class='field label' data-i18n='atk'>ATK</span>
                                        <div class='field row'>
                                                <select class='label atk-ability abi' name='attr_attack_ability'>
                                                    <option value='strength_mod' selected='selected'>STR</option>
                                                    <option value='dexterity_mod'>DEX</option>
                                                    <option value='constitution_mod'>CON</option>
                                                    <option value='intelligence_mod'>INT</option>
                                                    <option value='wisdom_mod'>WIS</option>
                                                    <option value='charisma_mod'>CHA</option>
                                                </select>
                                                <input hidden='true' name='attr_attack_ability_value' value='0'>
                                                <span class='arith'>+</span>
                                                <input class='bab' name='attr_bab' readonly='true' title='@{bab}' value='0'>
                                                <input class='abi-misc' type='text' name='attr_attack_bonus' placeholder='+@{attr}/2 + ?{Query}'>
                                            </div>
                                            <div class='field row'>
                                                <span class='label' data-i18n='atk_range'>RNG</span>
                                                <input class='atk-range' type='text' name='attr_range' placeholder='30 ft'>
                                            </div>
                                        </div>
                                        <input class='field-tab' type='checkbox' name='attr_damage_checkbox' value='1' hidden='true'>
                                        <div class='field-container'>
                                            <input hidden='true' name='attr_damage_misc' value=''>
                                            <input class='field-tab dmg-tab' type='checkbox' name='attr_damage_checkbox' value='1'><span class='field label' data-i18n='dmg'>DMG</span>
                                            <div class='field row'>
                                                <input class='abi-dmg-dice' type='text' name=attr_damage_dice title='@{repeating_attack_$X_damage_dice}' placeholder='1d8'><span>+</span>
                                                <select class='label atk-ability abi' name='attr_damage_ability'>
                                                    <option value='' selected='selected'>N/A</option>
                                                    <option value='strength_mod'>STR</option>
                                                    <option value='dexterity_mod'>DEX</option>
                                                    <option value='constitution_mod'>CON</option>
                                                    <option value='intelligence_mod'>INT</option>
                                                    <option value='wisdom_mod'>WIS</option>
                                                    <option value='charisma_mod'>CHA</option>
                                                </select>
                                                <input hidden='true' name='attr_damage_ability_value' value='0'>
                                            </div>
                                            <div class='field row'>
                                                <span class='label' data-i18n='atk_type'>TYPE</span>
                                                <input class='atk-type' type='text' name='attr_attack_type' placeholder='Fire'>
                                                <span class='label' data-i18n='atk_crit_effect'>CRIT EFFECT</span>
                                                <input class='atk-crit' type='text' name='attr_attack_crit' placeholder='Burn'>
                                            </div>
                                        </div>
                                        <input class='field-tab' type='checkbox' name='attr_save_checkbox' value='1' hidden='true'>
                                        <div class='field-container'>
                                            <input class='field-tab save-effect-tab' type='checkbox' name='attr_save_checkbox' value='1'><span class='field label' data-i18n='save-effect'>SAVE EFFECT</span>
                                            <div class='field row'>
                                                <select class='label atk-ability abi' name='attr_save_ability'>
                                                    <option value='strength_mod' data-i18n='str' selected='selected'>STR</option>
                                                    <option value='dexterity_mod' data-i18n='dex'>DEX</option>
                                                    <option value='constitution_mod' data-i18n='con'>CON</option>
                                                    <option value='intelligence_mod' data-i18n='int'>INT</option>
                                                    <option value='wisdom_mod' data-i18n='wis'>WIS</option>
                                                    <option value='charisma_mod' data-i18n='cha'>CHA</option>
                                                </select>
                                                <span class='label' data-i18n='based-dc_'>Based DC </span>
                                                <input hidden='true' name='attr_dc' value='10'>
                                                <span class='save-dc label' name='attr_dc' value='10'>10</span>
                                                <select class='label save-type' name='attr_save_type'>
                                                    <option value='' selected='selected'>-</option>
                                                    <option value='FORT' data-i18n='fort-save'>FORT SAVE</option>
                                                    <option value='REF' data-i18n='ref-save'>REF SAVE</option>
                                                    <option value='WILL' data-i18n='will-save'>WILL SAVE</option>
                                                </select>
                                            </div>
                                            <div class='field row'>
                                                <textarea class='abi-description' name='attr_effect' placeholder='Effect on a Failed Save'></textarea>
                                            </div>
                                            <div class='field row'>
                                                <span class='label' data-i18n='A-Sucessful-Save:'>A Sucessful Save:</span>
                                            </div>
                                            <div class='field row'>
                                                <textarea class='abi-description' name='attr_save_effect' placeholder='Effect on a Successful Save'></textarea>
                                            </div>
                                            <div class='field row'>
                                            </div>
                                        </div>
                                        <input class='field-tab' type='checkbox' name='attr_macro_checkbox' value='1' hidden='true'>
                                        <div class='row field-container mod-container'>
                                            <input class='field-tab macro-tab' type='checkbox' name='attr_macro_checkbox' value='1'><span class='label field' data-i18n='macro'>MACRO</span>
                                            <textarea class='field row abi-description' type='text' name='attr_macro'>&{template:sf_spell} {{name=@{character_name}}} {{characterid=@{character_id}}} {{title=@{name}}} {{level=[[[[@{level}]]d1cs>2cf<0]]}} {{saveflag=[[1d@{save_checkbox}]]}} {{activation=@{usage}}} {{duration=@{duration}}} {{targets=@{target}}} {{range=@{range}}} {{savedc=[[@{dc}]]}} {{savetype=@{save_type}}} {{effect=@{effect}}} {{saveeffect=@{save_effect}}} {{attackflag=[[1d@{attack_checkbox}]]}} {{r1=[[1d20+@{bab}[BAB]+@{attack_ability_value}[ABILITY]@{attack_misc}@{attack_bonus}]]}} {{damageflag=[[1d@{damage_checkbox}]]}} {{damage1type=@{attack_type}}} {{damage1=[[@{damage_dice}+@{damage_ability_value}[ABILITY]@{damage_misc}]]}} {{crit1damage=[[@{damage_dice}+@{damage_ability_value}[ABILITY]@{damage_misc}]]}} {{crit1effect=@{attack_crit}}} {{notes=@{description}}}</textarea>
                                        </div>
                                        <div class='row'>
                                            <textarea class='abi-description' name='attr_description' title='@{repeatin_ability_$X_description}' placeholder='Description'></textarea>
                                        </div>
                                    </div>
                                    <div class='display'>
                                        <button class='summary' type='roll' name='roll_roll' value='@{macro}'>
                                            <span class='label abi-name-col' name='attr_name' placeholder='Laser Pistol'>Laser Pistol</span>
                                            <div class='attr-total-container'>
                                                <input class='mod-debuff' type='radio' name='attr_dc_change' value='-1' hidden='true'>
                                                <input class='mod-normal' type='radio' name='attr_dc_change' value='0' hidden='true' checked='checked'>
                                                <input class='mod-buff' type='radio' name='attr_dc_change' value='1' hidden='true'>
                                                <span class='label abi-dc-col modified-attr' name='attr_dc' value='0'>0</span>
                                            </div>
                                            <div class='attr-total-container'>
                                                <input class='mod-debuff' type='radio' name='attr_effect_change' value='-1' hidden='true'>
                                                <input class='mod-normal' type='radio' name='attr_effect_change' value='0' hidden='true' checked='checked'>
                                                <input class='mod-buff' type='radio' name='attr_effect_change' value='1' hidden='true'>
                                                <span class='label abi-effect-col modified-attr' name='attr_effect' value=' '> </span>
                                            </div>
                                        </button>
                                    </div>
                                </div>
                            </fieldset>
                            <div class='pseudo-repcontrol spell'>
                                <input type='checkbox' name='attr_create_2nd' value='1'>
                                <span>&</span>
                            </div>
                        </div>
                            <div class='section-container aspell5 class-spells-day'>
                            <h1 class='section label' data-i18n='5th-level'>5th LEVEL</h1>
                            <div class='spell-header'>
                                <span class="label spell-name-col" data-i18n="name-u">NAME</span>
                                <span class='label spell-dc-col' data-i18n="dc">DC</span>
                                <span class="label spell-effect-col" data-i18n="effect">EFFECT</span>
                            </div>
                            <fieldset class='repeating_spell'>
                                <input class='filter' type='checkbox' hidden='true' name='attr_level_5_filter' value='5'>
                                <div class='filter-container spell'>
                                   <!--Hidden Ability Attributes -->
                                   <input type='text' hidden='true' name='attr_attack_misc' value=''>
                                   <input type='text' hidden='true' name='attr_effect_misc' value=''>
                                   <!--Shown Ability Attributes -->
                                    <input class="show-options" type="checkbox" name="attr_show_options" checked="checked"><span>y</span>
                                    <div class='spell-options'>
                                        <div class='row'>
                                        <span class='label' data-i18n='name-u'>NAME</span>
                                        <input class='atk-name' type='text' name='attr_name' placeholder="Operative's Edge">
                                        <span class='label' data-i18n='atk_level'>LVL</span>
                                        <input class='atk-level' name='attr_level' type='text' value=''>
                                        </div>
                                        <div class='row'>
                                            <span class='label' data-i18n='source'>SOURCE</span>
                                            <input class='weapon-cat' type='text' name='attr_source' placeholder='Operative'>
                                        </div>
                                        <div class='row'>
                                            <span class='label' data-i18n='target'>TARGET</span>
                                            <input class='target' type='text' name='attr_target' placeholder='self'>
                                            <span class='label' data-i18n='atk_range'>RNG</span>
                                            <input class='atk-range' type='text' name='attr_range' placeholder='30 ft'>
                                        </div>
                                        <div class='row'>
                                            <span class='label' data-i18n='duration'>DURATION</span>
                                            <input class='target' type='text' name='attr_duration' placeholder='1 round' value=''>
                                        </div>
                                        <div class='row'>
                                            <span class='label abi-cost' data-i18n='usage'>USAGE</span>
                                            <input class='abi-cost' type='text' name='attr_usage' placeholder='Standard Action'>
                                        </div>
                                        <input class='field-tab' type='checkbox' name='attr_attack_checkbox' value='1' hidden='true'>
                                        <div class='field-container'>
                                            <input class='field-tab atk-tab' type='checkbox' name='attr_attack_checkbox' value='1'><span class='field label' data-i18n='atk'>ATK</span>
                                        <div class='field row'>
                                                <select class='label atk-ability abi' name='attr_attack_ability'>
                                                    <option value='strength_mod' selected='selected'>STR</option>
                                                    <option value='dexterity_mod'>DEX</option>
                                                    <option value='constitution_mod'>CON</option>
                                                    <option value='intelligence_mod'>INT</option>
                                                    <option value='wisdom_mod'>WIS</option>
                                                    <option value='charisma_mod'>CHA</option>
                                                </select>
                                                <input hidden='true' name='attr_attack_ability_value' value='0'>
                                                <span class='arith'>+</span>
                                                <input class='bab' name='attr_bab' readonly='true' title='@{bab}' value='0'>
                                                <input class='abi-misc' type='text' name='attr_attack_bonus' placeholder='+@{attr}/2 + ?{Query}'>
                                            </div>
                                            <div class='field row'>
                                                <span class='label' data-i18n='atk_range'>RNG</span>
                                                <input class='atk-range' type='text' name='attr_range' placeholder='30 ft'>
                                            </div>
                                        </div>
                                        <input class='field-tab' type='checkbox' name='attr_damage_checkbox' value='1' hidden='true'>
                                        <div class='field-container'>
                                            <input hidden='true' name='attr_damage_misc' value=''>
                                            <input class='field-tab dmg-tab' type='checkbox' name='attr_damage_checkbox' value='1'><span class='field label' data-i18n='dmg'>DMG</span>
                                            <div class='field row'>
                                                <input class='abi-dmg-dice' type='text' name=attr_damage_dice title='@{repeating_attack_$X_damage_dice}' placeholder='1d8'><span>+</span>
                                                <select class='label atk-ability abi' name='attr_damage_ability'>
                                                    <option value='' selected='selected'>N/A</option>
                                                    <option value='strength_mod'>STR</option>
                                                    <option value='dexterity_mod'>DEX</option>
                                                    <option value='constitution_mod'>CON</option>
                                                    <option value='intelligence_mod'>INT</option>
                                                    <option value='wisdom_mod'>WIS</option>
                                                    <option value='charisma_mod'>CHA</option>
                                                </select>
                                                <input hidden='true' name='attr_damage_ability_value' value='0'>
                                            </div>
                                            <div class='field row'>
                                                <span class='label' data-i18n='atk_type'>TYPE</span>
                                                <input class='atk-type' type='text' name='attr_attack_type' placeholder='Fire'>
                                                <span class='label' data-i18n='atk_crit_effect'>CRIT EFFECT</span>
                                                <input class='atk-crit' type='text' name='attr_attack_crit' placeholder='Burn'>
                                            </div>
                                        </div>
                                        <input class='field-tab' type='checkbox' name='attr_save_checkbox' value='1' hidden='true'>
                                        <div class='field-container'>
                                            <input class='field-tab save-effect-tab' type='checkbox' name='attr_save_checkbox' value='1'><span class='field label' data-i18n='save-effect'>SAVE EFFECT</span>
                                            <div class='field row'>
                                                <select class='label atk-ability abi' name='attr_save_ability'>
                                                    <option value='strength_mod' data-i18n='str' selected='selected'>STR</option>
                                                    <option value='dexterity_mod' data-i18n='dex'>DEX</option>
                                                    <option value='constitution_mod' data-i18n='con'>CON</option>
                                                    <option value='intelligence_mod' data-i18n='int'>INT</option>
                                                    <option value='wisdom_mod' data-i18n='wis'>WIS</option>
                                                    <option value='charisma_mod' data-i18n='cha'>CHA</option>
                                                </select>
                                                <span class='label' data-i18n='based-dc_'>Based DC </span>
                                                <input hidden='true' name='attr_dc' value='10'>
                                                <span class='save-dc label' name='attr_dc' value='10'>10</span>
                                                <select class='label save-type' name='attr_save_type'>
                                                    <option value='' selected='selected'>-</option>
                                                    <option value='FORT' data-i18n='fort-save'>FORT SAVE</option>
                                                    <option value='REF' data-i18n='ref-save'>REF SAVE</option>
                                                    <option value='WILL' data-i18n='will-save'>WILL SAVE</option>
                                                </select>
                                            </div>
                                            <div class='field row'>
                                                <textarea class='abi-description' name='attr_effect' placeholder='Effect on a Failed Save'></textarea>
                                            </div>
                                            <div class='field row'>
                                                <span class='label' data-i18n='A-Sucessful-Save:'>A Sucessful Save:</span>
                                            </div>
                                            <div class='field row'>
                                                <textarea class='abi-description' name='attr_save_effect' placeholder='Effect on a Successful Save'></textarea>
                                            </div>
                                            <div class='field row'>
                                            </div>
                                        </div>
                                        <input class='field-tab' type='checkbox' name='attr_macro_checkbox' value='1' hidden='true'>
                                        <div class='row field-container mod-container'>
                                            <input class='field-tab macro-tab' type='checkbox' name='attr_macro_checkbox' value='1'><span class='label field' data-i18n='macro'>MACRO</span>
                                            <textarea class='field row abi-description' type='text' name='attr_macro'>&{template:sf_spell} {{name=@{character_name}}} {{characterid=@{character_id}}} {{title=@{name}}} {{level=[[[[@{level}]]d1cs>2cf<0]]}} {{saveflag=[[1d@{save_checkbox}]]}} {{activation=@{usage}}} {{duration=@{duration}}} {{targets=@{target}}} {{range=@{range}}} {{savedc=[[@{dc}]]}} {{savetype=@{save_type}}} {{effect=@{effect}}} {{saveeffect=@{save_effect}}} {{attackflag=[[1d@{attack_checkbox}]]}} {{r1=[[1d20+@{bab}[BAB]+@{attack_ability_value}[ABILITY]@{attack_misc}@{attack_bonus}]]}} {{damageflag=[[1d@{damage_checkbox}]]}} {{damage1type=@{attack_type}}} {{damage1=[[@{damage_dice}+@{damage_ability_value}[ABILITY]@{damage_misc}]]}} {{crit1damage=[[@{damage_dice}+@{damage_ability_value}[ABILITY]@{damage_misc}]]}} {{crit1effect=@{attack_crit}}} {{notes=@{description}}}</textarea>
                                        </div>
                                        <div class='row'>
                                            <textarea class='abi-description' name='attr_description' title='@{repeatin_ability_$X_description}' placeholder='Description'></textarea>
                                        </div>
                                    </div>
                                    <div class='display'>
                                        <button class='summary' type='roll' name='roll_roll' value='@{macro}'>
                                            <span class='label abi-name-col' name='attr_name' placeholder='Laser Pistol'>Laser Pistol</span>
                                            <div class='attr-total-container'>
                                                <input class='mod-debuff' type='radio' name='attr_dc_change' value='-1' hidden='true'>
                                                <input class='mod-normal' type='radio' name='attr_dc_change' value='0' hidden='true' checked='checked'>
                                                <input class='mod-buff' type='radio' name='attr_dc_change' value='1' hidden='true'>
                                                <span class='label abi-dc-col modified-attr' name='attr_dc' value='0'>0</span>
                                            </div>
                                            <div class='attr-total-container'>
                                                <input class='mod-debuff' type='radio' name='attr_effect_change' value='-1' hidden='true'>
                                                <input class='mod-normal' type='radio' name='attr_effect_change' value='0' hidden='true' checked='checked'>
                                                <input class='mod-buff' type='radio' name='attr_effect_change' value='1' hidden='true'>
                                                <span class='label abi-effect-col modified-attr' name='attr_effect' value=' '> </span>
                                            </div>
                                        </button>
                                    </div>
                                </div>
                            </fieldset>
                            <div class='pseudo-repcontrol spell'>
                                <input type='checkbox' name='attr_create_5th' value='1'>
                                <span>&</span>
                            </div>
                        </div>
                            <div class='section-container aspell8 class-spells-day'>
                            <h1 class='section label' data-i18n='8th-level'>8th LEVEL</h1>
                            <div class='spell-header'>
                                <span class="label spell-name-col" data-i18n="name-u">NAME</span>
                                <span class='label spell-dc-col' data-i18n="dc">DC</span>
                                <span class="label spell-effect-col" data-i18n="effect">EFFECT</span>
                            </div>
                            <fieldset class='repeating_spell'>
                                <input class='filter' type='checkbox' hidden='true' name='attr_level_8_filter' value='8'>
                                <div class='filter-container spell'>
                                   <!--Hidden Ability Attributes -->
                                   <input type='text' hidden='true' name='attr_attack_misc' value=''>
                                   <input type='text' hidden='true' name='attr_effect_misc' value=''>
                                   <!--Shown Ability Attributes -->
                                    <input class="show-options" type="checkbox" name="attr_show_options" checked="checked"><span>y</span>
                                    <div class='spell-options'>
                                        <div class='row'>
                                        <span class='label' data-i18n='name-u'>NAME</span>
                                        <input class='atk-name' type='text' name='attr_name' placeholder="Operative's Edge">
                                        <span class='label' data-i18n='atk_level'>LVL</span>
                                        <input class='atk-level' name='attr_level' type='text' value=''>
                                        </div>
                                        <div class='row'>
                                            <span class='label' data-i18n='source'>SOURCE</span>
                                            <input class='weapon-cat' type='text' name='attr_source' placeholder='Operative'>
                                        </div>
                                        <div class='row'>
                                            <span class='label' data-i18n='target'>TARGET</span>
                                            <input class='target' type='text' name='attr_target' placeholder='self'>
                                            <span class='label' data-i18n='atk_range'>RNG</span>
                                            <input class='atk-range' type='text' name='attr_range' placeholder='30 ft'>
                                        </div>
                                        <div class='row'>
                                            <span class='label' data-i18n='duration'>DURATION</span>
                                            <input class='target' type='text' name='attr_duration' placeholder='1 round' value=''>
                                        </div>
                                        <div class='row'>
                                            <span class='label abi-cost' data-i18n='usage'>USAGE</span>
                                            <input class='abi-cost' type='text' name='attr_usage' placeholder='Standard Action'>
                                        </div>
                                        <input class='field-tab' type='checkbox' name='attr_attack_checkbox' value='1' hidden='true'>
                                        <div class='field-container'>
                                            <input class='field-tab atk-tab' type='checkbox' name='attr_attack_checkbox' value='1'><span class='field label' data-i18n='atk'>ATK</span>
                                        <div class='field row'>
                                                <select class='label atk-ability abi' name='attr_attack_ability'>
                                                    <option value='strength_mod' selected='selected'>STR</option>
                                                    <option value='dexterity_mod'>DEX</option>
                                                    <option value='constitution_mod'>CON</option>
                                                    <option value='intelligence_mod'>INT</option>
                                                    <option value='wisdom_mod'>WIS</option>
                                                    <option value='charisma_mod'>CHA</option>
                                                </select>
                                                <input hidden='true' name='attr_attack_ability_value' value='0'>
                                                <span class='arith'>+</span>
                                                <input class='bab' name='attr_bab' readonly='true' title='@{bab}' value='0'>
                                                <input class='abi-misc' type='text' name='attr_attack_bonus' placeholder='+@{attr}/2 + ?{Query}'>
                                            </div>
                                            <div class='field row'>
                                                <span class='label' data-i18n='atk_range'>RNG</span>
                                                <input class='atk-range' type='text' name='attr_range' placeholder='30 ft'>
                                            </div>
                                        </div>
                                        <input class='field-tab' type='checkbox' name='attr_damage_checkbox' value='1' hidden='true'>
                                        <div class='field-container'>
                                            <input hidden='true' name='attr_damage_misc' value=''>
                                            <input class='field-tab dmg-tab' type='checkbox' name='attr_damage_checkbox' value='1'><span class='field label' data-i18n='dmg'>DMG</span>
                                            <div class='field row'>
                                                <input class='abi-dmg-dice' type='text' name=attr_damage_dice title='@{repeating_attack_$X_damage_dice}' placeholder='1d8'><span>+</span>
                                                <select class='label atk-ability abi' name='attr_damage_ability'>
                                                    <option value='' selected='selected'>N/A</option>
                                                    <option value='strength_mod'>STR</option>
                                                    <option value='dexterity_mod'>DEX</option>
                                                    <option value='constitution_mod'>CON</option>
                                                    <option value='intelligence_mod'>INT</option>
                                                    <option value='wisdom_mod'>WIS</option>
                                                    <option value='charisma_mod'>CHA</option>
                                                </select>
                                                <input hidden='true' name='attr_damage_ability_value' value='0'>
                                            </div>
                                            <div class='field row'>
                                                <span class='label' data-i18n='atk_type'>TYPE</span>
                                                <input class='atk-type' type='text' name='attr_attack_type' placeholder='Fire'>
                                                <span class='label' data-i18n='atk_crit_effect'>CRIT EFFECT</span>
                                                <input class='atk-crit' type='text' name='attr_attack_crit' placeholder='Burn'>
                                            </div>
                                        </div>
                                        <input class='field-tab' type='checkbox' name='attr_save_checkbox' value='1' hidden='true'>
                                        <div class='field-container'>
                                            <input class='field-tab save-effect-tab' type='checkbox' name='attr_save_checkbox' value='1'><span class='field label' data-i18n='save-effect'>SAVE EFFECT</span>
                                            <div class='field row'>
                                                <select class='label atk-ability abi' name='attr_save_ability'>
                                                    <option value='strength_mod' data-i18n='str' selected='selected'>STR</option>
                                                    <option value='dexterity_mod' data-i18n='dex'>DEX</option>
                                                    <option value='constitution_mod' data-i18n='con'>CON</option>
                                                    <option value='intelligence_mod' data-i18n='int'>INT</option>
                                                    <option value='wisdom_mod' data-i18n='wis'>WIS</option>
                                                    <option value='charisma_mod' data-i18n='cha'>CHA</option>
                                                </select>
                                                <span class='label' data-i18n='based-dc_'>Based DC </span>
                                                <input hidden='true' name='attr_dc' value='10'>
                                                <span class='save-dc label' name='attr_dc' value='10'>10</span>
                                                <select class='label save-type' name='attr_save_type'>
                                                    <option value='' selected='selected'>-</option>
                                                    <option value='FORT' data-i18n='fort-save'>FORT SAVE</option>
                                                    <option value='REF' data-i18n='ref-save'>REF SAVE</option>
                                                    <option value='WILL' data-i18n='will-save'>WILL SAVE</option>
                                                </select>
                                            </div>
                                            <div class='field row'>
                                                <textarea class='abi-description' name='attr_effect' placeholder='Effect on a Failed Save'></textarea>
                                            </div>
                                            <div class='field row'>
                                                <span class='label' data-i18n='A-Sucessful-Save:'>A Sucessful Save:</span>
                                            </div>
                                            <div class='field row'>
                                                <textarea class='abi-description' name='attr_save_effect' placeholder='Effect on a Successful Save'></textarea>
                                            </div>
                                            <div class='field row'>
                                            </div>
                                        </div>
                                        <input class='field-tab' type='checkbox' name='attr_macro_checkbox' value='1' hidden='true'>
                                        <div class='row field-container mod-container'>
                                            <input class='field-tab macro-tab' type='checkbox' name='attr_macro_checkbox' value='1'><span class='label field' data-i18n='macro'>MACRO</span>
                                            <textarea class='field row abi-description' type='text' name='attr_macro'>&{template:sf_spell} {{name=@{character_name}}} {{characterid=@{character_id}}} {{title=@{name}}} {{level=[[[[@{level}]]d1cs>2cf<0]]}} {{saveflag=[[1d@{save_checkbox}]]}} {{activation=@{usage}}} {{duration=@{duration}}} {{targets=@{target}}} {{range=@{range}}} {{savedc=[[@{dc}]]}} {{savetype=@{save_type}}} {{effect=@{effect}}} {{saveeffect=@{save_effect}}} {{attackflag=[[1d@{attack_checkbox}]]}} {{r1=[[1d20+@{bab}[BAB]+@{attack_ability_value}[ABILITY]@{attack_misc}@{attack_bonus}]]}} {{damageflag=[[1d@{damage_checkbox}]]}} {{damage1type=@{attack_type}}} {{damage1=[[@{damage_dice}+@{damage_ability_value}[ABILITY]@{damage_misc}]]}} {{crit1damage=[[@{damage_dice}+@{damage_ability_value}[ABILITY]@{damage_misc}]]}} {{crit1effect=@{attack_crit}}} {{notes=@{description}}}</textarea>
                                        </div>
                                        <div class='row'>
                                            <textarea class='abi-description' name='attr_description' title='@{repeatin_ability_$X_description}' placeholder='Description'></textarea>
                                        </div>
                                    </div>
                                    <div class='display'>
                                        <button class='summary' type='roll' name='roll_roll' value='@{macro}'>
                                            <span class='label abi-name-col' name='attr_name' placeholder='Laser Pistol'>Laser Pistol</span>
                                            <div class='attr-total-container'>
                                                <input class='mod-debuff' type='radio' name='attr_dc_change' value='-1' hidden='true'>
                                                <input class='mod-normal' type='radio' name='attr_dc_change' value='0' hidden='true' checked='checked'>
                                                <input class='mod-buff' type='radio' name='attr_dc_change' value='1' hidden='true'>
                                                <span class='label abi-dc-col modified-attr' name='attr_dc' value='0'>0</span>
                                            </div>
                                            <div class='attr-total-container'>
                                                <input class='mod-debuff' type='radio' name='attr_effect_change' value='-1' hidden='true'>
                                                <input class='mod-normal' type='radio' name='attr_effect_change' value='0' hidden='true' checked='checked'>
                                                <input class='mod-buff' type='radio' name='attr_effect_change' value='1' hidden='true'>
                                                <span class='label abi-effect-col modified-attr' name='attr_effect' value=' '> </span>
                                            </div>
                                        </button>
                                    </div>
                                </div>
                            </fieldset>
                            <div class='pseudo-repcontrol spell'>
                                <input type='checkbox' name='attr_create_8th' value='1'>
                                <span>&</span>
                            </div>
                        </div>
                        </div>
                        
                    </div>
                    <div class='column-2'>
                        <input type='radio' class='cantrips-only' name='attr_char_max_spell_4' value='0' checked='checked' hidden='true'>
                        <input type='radio' class='spell1' name='attr_char_max_spell_4' value='1' hidden='true'>
                        <input type='radio' class='spell2' name='attr_char_max_spell_4' value='2' hidden='true'>
                        <input type='radio' class='spell3' name='attr_char_max_spell_4' value='3' hidden='true'>
                        <input type='radio' class='spell4' name='attr_char_max_spell_4' value='4' hidden='true'>
                        <input type='radio' class='spell5' name='attr_char_max_spell_4' value='5' hidden='true'>
                        <input type='radio' class='spell6' name='attr_char_max_spell_4' value='6' hidden='true'>
                        <input type='radio' class='spell7' name='attr_char_max_spell_4' value='7' hidden='true'>
                        <input type='radio' class='spell8' name='attr_char_max_spell_4' value='8' hidden='true'>
                        <input type='radio' class='spell9' name='attr_char_max_spell_4' value='9' hidden='true'>
                        <div class='section-container aspell0'>
                            <h1 class='section label' data-i18n='cantrips'>CANTRIPS</h1>
                            <div class='spell-header'>
                                <span class="label spell-name-col" data-i18n="name-u">NAME</span>
                                <span class='label spell-dc-col' data-i18n="dc">DC</span>
                                <span class="label spell-effect-col" data-i18n="effect">EFFECT</span>
                            </div>
                            <fieldset class='repeating_spell'>
                                <input class='filter' type='checkbox' hidden='true' name='attr_cantrip_filter' value='cantrip'>
                                <div class='filter-container spell'>
                                   <!--Hidden Ability Attributes -->
                                   <input type='text' hidden='true' name='attr_attack_misc' value=''>
                                   <input type='text' hidden='true' name='attr_effect_misc' value=''>
                                   <!--Shown Ability Attributes -->
                                    <input class="show-options" type="checkbox" name="attr_show_options" checked="checked"><span>y</span>
                                    <div class='spell-options'>
                                        <div class='row'>
                                        <span class='label' data-i18n='name-u'>NAME</span>
                                        <input class='atk-name' type='text' name='attr_name' placeholder="Operative's Edge">
                                        <span class='label' data-i18n='atk_level'>LVL</span>
                                        <input class='atk-level' name='attr_level' type='text' value=''>
                                        </div>
                                        <div class='row'>
                                            <span class='label' data-i18n='source'>SOURCE</span>
                                            <input class='weapon-cat' type='text' name='attr_source' placeholder='Operative'>
                                        </div>
                                        <div class='row'>
                                            <span class='label' data-i18n='target'>TARGET</span>
                                            <input class='target' type='text' name='attr_target' placeholder='self'>
                                            <span class='label' data-i18n='atk_range'>RNG</span>
                                            <input class='atk-range' type='text' name='attr_range' placeholder='30 ft'>
                                        </div>
                                        <div class='row'>
                                            <span class='label' data-i18n='duration'>DURATION</span>
                                            <input class='target' type='text' name='attr_duration' placeholder='1 round' value=''>
                                        </div>
                                        <div class='row'>
                                            <span class='label abi-cost' data-i18n='usage'>USAGE</span>
                                            <input class='abi-cost' type='text' name='attr_usage' placeholder='Standard Action'>
                                        </div>
                                        <input class='field-tab' type='checkbox' name='attr_attack_checkbox' value='1' hidden='true'>
                                        <div class='field-container'>
                                            <input class='field-tab atk-tab' type='checkbox' name='attr_attack_checkbox' value='1'><span class='field label' data-i18n='atk'>ATK</span>
                                        <div class='field row'>
                                                <select class='label atk-ability abi' name='attr_attack_ability'>
                                                    <option value='strength_mod' selected='selected'>STR</option>
                                                    <option value='dexterity_mod'>DEX</option>
                                                    <option value='constitution_mod'>CON</option>
                                                    <option value='intelligence_mod'>INT</option>
                                                    <option value='wisdom_mod'>WIS</option>
                                                    <option value='charisma_mod'>CHA</option>
                                                </select>
                                                <input hidden='true' name='attr_attack_ability_value' value='0'>
                                                <span class='arith'>+</span>
                                                <input class='bab' name='attr_bab' readonly='true' title='@{bab}' value='0'>
                                                <input class='abi-misc' type='text' name='attr_attack_bonus' placeholder='+@{attr}/2 + ?{Query}'>
                                            </div>
                                            <div class='field row'>
                                                <span class='label' data-i18n='atk_range'>RNG</span>
                                                <input class='atk-range' type='text' name='attr_range' placeholder='30 ft'>
                                            </div>
                                        </div>
                                        <input class='field-tab' type='checkbox' name='attr_damage_checkbox' value='1' hidden='true'>
                                        <div class='field-container'>
                                            <input hidden='true' name='attr_damage_misc' value=''>
                                            <input class='field-tab dmg-tab' type='checkbox' name='attr_damage_checkbox' value='1'><span class='field label' data-i18n='dmg'>DMG</span>
                                            <div class='field row'>
                                                <input class='abi-dmg-dice' type='text' name=attr_damage_dice title='@{repeating_attack_$X_damage_dice}' placeholder='1d8'><span>+</span>
                                                <select class='label atk-ability abi' name='attr_damage_ability'>
                                                    <option value='' selected='selected'>N/A</option>
                                                    <option value='strength_mod'>STR</option>
                                                    <option value='dexterity_mod'>DEX</option>
                                                    <option value='constitution_mod'>CON</option>
                                                    <option value='intelligence_mod'>INT</option>
                                                    <option value='wisdom_mod'>WIS</option>
                                                    <option value='charisma_mod'>CHA</option>
                                                </select>
                                                <input hidden='true' name='attr_damage_ability_value' value='0'>
                                            </div>
                                            <div class='field row'>
                                                <span class='label' data-i18n='atk_type'>TYPE</span>
                                                <input class='atk-type' type='text' name='attr_attack_type' placeholder='Fire'>
                                                <span class='label' data-i18n='atk_crit_effect'>CRIT EFFECT</span>
                                                <input class='atk-crit' type='text' name='attr_attack_crit' placeholder='Burn'>
                                            </div>
                                        </div>
                                        <input class='field-tab' type='checkbox' name='attr_save_checkbox' value='1' hidden='true'>
                                        <div class='field-container'>
                                            <input class='field-tab save-effect-tab' type='checkbox' name='attr_save_checkbox' value='1'><span class='field label' data-i18n='save-effect'>SAVE EFFECT</span>
                                            <div class='field row'>
                                                <select class='label atk-ability abi' name='attr_save_ability'>
                                                    <option value='strength_mod' data-i18n='str' selected='selected'>STR</option>
                                                    <option value='dexterity_mod' data-i18n='dex'>DEX</option>
                                                    <option value='constitution_mod' data-i18n='con'>CON</option>
                                                    <option value='intelligence_mod' data-i18n='int'>INT</option>
                                                    <option value='wisdom_mod' data-i18n='wis'>WIS</option>
                                                    <option value='charisma_mod' data-i18n='cha'>CHA</option>
                                                </select>
                                                <span class='label' data-i18n='based-dc_'>Based DC </span>
                                                <input hidden='true' name='attr_dc' value='10'>
                                                <span class='save-dc label' name='attr_dc' value='10'>10</span>
                                                <select class='label save-type' name='attr_save_type'>
                                                    <option value='' selected='selected'>-</option>
                                                    <option value='FORT' data-i18n='fort-save'>FORT SAVE</option>
                                                    <option value='REF' data-i18n='ref-save'>REF SAVE</option>
                                                    <option value='WILL' data-i18n='will-save'>WILL SAVE</option>
                                                </select>
                                            </div>
                                            <div class='field row'>
                                                <textarea class='abi-description' name='attr_effect' placeholder='Effect on a Failed Save'></textarea>
                                            </div>
                                            <div class='field row'>
                                                <span class='label' data-i18n='A-Sucessful-Save:'>A Sucessful Save:</span>
                                            </div>
                                            <div class='field row'>
                                                <textarea class='abi-description' name='attr_save_effect' placeholder='Effect on a Successful Save'></textarea>
                                            </div>
                                            <div class='field row'>
                                            </div>
                                        </div>
                                        <input class='field-tab' type='checkbox' name='attr_macro_checkbox' value='1' hidden='true'>
                                        <div class='row field-container mod-container'>
                                            <input class='field-tab macro-tab' type='checkbox' name='attr_macro_checkbox' value='1'><span class='label field' data-i18n='macro'>MACRO</span>
                                            <textarea class='field row abi-description' type='text' name='attr_macro'>&{template:sf_spell} {{name=@{character_name}}} {{characterid=@{character_id}}} {{title=@{name}}} {{level=[[[[@{level}]]d1cs>2cf<0]]}} {{saveflag=[[1d@{save_checkbox}]]}} {{activation=@{usage}}} {{duration=@{duration}}} {{targets=@{target}}} {{range=@{range}}} {{savedc=[[@{dc}]]}} {{savetype=@{save_type}}} {{effect=@{effect}}} {{saveeffect=@{save_effect}}} {{attackflag=[[1d@{attack_checkbox}]]}} {{r1=[[1d20+@{bab}[BAB]+@{attack_ability_value}[ABILITY]@{attack_misc}@{attack_bonus}]]}} {{damageflag=[[1d@{damage_checkbox}]]}} {{damage1type=@{attack_type}}} {{damage1=[[@{damage_dice}+@{damage_ability_value}[ABILITY]@{damage_misc}]]}} {{crit1damage=[[@{damage_dice}+@{damage_ability_value}[ABILITY]@{damage_misc}]]}} {{crit1effect=@{attack_crit}}} {{notes=@{description}}}</textarea>
                                        </div>
                                        <div class='row'>
                                            <textarea class='abi-description' name='attr_description' title='@{repeatin_ability_$X_description}' placeholder='Description'></textarea>
                                        </div>
                                    </div>
                                    <div class='display'>
                                        <button class='summary' type='roll' name='roll_roll' value='@{macro}'>
                                            <span class='label abi-name-col' name='attr_name' placeholder='Laser Pistol'>Laser Pistol</span>
                                            <div class='attr-total-container'>
                                                <input class='mod-debuff' type='radio' name='attr_dc_change' value='-1' hidden='true'>
                                                <input class='mod-normal' type='radio' name='attr_dc_change' value='0' hidden='true' checked='checked'>
                                                <input class='mod-buff' type='radio' name='attr_dc_change' value='1' hidden='true'>
                                                <span class='label abi-dc-col modified-attr' name='attr_dc' value='0'>0</span>
                                            </div>
                                            <div class='attr-total-container'>
                                                <input class='mod-debuff' type='radio' name='attr_effect_change' value='-1' hidden='true'>
                                                <input class='mod-normal' type='radio' name='attr_effect_change' value='0' hidden='true' checked='checked'>
                                                <input class='mod-buff' type='radio' name='attr_effect_change' value='1' hidden='true'>
                                                <span class='label abi-effect-col modified-attr' name='attr_effect' value=' '> </span>
                                            </div>
                                        </button>
                                    </div>
                                </div>
                            </fieldset>
                            <div class='pseudo-repcontrol spell'>
                                <input type='checkbox' name='attr_create_cantrip' value='1'>
                                <span>&</span>
                            </div>
                        </div>
                        <div class='section-container aspell3 class-spells-day'>
                            <h1 class='section label' data-i18n='3rd-level'>3rd LEVEL</h1>
                            <div class='spell-header'>
                                <span class="label spell-name-col" data-i18n="name-u">NAME</span>
                                <span class='label spell-dc-col' data-i18n="dc">DC</span>
                                <span class="label spell-effect-col" data-i18n="effect">EFFECT</span>
                            </div>
                            <fieldset class='repeating_spell'>
                                <input class='filter' type='checkbox' hidden='true' name='attr_level_3_filter' value='3'>
                                <div class='filter-container spell'>
                                   <!--Hidden Ability Attributes -->
                                   <input type='text' hidden='true' name='attr_attack_misc' value=''>
                                   <input type='text' hidden='true' name='attr_effect_misc' value=''>
                                   <!--Shown Ability Attributes -->
                                    <input class="show-options" type="checkbox" name="attr_show_options" checked="checked"><span>y</span>
                                    <div class='spell-options'>
                                        <div class='row'>
                                        <span class='label' data-i18n='name-u'>NAME</span>
                                        <input class='atk-name' type='text' name='attr_name' placeholder="Operative's Edge">
                                        <span class='label' data-i18n='atk_level'>LVL</span>
                                        <input class='atk-level' name='attr_level' type='text' value=''>
                                        </div>
                                        <div class='row'>
                                            <span class='label' data-i18n='source'>SOURCE</span>
                                            <input class='weapon-cat' type='text' name='attr_source' placeholder='Operative'>
                                        </div>
                                        <div class='row'>
                                            <span class='label' data-i18n='target'>TARGET</span>
                                            <input class='target' type='text' name='attr_target' placeholder='self'>
                                            <span class='label' data-i18n='atk_range'>RNG</span>
                                            <input class='atk-range' type='text' name='attr_range' placeholder='30 ft'>
                                        </div>
                                        <div class='row'>
                                            <span class='label' data-i18n='duration'>DURATION</span>
                                            <input class='target' type='text' name='attr_duration' placeholder='1 round' value=''>
                                        </div>
                                        <div class='row'>
                                            <span class='label abi-cost' data-i18n='usage'>USAGE</span>
                                            <input class='abi-cost' type='text' name='attr_usage' placeholder='Standard Action'>
                                        </div>
                                        <input class='field-tab' type='checkbox' name='attr_attack_checkbox' value='1' hidden='true'>
                                        <div class='field-container'>
                                            <input class='field-tab atk-tab' type='checkbox' name='attr_attack_checkbox' value='1'><span class='field label' data-i18n='atk'>ATK</span>
                                        <div class='field row'>
                                                <select class='label atk-ability abi' name='attr_attack_ability'>
                                                    <option value='strength_mod' selected='selected'>STR</option>
                                                    <option value='dexterity_mod'>DEX</option>
                                                    <option value='constitution_mod'>CON</option>
                                                    <option value='intelligence_mod'>INT</option>
                                                    <option value='wisdom_mod'>WIS</option>
                                                    <option value='charisma_mod'>CHA</option>
                                                </select>
                                                <input hidden='true' name='attr_attack_ability_value' value='0'>
                                                <span class='arith'>+</span>
                                                <input class='bab' name='attr_bab' readonly='true' title='@{bab}' value='0'>
                                                <input class='abi-misc' type='text' name='attr_attack_bonus' placeholder='+@{attr}/2 + ?{Query}'>
                                            </div>
                                            <div class='field row'>
                                                <span class='label' data-i18n='atk_range'>RNG</span>
                                                <input class='atk-range' type='text' name='attr_range' placeholder='30 ft'>
                                            </div>
                                        </div>
                                        <input class='field-tab' type='checkbox' name='attr_damage_checkbox' value='1' hidden='true'>
                                        <div class='field-container'>
                                            <input hidden='true' name='attr_damage_misc' value=''>
                                            <input class='field-tab dmg-tab' type='checkbox' name='attr_damage_checkbox' value='1'><span class='field label' data-i18n='dmg'>DMG</span>
                                            <div class='field row'>
                                                <input class='abi-dmg-dice' type='text' name=attr_damage_dice title='@{repeating_attack_$X_damage_dice}' placeholder='1d8'><span>+</span>
                                                <select class='label atk-ability abi' name='attr_damage_ability'>
                                                    <option value='' selected='selected'>N/A</option>
                                                    <option value='strength_mod'>STR</option>
                                                    <option value='dexterity_mod'>DEX</option>
                                                    <option value='constitution_mod'>CON</option>
                                                    <option value='intelligence_mod'>INT</option>
                                                    <option value='wisdom_mod'>WIS</option>
                                                    <option value='charisma_mod'>CHA</option>
                                                </select>
                                                <input hidden='true' name='attr_damage_ability_value' value='0'>
                                            </div>
                                            <div class='field row'>
                                                <span class='label' data-i18n='atk_type'>TYPE</span>
                                                <input class='atk-type' type='text' name='attr_attack_type' placeholder='Fire'>
                                                <span class='label' data-i18n='atk_crit_effect'>CRIT EFFECT</span>
                                                <input class='atk-crit' type='text' name='attr_attack_crit' placeholder='Burn'>
                                            </div>
                                        </div>
                                        <input class='field-tab' type='checkbox' name='attr_save_checkbox' value='1' hidden='true'>
                                        <div class='field-container'>
                                            <input class='field-tab save-effect-tab' type='checkbox' name='attr_save_checkbox' value='1'><span class='field label' data-i18n='save-effect'>SAVE EFFECT</span>
                                            <div class='field row'>
                                                <select class='label atk-ability abi' name='attr_save_ability'>
                                                    <option value='strength_mod' data-i18n='str' selected='selected'>STR</option>
                                                    <option value='dexterity_mod' data-i18n='dex'>DEX</option>
                                                    <option value='constitution_mod' data-i18n='con'>CON</option>
                                                    <option value='intelligence_mod' data-i18n='int'>INT</option>
                                                    <option value='wisdom_mod' data-i18n='wis'>WIS</option>
                                                    <option value='charisma_mod' data-i18n='cha'>CHA</option>
                                                </select>
                                                <span class='label' data-i18n='based-dc_'>Based DC </span>
                                                <input hidden='true' name='attr_dc' value='10'>
                                                <span class='save-dc label' name='attr_dc' value='10'>10</span>
                                                <select class='label save-type' name='attr_save_type'>
                                                    <option value='' selected='selected'>-</option>
                                                    <option value='FORT' data-i18n='fort-save'>FORT SAVE</option>
                                                    <option value='REF' data-i18n='ref-save'>REF SAVE</option>
                                                    <option value='WILL' data-i18n='will-save'>WILL SAVE</option>
                                                </select>
                                            </div>
                                            <div class='field row'>
                                                <textarea class='abi-description' name='attr_effect' placeholder='Effect on a Failed Save'></textarea>
                                            </div>
                                            <div class='field row'>
                                                <span class='label' data-i18n='A-Sucessful-Save:'>A Sucessful Save:</span>
                                            </div>
                                            <div class='field row'>
                                                <textarea class='abi-description' name='attr_save_effect' placeholder='Effect on a Successful Save'></textarea>
                                            </div>
                                            <div class='field row'>
                                            </div>
                                        </div>
                                        <input class='field-tab' type='checkbox' name='attr_macro_checkbox' value='1' hidden='true'>
                                        <div class='row field-container mod-container'>
                                            <input class='field-tab macro-tab' type='checkbox' name='attr_macro_checkbox' value='1'><span class='label field' data-i18n='macro'>MACRO</span>
                                            <textarea class='field row abi-description' type='text' name='attr_macro'>&{template:sf_spell} {{name=@{character_name}}} {{characterid=@{character_id}}} {{title=@{name}}} {{level=[[[[@{level}]]d1cs>2cf<0]]}} {{saveflag=[[1d@{save_checkbox}]]}} {{activation=@{usage}}} {{duration=@{duration}}} {{targets=@{target}}} {{range=@{range}}} {{savedc=[[@{dc}]]}} {{savetype=@{save_type}}} {{effect=@{effect}}} {{saveeffect=@{save_effect}}} {{attackflag=[[1d@{attack_checkbox}]]}} {{r1=[[1d20+@{bab}[BAB]+@{attack_ability_value}[ABILITY]@{attack_misc}@{attack_bonus}]]}} {{damageflag=[[1d@{damage_checkbox}]]}} {{damage1type=@{attack_type}}} {{damage1=[[@{damage_dice}+@{damage_ability_value}[ABILITY]@{damage_misc}]]}} {{crit1damage=[[@{damage_dice}+@{damage_ability_value}[ABILITY]@{damage_misc}]]}} {{crit1effect=@{attack_crit}}} {{notes=@{description}}}</textarea>
                                        </div>
                                        <div class='row'>
                                            <textarea class='abi-description' name='attr_description' title='@{repeatin_ability_$X_description}' placeholder='Description'></textarea>
                                        </div>
                                    </div>
                                    <div class='display'>
                                        <button class='summary' type='roll' name='roll_roll' value='@{macro}'>
                                            <span class='label abi-name-col' name='attr_name' placeholder='Laser Pistol'>Laser Pistol</span>
                                            <div class='attr-total-container'>
                                                <input class='mod-debuff' type='radio' name='attr_dc_change' value='-1' hidden='true'>
                                                <input class='mod-normal' type='radio' name='attr_dc_change' value='0' hidden='true' checked='checked'>
                                                <input class='mod-buff' type='radio' name='attr_dc_change' value='1' hidden='true'>
                                                <span class='label abi-dc-col modified-attr' name='attr_dc' value='0'>0</span>
                                            </div>
                                            <div class='attr-total-container'>
                                                <input class='mod-debuff' type='radio' name='attr_effect_change' value='-1' hidden='true'>
                                                <input class='mod-normal' type='radio' name='attr_effect_change' value='0' hidden='true' checked='checked'>
                                                <input class='mod-buff' type='radio' name='attr_effect_change' value='1' hidden='true'>
                                                <span class='label abi-effect-col modified-attr' name='attr_effect' value=' '> </span>
                                            </div>
                                        </button>
                                    </div>
                                </div>
                            </fieldset>
                            <div class='pseudo-repcontrol spell'>
                                <input type='checkbox' name='attr_create_3rd' value='1'>
                                <span>&</span>
                            </div>
                        </div>
                        <div class='section-container aspell6 class-spells-day'>
                            <h1 class='section label' data-i18n='6th-level'>6th LEVEL</h1>
                            <div class='spell-header'>
                                <span class="label spell-name-col" data-i18n="name-u">NAME</span>
                                <span class='label spell-dc-col' data-i18n="dc">DC</span>
                                <span class="label spell-effect-col" data-i18n="effect">EFFECT</span>
                            </div>
                            <fieldset class='repeating_spell'>
                                <input class='filter' type='checkbox' hidden='true' name='attr_level_6_filter' value='6'>
                                <div class='filter-container spell'>
                                   <!--Hidden Ability Attributes -->
                                   <input type='text' hidden='true' name='attr_attack_misc' value=''>
                                   <input type='text' hidden='true' name='attr_effect_misc' value=''>
                                   <!--Shown Ability Attributes -->
                                    <input class="show-options" type="checkbox" name="attr_show_options" checked="checked"><span>y</span>
                                    <div class='spell-options'>
                                        <div class='row'>
                                        <span class='label' data-i18n='name-u'>NAME</span>
                                        <input class='atk-name' type='text' name='attr_name' placeholder="Operative's Edge">
                                        <span class='label' data-i18n='atk_level'>LVL</span>
                                        <input class='atk-level' name='attr_level' type='text' value=''>
                                        </div>
                                        <div class='row'>
                                            <span class='label' data-i18n='source'>SOURCE</span>
                                            <input class='weapon-cat' type='text' name='attr_source' placeholder='Operative'>
                                        </div>
                                        <div class='row'>
                                            <span class='label' data-i18n='target'>TARGET</span>
                                            <input class='target' type='text' name='attr_target' placeholder='self'>
                                            <span class='label' data-i18n='atk_range'>RNG</span>
                                            <input class='atk-range' type='text' name='attr_range' placeholder='30 ft'>
                                        </div>
                                        <div class='row'>
                                            <span class='label' data-i18n='duration'>DURATION</span>
                                            <input class='target' type='text' name='attr_duration' placeholder='1 round' value=''>
                                        </div>
                                        <div class='row'>
                                            <span class='label abi-cost' data-i18n='usage'>USAGE</span>
                                            <input class='abi-cost' type='text' name='attr_usage' placeholder='Standard Action'>
                                        </div>
                                        <input class='field-tab' type='checkbox' name='attr_attack_checkbox' value='1' hidden='true'>
                                        <div class='field-container'>
                                            <input class='field-tab atk-tab' type='checkbox' name='attr_attack_checkbox' value='1'><span class='field label' data-i18n='atk'>ATK</span>
                                        <div class='field row'>
                                                <select class='label atk-ability abi' name='attr_attack_ability'>
                                                    <option value='strength_mod' selected='selected'>STR</option>
                                                    <option value='dexterity_mod'>DEX</option>
                                                    <option value='constitution_mod'>CON</option>
                                                    <option value='intelligence_mod'>INT</option>
                                                    <option value='wisdom_mod'>WIS</option>
                                                    <option value='charisma_mod'>CHA</option>
                                                </select>
                                                <input hidden='true' name='attr_attack_ability_value' value='0'>
                                                <span class='arith'>+</span>
                                                <input class='bab' name='attr_bab' readonly='true' title='@{bab}' value='0'>
                                                <input class='abi-misc' type='text' name='attr_attack_bonus' placeholder='+@{attr}/2 + ?{Query}'>
                                            </div>
                                            <div class='field row'>
                                                <span class='label' data-i18n='atk_range'>RNG</span>
                                                <input class='atk-range' type='text' name='attr_range' placeholder='30 ft'>
                                            </div>
                                        </div>
                                        <input class='field-tab' type='checkbox' name='attr_damage_checkbox' value='1' hidden='true'>
                                        <div class='field-container'>
                                            <input hidden='true' name='attr_damage_misc' value=''>
                                            <input class='field-tab dmg-tab' type='checkbox' name='attr_damage_checkbox' value='1'><span class='field label' data-i18n='dmg'>DMG</span>
                                            <div class='field row'>
                                                <input class='abi-dmg-dice' type='text' name=attr_damage_dice title='@{repeating_attack_$X_damage_dice}' placeholder='1d8'><span>+</span>
                                                <select class='label atk-ability abi' name='attr_damage_ability'>
                                                    <option value='' selected='selected'>N/A</option>
                                                    <option value='strength_mod'>STR</option>
                                                    <option value='dexterity_mod'>DEX</option>
                                                    <option value='constitution_mod'>CON</option>
                                                    <option value='intelligence_mod'>INT</option>
                                                    <option value='wisdom_mod'>WIS</option>
                                                    <option value='charisma_mod'>CHA</option>
                                                </select>
                                                <input hidden='true' name='attr_damage_ability_value' value='0'>
                                            </div>
                                            <div class='field row'>
                                                <span class='label' data-i18n='atk_type'>TYPE</span>
                                                <input class='atk-type' type='text' name='attr_attack_type' placeholder='Fire'>
                                                <span class='label' data-i18n='atk_crit_effect'>CRIT EFFECT</span>
                                                <input class='atk-crit' type='text' name='attr_attack_crit' placeholder='Burn'>
                                            </div>
                                        </div>
                                        <input class='field-tab' type='checkbox' name='attr_save_checkbox' value='1' hidden='true'>
                                        <div class='field-container'>
                                            <input class='field-tab save-effect-tab' type='checkbox' name='attr_save_checkbox' value='1'><span class='field label' data-i18n='save-effect'>SAVE EFFECT</span>
                                            <div class='field row'>
                                                <select class='label atk-ability abi' name='attr_save_ability'>
                                                    <option value='strength_mod' data-i18n='str' selected='selected'>STR</option>
                                                    <option value='dexterity_mod' data-i18n='dex'>DEX</option>
                                                    <option value='constitution_mod' data-i18n='con'>CON</option>
                                                    <option value='intelligence_mod' data-i18n='int'>INT</option>
                                                    <option value='wisdom_mod' data-i18n='wis'>WIS</option>
                                                    <option value='charisma_mod' data-i18n='cha'>CHA</option>
                                                </select>
                                                <span class='label' data-i18n='based-dc_'>Based DC </span>
                                                <input hidden='true' name='attr_dc' value='10'>
                                                <span class='save-dc label' name='attr_dc' value='10'>10</span>
                                                <select class='label save-type' name='attr_save_type'>
                                                    <option value='' selected='selected'>-</option>
                                                    <option value='FORT' data-i18n='fort-save'>FORT SAVE</option>
                                                    <option value='REF' data-i18n='ref-save'>REF SAVE</option>
                                                    <option value='WILL' data-i18n='will-save'>WILL SAVE</option>
                                                </select>
                                            </div>
                                            <div class='field row'>
                                                <textarea class='abi-description' name='attr_effect' placeholder='Effect on a Failed Save'></textarea>
                                            </div>
                                            <div class='field row'>
                                                <span class='label' data-i18n='A-Sucessful-Save:'>A Sucessful Save:</span>
                                            </div>
                                            <div class='field row'>
                                                <textarea class='abi-description' name='attr_save_effect' placeholder='Effect on a Successful Save'></textarea>
                                            </div>
                                            <div class='field row'>
                                            </div>
                                        </div>
                                        <input class='field-tab' type='checkbox' name='attr_macro_checkbox' value='1' hidden='true'>
                                        <div class='row field-container mod-container'>
                                            <input class='field-tab macro-tab' type='checkbox' name='attr_macro_checkbox' value='1'><span class='label field' data-i18n='macro'>MACRO</span>
                                            <textarea class='field row abi-description' type='text' name='attr_macro'>&{template:sf_spell} {{name=@{character_name}}} {{characterid=@{character_id}}} {{title=@{name}}} {{level=[[[[@{level}]]d1cs>2cf<0]]}} {{saveflag=[[1d@{save_checkbox}]]}} {{activation=@{usage}}} {{duration=@{duration}}} {{targets=@{target}}} {{range=@{range}}} {{savedc=[[@{dc}]]}} {{savetype=@{save_type}}} {{effect=@{effect}}} {{saveeffect=@{save_effect}}} {{attackflag=[[1d@{attack_checkbox}]]}} {{r1=[[1d20+@{bab}[BAB]+@{attack_ability_value}[ABILITY]@{attack_misc}@{attack_bonus}]]}} {{damageflag=[[1d@{damage_checkbox}]]}} {{damage1type=@{attack_type}}} {{damage1=[[@{damage_dice}+@{damage_ability_value}[ABILITY]@{damage_misc}]]}} {{crit1damage=[[@{damage_dice}+@{damage_ability_value}[ABILITY]@{damage_misc}]]}} {{crit1effect=@{attack_crit}}} {{notes=@{description}}}</textarea>
                                        </div>
                                        <div class='row'>
                                            <textarea class='abi-description' name='attr_description' title='@{repeatin_ability_$X_description}' placeholder='Description'></textarea>
                                        </div>
                                    </div>
                                    <div class='display'>
                                        <button class='summary' type='roll' name='roll_roll' value='@{macro}'>
                                            <span class='label abi-name-col' name='attr_name' placeholder='Laser Pistol'>Laser Pistol</span>
                                            <div class='attr-total-container'>
                                                <input class='mod-debuff' type='radio' name='attr_dc_change' value='-1' hidden='true'>
                                                <input class='mod-normal' type='radio' name='attr_dc_change' value='0' hidden='true' checked='checked'>
                                                <input class='mod-buff' type='radio' name='attr_dc_change' value='1' hidden='true'>
                                                <span class='label abi-dc-col modified-attr' name='attr_dc' value='0'>0</span>
                                            </div>
                                            <div class='attr-total-container'>
                                                <input class='mod-debuff' type='radio' name='attr_effect_change' value='-1' hidden='true'>
                                                <input class='mod-normal' type='radio' name='attr_effect_change' value='0' hidden='true' checked='checked'>
                                                <input class='mod-buff' type='radio' name='attr_effect_change' value='1' hidden='true'>
                                                <span class='label abi-effect-col modified-attr' name='attr_effect' value=' '> </span>
                                            </div>
                                        </button>
                                    </div>
                                </div>
                            </fieldset>
                            <div class='pseudo-repcontrol spell'>
                                <input type='checkbox' name='attr_create_6th' value='1'>
                                <span>&</span>
                            </div>
                        </div>
                        <div class='section-container aspell9 class-spells-day'>
                            <h1 class='section label' data-i18n='9th-level'>9th LEVEL</h1>
                            <div class='spell-header'>
                                <span class="label spell-name-col" data-i18n="name-u">NAME</span>
                                <span class='label spell-dc-col' data-i18n="dc">DC</span>
                                <span class="label spell-effect-col" data-i18n="effect">EFFECT</span>
                            </div>
                            <fieldset class='repeating_spell'>
                                <input class='filter' type='checkbox' hidden='true' name='attr_level_9_filter' value='9'>
                                <div class='filter-container spell'>
                                   <!--Hidden Ability Attributes -->
                                   <input type='text' hidden='true' name='attr_attack_misc' value=''>
                                   <input type='text' hidden='true' name='attr_effect_misc' value=''>
                                   <!--Shown Ability Attributes -->
                                    <input class="show-options" type="checkbox" name="attr_show_options" checked="checked"><span>y</span>
                                    <div class='spell-options'>
                                        <div class='row'>
                                        <span class='label' data-i18n='name-u'>NAME</span>
                                        <input class='atk-name' type='text' name='attr_name' placeholder="Operative's Edge">
                                        <span class='label' data-i18n='atk_level'>LVL</span>
                                        <input class='atk-level' name='attr_level' type='text' value=''>
                                        </div>
                                        <div class='row'>
                                            <span class='label' data-i18n='source'>SOURCE</span>
                                            <input class='weapon-cat' type='text' name='attr_source' placeholder='Operative'>
                                        </div>
                                        <div class='row'>
                                            <span class='label' data-i18n='target'>TARGET</span>
                                            <input class='target' type='text' name='attr_target' placeholder='self'>
                                            <span class='label' data-i18n='atk_range'>RNG</span>
                                            <input class='atk-range' type='text' name='attr_range' placeholder='30 ft'>
                                        </div>
                                        <div class='row'>
                                            <span class='label' data-i18n='duration'>DURATION</span>
                                            <input class='target' type='text' name='attr_duration' placeholder='1 round' value=''>
                                        </div>
                                        <div class='row'>
                                            <span class='label abi-cost' data-i18n='usage'>USAGE</span>
                                            <input class='abi-cost' type='text' name='attr_usage' placeholder='Standard Action'>
                                        </div>
                                        <input class='field-tab' type='checkbox' name='attr_attack_checkbox' value='1' hidden='true'>
                                        <div class='field-container'>
                                            <input class='field-tab atk-tab' type='checkbox' name='attr_attack_checkbox' value='1'><span class='field label' data-i18n='atk'>ATK</span>
                                        <div class='field row'>
                                                <select class='label atk-ability abi' name='attr_attack_ability'>
                                                    <option value='strength_mod' selected='selected'>STR</option>
                                                    <option value='dexterity_mod'>DEX</option>
                                                    <option value='constitution_mod'>CON</option>
                                                    <option value='intelligence_mod'>INT</option>
                                                    <option value='wisdom_mod'>WIS</option>
                                                    <option value='charisma_mod'>CHA</option>
                                                </select>
                                                <input hidden='true' name='attr_attack_ability_value' value='0'>
                                                <span class='arith'>+</span>
                                                <input class='bab' name='attr_bab' readonly='true' title='@{bab}' value='0'>
                                                <input class='abi-misc' type='text' name='attr_attack_bonus' placeholder='+@{attr}/2 + ?{Query}'>
                                            </div>
                                            <div class='field row'>
                                                <span class='label' data-i18n='atk_range'>RNG</span>
                                                <input class='atk-range' type='text' name='attr_range' placeholder='30 ft'>
                                            </div>
                                        </div>
                                        <input class='field-tab' type='checkbox' name='attr_damage_checkbox' value='1' hidden='true'>
                                        <div class='field-container'>
                                            <input hidden='true' name='attr_damage_misc' value=''>
                                            <input class='field-tab dmg-tab' type='checkbox' name='attr_damage_checkbox' value='1'><span class='field label' data-i18n='dmg'>DMG</span>
                                            <div class='field row'>
                                                <input class='abi-dmg-dice' type='text' name=attr_damage_dice title='@{repeating_attack_$X_damage_dice}' placeholder='1d8'><span>+</span>
                                                <select class='label atk-ability abi' name='attr_damage_ability'>
                                                    <option value='' selected='selected'>N/A</option>
                                                    <option value='strength_mod'>STR</option>
                                                    <option value='dexterity_mod'>DEX</option>
                                                    <option value='constitution_mod'>CON</option>
                                                    <option value='intelligence_mod'>INT</option>
                                                    <option value='wisdom_mod'>WIS</option>
                                                    <option value='charisma_mod'>CHA</option>
                                                </select>
                                                <input hidden='true' name='attr_damage_ability_value' value='0'>
                                            </div>
                                            <div class='field row'>
                                                <span class='label' data-i18n='atk_type'>TYPE</span>
                                                <input class='atk-type' type='text' name='attr_attack_type' placeholder='Fire'>
                                                <span class='label' data-i18n='atk_crit_effect'>CRIT EFFECT</span>
                                                <input class='atk-crit' type='text' name='attr_attack_crit' placeholder='Burn'>
                                            </div>
                                        </div>
                                        <input class='field-tab' type='checkbox' name='attr_save_checkbox' value='1' hidden='true'>
                                        <div class='field-container'>
                                            <input class='field-tab save-effect-tab' type='checkbox' name='attr_save_checkbox' value='1'><span class='field label' data-i18n='save-effect'>SAVE EFFECT</span>
                                            <div class='field row'>
                                                <select class='label atk-ability abi' name='attr_save_ability'>
                                                    <option value='strength_mod' data-i18n='str' selected='selected'>STR</option>
                                                    <option value='dexterity_mod' data-i18n='dex'>DEX</option>
                                                    <option value='constitution_mod' data-i18n='con'>CON</option>
                                                    <option value='intelligence_mod' data-i18n='int'>INT</option>
                                                    <option value='wisdom_mod' data-i18n='wis'>WIS</option>
                                                    <option value='charisma_mod' data-i18n='cha'>CHA</option>
                                                </select>
                                                <span class='label' data-i18n='based-dc_'>Based DC </span>
                                                <input hidden='true' name='attr_dc' value='10'>
                                                <span class='save-dc label' name='attr_dc' value='10'>10</span>
                                                <select class='label save-type' name='attr_save_type'>
                                                    <option value='' selected='selected'>-</option>
                                                    <option value='FORT' data-i18n='fort-save'>FORT SAVE</option>
                                                    <option value='REF' data-i18n='ref-save'>REF SAVE</option>
                                                    <option value='WILL' data-i18n='will-save'>WILL SAVE</option>
                                                </select>
                                            </div>
                                            <div class='field row'>
                                                <textarea class='abi-description' name='attr_effect' placeholder='Effect on a Failed Save'></textarea>
                                            </div>
                                            <div class='field row'>
                                                <span class='label' data-i18n='A-Sucessful-Save:'>A Sucessful Save:</span>
                                            </div>
                                            <div class='field row'>
                                                <textarea class='abi-description' name='attr_save_effect' placeholder='Effect on a Successful Save'></textarea>
                                            </div>
                                            <div class='field row'>
                                            </div>
                                        </div>
                                        <input class='field-tab' type='checkbox' name='attr_macro_checkbox' value='1' hidden='true'>
                                        <div class='row field-container mod-container'>
                                            <input class='field-tab macro-tab' type='checkbox' name='attr_macro_checkbox' value='1'><span class='label field' data-i18n='macro'>MACRO</span>
                                            <textarea class='field row abi-description' type='text' name='attr_macro'>&{template:sf_spell} {{name=@{character_name}}} {{characterid=@{character_id}}} {{title=@{name}}} {{level=[[[[@{level}]]d1cs>2cf<0]]}} {{saveflag=[[1d@{save_checkbox}]]}} {{activation=@{usage}}} {{duration=@{duration}}} {{targets=@{target}}} {{range=@{range}}} {{savedc=[[@{dc}]]}} {{savetype=@{save_type}}} {{effect=@{effect}}} {{saveeffect=@{save_effect}}} {{attackflag=[[1d@{attack_checkbox}]]}} {{r1=[[1d20+@{bab}[BAB]+@{attack_ability_value}[ABILITY]@{attack_misc}@{attack_bonus}]]}} {{damageflag=[[1d@{damage_checkbox}]]}} {{damage1type=@{attack_type}}} {{damage1=[[@{damage_dice}+@{damage_ability_value}[ABILITY]@{damage_misc}]]}} {{crit1damage=[[@{damage_dice}+@{damage_ability_value}[ABILITY]@{damage_misc}]]}} {{crit1effect=@{attack_crit}}} {{notes=@{description}}}</textarea>
                                        </div>
                                        <div class='row'>
                                            <textarea class='abi-description' name='attr_description' title='@{repeatin_ability_$X_description}' placeholder='Description'></textarea>
                                        </div>
                                    </div>
                                    <div class='display'>
                                        <button class='summary' type='roll' name='roll_roll' value='@{macro}'>
                                            <span class='label abi-name-col' name='attr_name' placeholder='Laser Pistol'>Laser Pistol</span>
                                            <div class='attr-total-container'>
                                                <input class='mod-debuff' type='radio' name='attr_dc_change' value='-1' hidden='true'>
                                                <input class='mod-normal' type='radio' name='attr_dc_change' value='0' hidden='true' checked='checked'>
                                                <input class='mod-buff' type='radio' name='attr_dc_change' value='1' hidden='true'>
                                                <span class='label abi-dc-col modified-attr' name='attr_dc' value='0'>0</span>
                                            </div>
                                            <div class='attr-total-container'>
                                                <input class='mod-debuff' type='radio' name='attr_effect_change' value='-1' hidden='true'>
                                                <input class='mod-normal' type='radio' name='attr_effect_change' value='0' hidden='true' checked='checked'>
                                                <input class='mod-buff' type='radio' name='attr_effect_change' value='1' hidden='true'>
                                                <span class='label abi-effect-col modified-attr' name='attr_effect' value=' '> </span>
                                            </div>
                                        </button>
                                    </div>
                                </div>
                            </fieldset>
                            <div class='pseudo-repcontrol spell'>
                                <input type='checkbox' name='attr_create_9th' value='1'>
                                <span>&</span>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
            <div class='page settings'>
                
            </div>
    </div>
    <input name='attr_bab' type='text' hidden='true' readonly='true' value='0'>
    <input name='attr_character_level' type='text' hidden='true' readonly='true' value='0'>
    </div>
    <div class="container ship">
        
    </div>
</div>
<div class='rolltemplates'>
    <!-- Roll Template Definitions -->
    <!-- Generic Roll Template -->
    <!-- Macro Text: 
        &{template:sf_generic} {{name=@{character_name}}} {{characterid=@{character_id}}} {{title= }} {{r1name= }} {{r1= }} {{notes= }}
    -->
    <rolltemplate class="sheet-rolltemplate-sf_generic">
        <div class='template-container'>
            <!-- <div class='header-placeholder'>
                {{title}}
            </div> -->
            <span class='generic-header'>
                {{title}}
            </span>
            <div class='generic-body'>
                {{#r1}}
                    <div class='highlighted split r1name'>
                        {{#r1name}}
                            {{r1name}}
                        {{/r1name}}
                        {{^r1name}}
                            <span data-i18n='check'>CHECK</span>
                        {{/r1name}}
                    </div>
                    <div class='highlighted split roll'>
                        {{r1}}
                    </div>
                {{/r1}}
                {{#notes}}
                    <div class='highlighted across notes-row'>
                        <span class='notes' data-i18n='notes:'>NOTES</span>{{notes}}
                    </div>
                {{/notes}}
            </div>
            <div class='generic-footer'>
                {{#characterid}}
                    {{#name}}
                        <span>[</span>{{name}}<span>](https://journal.roll20.net/character/</span>{{characterid}}<span>)</span>
                    {{/name}}
                {{/characterid}}
                {{^characterid}}
                    {{name}}
                {{/characterid}}
            </div>
        </div>
    </rolltemplate>
    <!-- Attack Roll Templates -->
    <!-- Macro Text: 
        &{template:sf_attack} {{name=@{character_name}}} {{characterid=@{character_id}}} {{title=@{name}}} {{level=[[@{level}d1]]}} {{r1=[[1d20+@{bab}[BAB]+@{ability_value}[ABILITY]@{misc}@{bonus}]]}} 
        {{damagetype=@{type}}} {{damage1=[[@{damage_dice}+@{damage_ability_value}[ABILITY]@{damage_misc}@{damage_bonus}]]}} 
        {{crit1damage=[[@{damage_dice}+@{damage_ability_value}[ABILITY]@{damage_misc}@{damage_bonus}]]}} {{crit1effect=@{crit}}}
        {{targets=}} {{range=}}
        {{notes=@{description}}}
    -->
    <rolltemplate class="sheet-rolltemplate-sf_attack">
        <div class='template-container'>
            <span class='generic-header'>
                {{title}}
            </span>
            <div class='generic-body'>
                {{#rollGreater() level 0}}
                    <div class='highlighted split r1name'>
                        <span data-i18n='level'>LEVEL</span>
                    </div>
                    <div class='highlighted split roll'>
                        {{level}}
                    </div>
                {{/rollGreater() level 0}}
                {{#r1}}
                    <div class='highlighted split r1name'>
                        {{#r1name}}
                            {{r1name}}
                        {{/r1name}}
                        {{^r1name}}
                            <span data-i18n='attack'>ATTACK</span>
                        {{/r1name}}
                    </div>
                    <div class='highlighted split roll'>
                        {{r1}}
                    </div>
                {{/r1}}
                {{#damage1}}
                    <div class='highlighted split r1name'>
                        {{#damage1type}}
                            {{damage1type}}
                        {{/damage1type}}
                        {{^damage1type}}
                            <span data-i18n='damage'>DAMAGE</span>
                        {{/damage1type}}
                    </div>
                    <div class='highlighted split roll'>
                        {{damage1}}
                    </div>
                    {{#rollWasCrit() r1}}
                        {{#crit1effect}}
                            <div class='highlighted split r1name'>
                                <span data-i18n='crit-effect'>CRIT EFFECT</span>
                            </div>
                            <div class='highlighted split roll'>
                                {{crit1effect}}
                            </div>
                        {{/crit1effect}}
                        {{#crit1damage}}
                            <div class='highlighted split r1name'>
                                <span data-i18n='crit-damage'>CRIT DAMAGE</span>
                            </div>
                            <div class='highlighted split roll'>
                                {{crit1damage}}
                            </div>
                        {{/crit1damage}}
                    {{/rollWasCrit() r1}}
                {{/damage1}}
                {{#targets}}
                    <div class='highlighted split r1name'>
                        <span data-i18n='targets'>TARGETS</span>
                    </div>
                    <div class='highlighted split roll'>
                        {{targets}}
                    </div>
                {{/targets}}
                {{#range}}
                    <div class='highlighted split r1name'>
                        <span data-i18n='range'>RANGE</span>
                    </div>
                    <div class='highlighted split roll'>
                        {{range}}
                    </div>
                {{/range}}
                {{#notes}}
                    <div class='highlighted across notes-row'>
                        <span class='notes' data-i18n='notes:'>NOTES</span>{{notes}}
                    </div>
                {{/notes}}
            </div>
            <div class='generic-footer'>
                {{#characterid}}
                    {{#name}}
                        <span>[</span>{{name}}<span>](https://journal.roll20.net/character/</span>{{characterid}}<span>)</span>
                    {{/name}}
                {{/characterid}}
                {{^characterid}}
                    {{name}}
                {{/characterid}}
            </div>
            </div>
        </div>
    </rolltemplate>
    <!-- Spell Roll Templates -->
    <!-- &{template:sf_spell} {{name=@{character_name}}} {{characterid=@{character_id}}} {{title=@{name}}} {{level=[[@{level}d1}} {{activation}} {{duration=}} {{targets=}} {{range=}} {{saveflag=[[1d@{save_checkbox}]]}} {{savedc=[[@{dc}]]}} 
    {{savetype=@{save_type}}} {{effect=@{effect}}} {{saveeffect=@{save_effect}}} {{attackflag=[[1d@{attack_checkbox}]]}} 
    {{r1=[[1d20+@{bab}[BAB]+@{ability_value}[ABILITY]@{misc}@{bonus}]]}} {{damageflag=[[1d@{damage_checkbox}]]}} {{damagetype=@{type}}} 
    {{damage1=[[@{damage_dice}+@{damage_ability_value}[ABILITY]@{damage_misc}@{damage_bonus}]]}} 
    {{crit1damage=[[@{damage_dice}+@{damage_ability_value}[ABILITY]@{damage_misc}@{damage_bonus}]]}} {{crit1effect=@{crit_effect}}} 
    {{notes=@{description}}} -->
    <rolltemplate class="sheet-rolltemplate-sf_spell">
        <div class='template-container'>
            <span class='generic-header'>
                {{title}}
            </span>
            <div class='generic-body'>
                {{#rollGreater() level 0}}
                    <div class='highlighted split r1name'>
                        <span data-i18n='level'>LEVEL</span>
                    </div>
                    <div class='highlighted split roll'>
                        {{level}}
                    </div>
                {{/rollGreater() level 0}}
                {{#activation}}
                    <div class='highlighted split r1name'>
                        <span data-i18n='activation'>ACTIVATION</span>
                    </div>
                    <div class='highlighted split roll'>
                        {{activation}}
                    </div>
                {{/activation}}
                {{#duration}}
                    <div class='highlighted split r1name'>
                        <span data-i18n='duration'>DURATION</span>
                    </div>
                    <div class='highlighted split roll'>
                        {{duration}}
                    </div>
                {{/duration}}
                {{#targets}}
                    <div class='highlighted split r1name'>
                        <span data-i18n='targets'>TARGETS</span>
                    </div>
                    <div class='highlighted split roll'>
                        {{targets}}
                    </div>
                {{/targets}}
                {{#range}}
                    <div class='highlighted split r1name'>
                        <span data-i18n='range'>RANGE</span>
                    </div>
                    <div class='highlighted split roll'>
                        {{range}}
                    </div>
                {{/range}}
                {{#rollGreater() saveflag 0}}
                    <div class='highlighted across notes-row'>
                        <span class='notes' data-i18n='full-effect:'>FULL EFFECT:</span> <span>{{effect}}</span>
                    </div>
                    <div class='highlighted split r1name'>
                        <span class='savetype'>{{savetype}} </span><span data-i18n='_save'> SAVE</span>
                    </div>
                    <div class='highlighted split roll'>
                        <span data-i18n='dc'>DC</span> <span>{{savedc}}</span>
                    </div>
                    <div class='highlighted across notes-row'>
                        <span class='notes' data-i18n='save-effect:'>SAVE EFFECT:</span> <span>{{saveeffect}}</span>
                    </div>
                {{/rollGreater() saveflag 0}}
                {{#rollGreater() attackflag 0}}
                    <div class='highlighted split r1name'>
                        {{#r1name}}
                            {{r1name}}
                        {{/r1name}}
                        {{^r1name}}
                            <span data-i18n='attack'>ATTACK</span>
                        {{/r1name}}
                    </div>
                    <div class='highlighted split roll'>
                        {{r1}}
                    </div>
                {{/rollGreater() attackflag 0}}
                {{#rollGreater() damageflag 0}}
                    <div class='highlighted split r1name'>
                        {{#damage1type}}
                            {{damage1type}}
                        {{/damage1type}}
                        {{^damage1type}}
                            <span data-i18n='damage'>DAMAGE</span>
                        {{/damage1type}}
                    </div>
                    <div class='highlighted split roll'>
                        {{damage1}}
                    </div>
                    {{#rollWasCrit() r1}}
                        {{#crit1effect}}
                            <div class='highlighted split r1name'>
                                <span data-i18n='crit-effect'>CRIT EFFECT</span>
                            </div>
                            <div class='highlighted split roll'>
                                {{crit1effect}}
                            </div>
                        {{/crit1effect}}
                        {{#crit1damage}}
                            <div class='highlighted split r1name'>
                                <span data-i18n='crit-damage'>CRIT DAMAGE</span>
                            </div>
                            <div class='highlighted split roll'>
                                {{crit1damage}}
                            </div>
                        {{/crit1damage}}
                    {{/rollWasCrit() r1}}
                {{/rollGreater() damageflag 0}}
                {{#notes}}
                    <div class='highlighted across notes-row'>
                        <span class='notes' data-i18n='notes:'>NOTES:</span> {{notes}}
                    </div>
                {{/notes}}
            </div>
            <div class='generic-footer'>
                {{#characterid}}
                    {{#name}}
                        [{{name}}](https://journal.roll20.net/character/{{characterid}})
                    {{/name}}
                {{/characterid}}
                {{^characterid}}
                    {{name}}
                {{/characterid}}
            </div>
            </div>
        </div>
    </rolltemplate>
</div>
<script type='text/worker'>
    /* ---- BEGIN: TheAaronSheet.js ---- */
    // Github:   https://github.com/shdwjk/TheAaronSheet/blob/master/TheAaronSheet.js
    // By:       The Aaron, Arcane Scriptomancer
    // Contact:  https://app.roll20.net/users/104025/the-aaron
    var TAS = TAS || (function(){
        'use strict';
    
        var version = '0.2.4',
            lastUpdate = 1457098091,
    
            loggingSettings = {
                debug: {
                    key:     'debug',
                    title:   'Starfinder-DEBUG',
                    color: {
                        bgLabel: '#7732A2',
                        label:   '#F2EF40',
                        bgText:  '#FFFEB7',
                        text:    '#7732A2'
                    }
                },
                error: {
                    key:     'error',
                    title:   'Starfinder-Error',
                    color: {
                        bgLabel: '#C11713',
                        label:   'white',
                        bgText:  '#C11713',
                        text:    'white'
                    }
                },
                warn: {
                    key:     'warn',
                    title:   'Starfinder-Warning',
                    color: {
                        bgLabel: '#F29140',
                        label:   'white',
                        bgText:  '#FFD8B7',
                        text:    'black'
                    }
                },
                info: {
                    key:     'info',
                    title:   'Starfinder-Info',
                    color: {
                        bgLabel: '#413FA9',
                        label:   'white',
                        bgText:  '#B3B2EB',
                        text:    'black'
                    }
                },
                notice: {
                    key:     'notice',
                    title:   'Starfinder-Notice',
                    color: {
                        bgLabel: '#33C133',
                        label:   'white',
                        bgText:  '#ADF1AD',
                        text:    'black'
                    }
                },
                log: {
                    key:     'log',
                    title:   'Starfinder-Log',
                    color: {
                        bgLabel: '#f2f240',
                        label:   'black',
                        bgText:  '#ffff90',
                        text:    'black'
                    }
                },
                callstack: {
                    key:     'TAS',
                    title:   'Starfinder-function',
                    color: {
                        bgLabel: '#413FA9',
                        label:   'white',
                        bgText:  '#B3B2EB',
                        text:    'black'
                    }
                },
                callstack_async: {
                    key:     'TAS',
                    title:   'Starfinder-ASYNC CALL',
                    color: {
                        bgLabel: '#413FA9',
                        label:   'white',
                        bgText:  '#413FA9',
                        text:    'white'
                    }
                },
                TAS: {
                    key:     'TAS',
                    title:   'Starfinder-TAS',
                    color: {
                        bgLabel: 'grey',
                        label:   'black;background:linear-gradient(#304352,#d7d2cc,#d7d2cc,#d7d2cc,#304352)',
                        bgText:  'grey',
                        text:    'black;background:linear-gradient(#304352,#d7d2cc,#d7d2cc,#d7d2cc,#304352)'
                    }
                }
            },
    
    
            config = {
                debugMode: false,
                logging: {
                    log: true,
                    notice: true,
                    info: true,
                    warn: true,
                    error: true,
                    debug: false
                }
            },
    
            callstackRegistry = [],
    queuedUpdates = {}, //< Used for delaying saves till the last momment.
    
        complexType = function(o){
            switch(typeof o){
                case 'string':
                    return 'string';
                case 'boolean':
                    return 'boolean';
                case 'number':
                    return (_.isNaN(o) ? 'NaN' : (o.toString().match(/\./) ? 'decimal' : 'integer'));
                case 'function':
                    return 'function: '+(o.name ? o.name+'()' : '(anonymous)');
                case 'object':
                    return (_.isArray(o) ? 'array' : (_.isArguments(o) ? 'arguments' : ( _.isNull(o) ? 'null' : 'object')));
                default:
                    return typeof o;
            }
        },
    
    dataLogger = function(primaryLogger,secondaryLogger,data){
            _.each(data,function(m){
                var type = complexType(m);
                switch(type){
                    case 'string':
                        primaryLogger(m);
                        break;
                    case 'undefined':
                    case 'null':
                    case 'NaN':
                        primaryLogger('['+type+']');
                        break;
                    case 'number':
                    case 'not a number':
                    case 'integer':
                    case 'decimal':
                    case 'boolean':
                        primaryLogger('['+type+']: '+m);
                        break;
                    default:
                        primaryLogger('['+type+']:=========================================');
                        secondaryLogger(m);
                        primaryLogger('=========================================================');
                        break;
                }
            });
    },
    
    
        colorLog = function(options){
            var coloredLoggerFunction,
                key = options.key,
                label = options.title || 'TAS',
                lBGColor = (options.color && options.color.bgLabel) || 'blue',
                lTxtColor = (options.color && options.color.label) || 'white',
                mBGColor = (options.color && options.color.bgText) || 'blue',
                mTxtColor = (options.color && options.color.text) || 'white';
    
            coloredLoggerFunction = function(message){
                console.log(
                    '%c '+label+': %c '+message + ' ',
                    'background-color: '+lBGColor+';color: '+lTxtColor+'; font-weight:bold;',
                    'background-color: '+mBGColor+';color: '+mTxtColor+';'
                ); 
            };
            return function(){
                if('TAS'===key || config.logging[key]){
                   dataLogger(coloredLoggerFunction,function(m){console.log(m);},_.toArray(arguments)); 
                }
            };
        },
    
        logDebug  = colorLog(loggingSettings.debug),
        logError  = colorLog(loggingSettings.error),
        logWarn   = colorLog(loggingSettings.warn),
        logInfo   = colorLog(loggingSettings.info),
        logNotice = colorLog(loggingSettings.notice),
        logLog    = colorLog(loggingSettings.log),
        log       = colorLog(loggingSettings.TAS),
        logCS     = colorLog(loggingSettings.callstack),
        logCSA    = colorLog(loggingSettings.callstack_async),
    
        registerCallstack = function(callstack,label){
            var idx=_.findIndex(callstackRegistry,function(o){
                return (_.difference(o.stack,callstack).length === _.difference(callstack,o.stack).length) &&
                    _.difference(o.stack,callstack).length === 0 &&
                    o.label === label;
            });
            if(-1 === idx){
                idx=callstackRegistry.length;
                callstackRegistry.push({
                    stack: callstack,
                    label: label
                });
            }
            return idx;
        },
    
        setConfigOption = function(options){
            var newconf =_.defaults(options,config);
            newconf.logging=_.defaults(
                (options && options.logging)||{},
                config.logging
            );
            config=newconf;
        },
        
        debugMode = function(){
            config.logging.debug=true;
            config.debugMode = true;
        },
    
        getCallstack = function(){
            var e = new Error('dummy'),
                stack = _.map(_.rest(e.stack.replace(/^[^\(]+?[\n$]/gm, '')
                .replace(/^\s+at\s+/gm, '')
                .replace(/^Object.<anonymous>\s*\(/gm, '{anonymous}()@')
                .split('\n')),function(l){
                    return l.replace(/\s+.*$/,'');
                });
            return stack;
        },
        logCallstackSub = function(cs){
            var matches, csa;
            _.find(cs,function(line){
                matches = line.match(/TAS_valueSTACK_(\d+)/);
                if(matches){
                   csa=callstackRegistry[matches[1]];
                   logCSA( '===================='+(csa.label ? '> '+csa.label+' <' : '')+'====================');
                   logCallstackSub(csa.stack);
                   return true;
                } 
                logCS(line);
                return false;
            });
        },
        logCallstack = function(){
            var cs;
            if(config.debugMode){
                cs = getCallstack();
                cs.shift();
                log('==============================> CALLSTACK <==============================');
                logCallstackSub(cs);
                log('=========================================================================');
            }
        },
    
    
        wrapCallback = function (label, callback, context){
            var callstack;
            if('function' === typeof label){
                context=callback;
                callback=label;
                label=undefined;
            }
            if(!config.debugMode){
                return (function(cb,ctx){
                    return function(){
                        cb.apply(ctx||{},arguments);
                    };
                }(callback,context));
            }
            
            callstack = getCallstack();
            callstack.shift();
            
            return (function(cb,ctx,cs,lbl){
                var ctxref=registerCallstack(cs,lbl);
    
                /*jshint -W054 */
                return new Function('cb','ctx','TASlog',
                    "return function TAS_valueSTACK_"+ctxref+"(){"+
                        "TASlog('Entering: '+(cb.name||'(anonymous function)'));"+
                        "cb.apply(ctx||{},arguments);"+
                        "TASlog('Exiting: '+(cb.name||'(anonymous function)'));"+
                    "};")(cb,ctx,log);
                /*jshint +W054 */
            }(callback,context,callstack,label));
        },
    
    
        prepareUpdate = function( attribute, value ){
            queuedUpdates[attribute]=value;
        },
    
        applyQueuedUpdates = function() {
          setAttrs(queuedUpdates);
          queuedUpdates = {};
        },
    
    namesFromArgs = function(args,base){
            return _.chain(args)
                .reduce(function(memo,attr){
                    if('string' === typeof attr) {
                        memo.push(attr);
                    } else if(_.isArray(args) || _.isArguments(args)){
                        memo = namesFromArgs(attr,memo);
                    }
                    return memo;
                },(_.isArray(base) && base) || [])
                .uniq()
                .value();
    },
    
    addId = function(obj,value){
    Object.defineProperty(obj,'id',{
    value: value,
    writeable: false,
    enumerable: false
    });
    },
    
    addProp = function(obj,prop,value,fullname){
    (function(){
                var pname=(_.contains(['S','F','I','D'],prop) ? '_'+prop : prop),
       full_pname = fullname || prop,
                    pvalue=value;
    
                _.each(['S','I','F'],function(p){
                    if( !_.has(obj,p)){
                        Object.defineProperty(obj, p, {
                            value: {},
                            enumerable: false,
                            readonly: true
                        });
                    }
                });
                if( !_.has(obj,'D')){
                    Object.defineProperty(obj, 'D', {
                        value: _.reduce(_.range(10),function(m,d){
                                Object.defineProperty(m, d, {
                                    value: {},
                                    enumerable: true,
                                    readonly: true
                                });
                                return m;
                            },{}),
                        enumerable: false,
                        readonly: true
                    });
                }
    
    
                // Raw value
    Object.defineProperty(obj, pname, {
                    enumerable: true,
    set: function(v){
                        if(v!==pvalue) {
                            pvalue=v;
                            prepareUpdate(full_pname,v);
                        }
    },
    get: function(){
    return pvalue;
    }
    });
                
                // string value
    Object.defineProperty(obj.S, pname, {
                    enumerable: true,
    set: function(v){
                        var val=v.toString();
                        if(val !== pvalue) {
                            pvalue=val;
                            prepareUpdate(full_pname,val);
                        }
    },
    get: function(){
    return pvalue.toString();
    }
    });
    
                // int value
    Object.defineProperty(obj.I, pname, {
                    enumerable: true,
    set: function(v){
                        var val=parseInt(v,10) || 0;
                        if(val !== pvalue){
                            pvalue=val;
                            prepareUpdate(full_pname,val);
                        }
    },
    get: function(){
    return parseInt(pvalue,10) || 0;
    }
    });
    
                // float value
    Object.defineProperty(obj.F, pname, {
                    enumerable: true,
    set: function(v){
                        var val=parseFloat(v) || 0;
                        if(val !== pvalue) {
                            pvalue=val;
                            prepareUpdate(full_pname,val);
                        }
    },
    get: function(){
    return parseFloat(pvalue) || 0;
    }
    });
                _.each(_.range(10),function(d){
                    Object.defineProperty(obj.D[d], pname, {
                        enumerable: true,
                        set: function(v){
                            var val=(parseFloat(v) || 0).toFixed(d);
                            if(val !== pvalue){
                                pvalue=val;
                                prepareUpdate(full_pname,val);
                            }
                        },
                        get: function(){
                            return (parseFloat(pvalue) || 0).toFixed(d);
                        }
                    });
                });
    
    }());
    },
   
    repeating = function( section ) {
    return (function(s){
    var sectionName = s,
    attrNames = [],
    fieldNames = [],
    operations = [],
                    after = [],
   
    repAttrs = function TAS_Repeating_Attrs(){
    attrNames = namesFromArgs(arguments,attrNames);
    return this;
    },
    repFields = function TAS_Repeating_Fields(){
    fieldNames = namesFromArgs(arguments,fieldNames);
    return this;
    },
    repReduce = function TAS_Repeating_Reduce(func, initial, final, context) { 
    operations.push({
                        type: 'reduce',
                        func: (func && _.isFunction(func) && func) || _.noop,
                        memo: (_.isUndefined(initial) && 0) || initial,
                        final: (final && _.isFunction(final) && final) || _.noop,
                        context: context || {}
                    });
    return this;
    },
    repMap = function TAS_Repeating_Map(func, final, context) {
    operations.push({
                        type: 'map',
                        func: (func && _.isFunction(func) && func) || _.noop,
                        final: (final && _.isFunction(final) && final) || _.noop,
                        context: context || {}
                    });
    return this;
    },
                repEach = function TAS_Repeating_Each(func, final, context) {
    operations.push({
                        type: 'each',
                        func: (func && _.isFunction(func) && func) || _.noop,
                        final: (final && _.isFunction(final) && final) || _.noop,
                        context: context || {}
                    });
    return this;
                },
                repTap = function TAS_Repeating_Tap(final, context) {
    operations.push({
                        type: 'tap',
                        final: (final && _.isFunction(final) && final) || _.noop,
                        context: context || {}
                    });
    return this;
                },
                repAfter = function TAS_Repeating_After(callback,context) {
    after.push({
                        callback: (callback && _.isFunction(callback) && callback) || _.noop,
                        context: context || {}
                    });
    return this;
                },
    repExecute = function TAS_Repeating_Execute(callback,context){
    var rowSet = {},
    attrSet = {},
    fieldIds = [],
    fullFieldNames = [];
    
                    repAfter(callback,context);
    
    // call each operation per row.
    // call each operation's final
    getSectionIDs("repeating_"+sectionName,function(ids){
    fieldIds = ids;
    fullFieldNames = _.reduce(fieldIds,function(memo,id){
    return memo.concat(_.map(fieldNames,function(name){
    return 'repeating_'+sectionName+'_'+id+'_'+name;  
    }));
    },[]);
    getAttrs( _.uniq(attrNames.concat(fullFieldNames)), function(values){
    _.each(attrNames,function(aname){
    if(values.hasOwnProperty(aname)){
    addProp(attrSet,aname,values[aname]);
    }
    });
    
    rowSet = _.reduce(fieldIds,function(memo,id){
    var r={};
    addId(r,id);
    _.each(fieldNames,function(name){
    var fn = 'repeating_'+sectionName+'_'+id+'_'+name;  
    addProp(r,name,values[fn],fn);
    });
    
    memo[id]=r;
    
    return memo;
    },{});
    
                            _.each(operations,function(op){
                                var res;
                                switch(op.type){
                                    case 'tap':
                                        _.bind(op.final,op.context,rowSet,attrSet)();
                                        break;
    
                                    case 'each':
                                        _.each(rowSet,function(r){
                                            _.bind(op.func,op.context,r,attrSet,r.id,rowSet)();
                                        });
                                        _.bind(op.final,op.context,rowSet,attrSet)();
                                        break;
    
                                    case 'map':
                                        res = _.map(rowSet,function(r){
                                            return _.bind(op.func,op.context,r,attrSet,r.id,rowSet)();
                                        });
                                        _.bind(op.final,op.context,res,rowSet,attrSet)();
                                        break;
    
                                    case 'reduce':
                                        res = op.memo;
                                        _.each(rowSet,function(r){
                                            res = _.bind(op.func,op.context,res,r,attrSet,r.id,rowSet)();
                                        });
                                        _.bind(op.final,op.context,res,rowSet,attrSet)();
                                        break;
                                }
                            });
    
                            // finalize attrs
                            applyQueuedUpdates();
                            _.each(after,function(op){
                                _.bind(op.callback,op.context)();
                            });
    });
    });
    };
   
    return {
    attrs: repAttrs,
    attr: repAttrs,
    
    column: repFields,
    columns: repFields,
    field: repFields,
    fields: repFields,
    
    reduce: repReduce,
    inject: repReduce,
    foldl: repReduce,
    
    map: repMap,
    collect: repMap,
    
    each: repEach,
                    forEach: repEach,
    
                    tap: repTap,
                    'do': repTap,
    
    after: repAfter,
    last: repAfter,
    done: repAfter,
    
    execute: repExecute,
    go: repExecute,
    run: repExecute
    };
    }(section));
    },
    
    
        repeatingSimpleSum = function(section, field, destination){
            repeating(section)
                .attr(destination)
                .field(field)
                .reduce(function(m,r){
                    return m + (r.F[field]);
                },0,function(t,r,a){
                    a.S[destination]=t;
                })
                .execute();
        };
    
    console.log('%c..*`*..*`*.  The Aaron Sheet  v'+version+'  .*`*..*`*..','background: linear-gradient(to right,green,white,white,green); color:black;text-shadow: 0 0 8px white;');
    console.log('%c..*`*..*`*.  Last update: '+(new Date(lastUpdate*1000))+'  .*`*..*`*..','background: linear-gradient(to right,green,white,white,green); color:black;text-shadow: 0 0 8px white;');
    
    
        return {
            /* Repeating Sections */
            repeatingSimpleSum: repeatingSimpleSum,
    repeating: repeating,
    
            /* Configuration */
            config: setConfigOption,
    
            /* Debugging */
            callback: wrapCallback,
            callstack: logCallstack,
            debugMode: debugMode,
            _fn: wrapCallback,
    
            /* Logging */
            debug: logDebug,
            error: logError,
            warn: logWarn,
            info: logInfo,
            notice: logNotice,
            log: logLog
        };
    }());
    
    /* ---- END: TheAaronSheet.js ---- */
    /*start starfinder.js*/
    var starfinder = starfinder || (function(){
        'use strict';
        var version = 0.021508544553,
            sheetAttributes = [
                //Class & Character attributes
                'class_1_name','class_2_name','class_3_name','class_4_name','class_5_name',
                'class_1_level','class_2_level','class_3_level','class_4_level','class_5_level','class_1_sp','class_2_sp',
                'class_3_sp','class_4_sp','class_5_sp','class_1_hp','class_2_hp','class_3_hp','class_4_hp','class_5_hp',
                'class_1_bab','class_2_bab','class_3_bab','class_4_bab','class_5_bab',
                'class_1_fort','class_2_fort','class_3_fort','class_4_fort','class_5_fort',
                'class_1_ref','class_2_ref','class_3_ref','class_4_ref','class_5_ref',
                'class_1_will','class_2_will','class_3_will','class_4_will','class_5_will',
                'class_1_ability','class_2_ability','class_3_ability','class_4_ability','class_5_ability',
                'class_1_casting_ability','class_2_casting_ability','class_3_casting_ability','class_4_casting_ability','class_5_casting_ability',
                'class_1_spells','class_2_spells','class_3_spells','class_4_spells','class_5_spells', 'is_caster',
                'class_1_spell_progression','class_2_spell_progression','class_3_spell_progression','class_4_spell_progression','class_5_spell_progression',
                'char_max_spell_1','race_hp',
                //ability score attributes
                'strength','dexterity','constitution','intelligence','wisdom','charisma','strength_penalty','dexterity_penalty','constitution_penalty',
                'strength_base','dexterity_base','constitution_base','intelligence_base','wisdom_base','charisma_base',
                'intelligence_penalty','wisdom_penalty','charisma_penalty','strength_drain','dexterity_drain','constitution_drain','intelligence_drain',
                'wisdom_drain','charisma_drain','strength_mod','dexterity_mod','constitution_mod','intelligence_mod','wisdom_mod','charisma_mod',
                //Initiative attributes
                'initiative_ability',
                //AC attributes
                'eac','kac','cmd','eac_armor','kac_armor','eac_ability','kac_ability',
                //Save attributess
                'fort','ref','will','fort_base','ref_base','will_base','fort_ability','ref_ability','will_ability',
                //Skill attributes
                'acrobatics','athletics','bluff','computers','culture','diplomacy','disguise','engineering','intimidate','life_science','medicine','mysticism',
                'perception','physical_science','piloting','sense_motive','sleight_of_hand','stealth','survival','acrobatics_ability','athletics_ability',
                'bluff_ability','computers_ability','culture_ability','diplomacy_ability','disguise_ability','engineering_ability','intimidate_ability',
                'life_science_ability','medicine_ability','mysticism_ability','perception_ability','physical_science_ability','piloting_ability',
                'sense_motive_ability','sleight_of_hand_ability','stealth_ability','survival_ability','acrobatics_ranks','athletics_ranks','bluff_ranks',
                'computers_ranks','culture_ranks','diplomacy_ranks','disguise_ranks','engineering_ranks','intimidate_ranks','life_science_ranks',
                'medicine_ranks','mysticism_ranks','perception_ranks','physical_science_ranks','piloting_ranks','sense_motive_ranks','sleight_of_hand_ranks',
                'stealth_ranks','survival_ranks','acrobatics_class_skill','athletics_class_skill','bluff_class_skill','computers_class_skill',
                'culture_class_skill','diplomacy_class_skill','disguise_class_skill','engineering_class_skill','intimidate_class_skill',
                'life_science_class_skill','medicine_class_skill','mysticism_class_skill','perception_class_skill','physical_science_class_skill',
                'piloting_class_skill','sense_motive_class_skill','sleight_of_hand_class_skill','stealth_class_skill','survival_class_skill',
                'acrobatics_acp','athletics_acp','bluff_acp','computers_acp','culture_acp','diplomacy_acp','disguise_acp','engineering_acp','intimidate_acp','life_science_acp','medicine_acp','mysticism_acp',
                'perception_acp','physical_science_acp','piloting_acp','sense_motive_acp','sleight_of_hand_acp','stealth_acp','survival_acp',
                //Health attributes
                'sp','hp','rp','temp_hp','sp_max','hp_max','rp_max','temp_hp_max',
                //Item attributes
                'wealth','carried_bulk','encumber_bulk','overburden_bulk',
                //general sheet attributes
                'bab','character_level'
            ],
            repeatingAttributes = [
                {
                    section:'item',
                    fields:['name','bulk','cost','quantity','mods','equipped']
                },
                {
                    section:'attack',
                    fields:['ability','bonus','dmg_dice','dmg_ability','dmg_bonus','level','bonus',
                            'type','total','dmg_total','proficiency','category']
                },
                {
                    section:'profession',
                    fields:['ranks','class_skill','ability','acp']
                },
                {
                    section:'buff',
                    fields:['mods','toggle']
                },
                {
                    section:'ability',
                    fields:['mods','toggle','frequency','source','uses_max_base','attack_bonus','attack_ability','damage_ability','attack_type','save_ability']
                },
                {
                    section:'spell',
                    fields:['source','attack_bonus','attack_ability','damage_ability','attack_type','save_ability','level']
                }
            ],
            skillList=[
                'acrobatics',
                'athletics',
                'bluff',
                'computers',
                'culture',
                'diplomacy',
                'disguise',
                'engineering',
                'intimidate',
                'life_science',
                'medicine',
                'mysticism',
                'profession',
                'perception',
                'physical_science',
                'piloting',
                'sense_motive',
                'sleight_of_hand',
                'stealth',
                'survival'
            ],
            attributeObjs=[
                /*
                {
                    repeating:'section'/false,
                    attr:'attribute_name',
                    numAdds: integer,
                    attrAdds: [],
                    addlBonus: [],
                    ability:'ability_attribute',
                    repeatTextAdds:[],
                    repeatAdds:[],
                    textAdds:[]
                },
                */
                {
                    repeating:false,
                    attr:'strength',
                    numAdds: 0,
                    attrAdds: ['strength_base','strength_drain','strength_penalty'],
                    multAdds: [1,-1,0.5],
                    addlBonus: [],
                    ability:false,
                    repeatTextAdds:[],
                    repeatAdds:[],
                    textAdds:[],
                    moddable:true
                },
                {
                    repeating:false,
                    attr:'dexterity',
                    numAdds: 0,
                    attrAdds: ['dexterity_base','dexterity_drain','dexterity_penalty'],
                    multAdds: [1,-1,0.5],
                    addlBonus: [],
                    ability:false,
                    repeatTextAdds:[],
                    repeatAdds:[],
                    textAdds:[],
                    moddable:true
                },
                {
                    repeating:false,
                    attr:'constitution',
                    numAdds: 0,
                    attrAdds: ['constitution_base','constitution_drain','constitution_penalty'],
                    multAdds: [1,-1,0.5],
                    addlBonus: [],
                    ability:false,
                    repeatTextAdds:[],
                    repeatAdds:[],
                    textAdds:[],
                    moddable:true
                },
                {
                    repeating:false,
                    attr:'intelligence',
                    numAdds: 0,
                    attrAdds: ['intelligence_base','intelligence_drain','intelligence_penalty'],
                    multAdds: [1,-1,0.5],
                    addlBonus: [],
                    ability:false,
                    repeatTextAdds:[],
                    repeatAdds:[],
                    textAdds:[],
                    moddable:true
                },
                {
                    repeating:false,
                    attr:'wisdom',
                    numAdds: 0,
                    attrAdds: ['wisdom_base','wisdom_drain','wisdom_penalty'],
                    multAdds: [1,-1,0.5],
                    addlBonus: [],
                    ability:false,
                    repeatTextAdds:[],
                    repeatAdds:[],
                    textAdds:[],
                    moddable:true
                },
                {
                    repeating:false,
                    attr:'charisma',
                    numAdds: 0,
                    attrAdds: ['charisma_base','charisma_drain','charisma_penalty'],
                    multAdds: [1,-1,0.5],
                    addlBonus: [],
                    ability:false,
                    repeatTextAdds:[],
                    repeatAdds:[],
                    textAdds:[],
                    moddable:true
                },
                
                {
                    repeating:false,
                    attr:'strength_mod',
                    numAdds: -5,
                    attrAdds: ['strength'],
                    multAdds: [0.5],
                    addlBonus: [],
                    ability:false,
                    repeatTextAdds:[],
                    repeatAdds:[],
                    textAdds:[]
                },
                {
                    repeating:false,
                    attr:'dexterity_mod',
                    numAdds: -5,
                    attrAdds: ['dexterity'],
                    multAdds: [0.5],
                    addlBonus: [],
                    ability:false,
                    repeatTextAdds:[],
                    repeatAdds:[],
                    textAdds:[]
                },
                {
                    repeating:false,
                    attr:'constitution_mod',
                    numAdds: -5,
                    attrAdds: ['constitution'],
                    multAdds: [0.5],
                    addlBonus: [],
                    ability:false,
                    repeatTextAdds:[],
                    repeatAdds:[],
                    textAdds:[]
                },
                {
                    repeating:false,
                    attr:'intelligence_mod',
                    numAdds: -5,
                    attrAdds: ['intelligence'],
                    multAdds: [0.5],
                    addlBonus: [],
                    ability:false,
                    repeatTextAdds:[],
                    repeatAdds:[],
                    textAdds:[]
                },
                {
                    repeating:false,
                    attr:'wisdom_mod',
                    numAdds: -5,
                    attrAdds: ['wisdom'],
                    multAdds: [0.5],
                    addlBonus: [],
                    ability:false,
                    repeatTextAdds:[],
                    repeatAdds:[],
                    textAdds:[]
                },
                {
                    repeating:false,
                    attr:'charisma_mod',
                    numAdds: -5,
                    attrAdds: ['charisma'],
                    multAdds: [0.5],
                    addlBonus: [],
                    ability:false,
                    repeatTextAdds:[],
                    repeatAdds:[],
                    textAdds:[]
                },
                {
                    repeating:false,
                    attr:'sp_max',
                    numAdds: 0,
                    attrAdds: ['constitution_mod','class_1_sp','class_2_sp','class_3_sp','class_4_sp','class_5_sp'],
                    multAdds:['character_level','class_1_level','class_2_level','class_3_level','class_4_level','class_5_level'],
                    addlBonus: [],
                    ability:false,
                    repeatTextAdds:[],
                    repeatAdds:[],
                    textAdds:[],
                    moddable:true
                },
                {
                    repeating:false,
                    attr:'hp_max',
                    numAdds: 0,
                    attrAdds: ['class_1_hp','class_2_hp','class_3_hp','class_4_hp','class_5_hp','race_hp'],
                    multAdds:['class_1_level','class_2_level','class_3_level','class_4_level','class_5_level',1],
                    addlBonus: [],
                    ability:false,
                    repeatTextAdds:[],
                    repeatAdds:[],
                    textAdds:[],
                    moddable:true
                },
                {
                    repeating:false,
                    attr:'rp_max',
                    numAdds:0,
                    attrAdds:[],
                    ability:'abi',
                    moddable:true
                },
                {
                    repeating:false,
                    attr:'temp_hp_max',
                    numAdds: 0,
                    attrAdds: [],
                    multAdds:[],
                    addlBonus: [],
                    ability:false,
                    repeatTextAdds:[],
                    repeatAdds:[],
                    textAdds:[],
                    moddable:true
                },
                {
                    attr:'eac_armor',
                    numAdds:0,
                    attrAdds:[],
                    repeatTextAdds:[],
                    repeatAdds:[],
                    textAdds:[],
                    moddable:true
                },
                {
                    attr:'kac_armor',
                    numAdds:0,
                    attrAdds:[],
                    repeatTextAdds:[],
                    repeatAdds:[],
                    textAdds:[],
                    moddable:true
                },
                {
                    repeating:false,
                    attr:'eac',
                    numAdds:10,
                    attrAdds:['eac_armor'],
                    multAdds:[1],
                    ability:'eac_ability',
                    repeatTextAdds:[],
                    repeatAdds:[],
                    textAdds:[],
                    moddable:true
                },
                {
                    repeating:false,
                    attr:'kac',
                    numAdds:10,
                    attrAdds:['kac_armor'],
                    multAdds:[1],
                    ability:'kac_ability',
                    repeatTextAdds:[],
                    repeatAdds:[],
                    textAdds:[],
                    moddable:true
                },
                {
                    repeating:false,
                    attr:'cmd',
                    numAdds:8,
                    attrAdds:['kac'],
                    multAdds:[1],
                    repeatTextAdds:[],
                    repeatAdds:[],
                    textAdds:[],
                    moddable:true
                },
                {
                    repeating:false,
                    attr:'fort',
                    numAdds:0,
                    attrAdds:['fort_base'],
                    multAdds:[1],
                    ability:'fort_ability',
                    repeatTextAdds:[],
                    repeatAdds:[],
                    textAdds:[],
                    moddable:true
                },
                {
                    repeating:false,
                    attr:'ref',
                    numAdds:0,
                    attrAdds:['ref_base'],
                    multAdds:[1],
                    ability:'ref_ability',
                    repeatTextAdds:[],
                    repeatAdds:[],
                    textAdds:[],
                    moddable:true
                },
                {
                    repeating:false,
                    attr:'will',
                    numAdds:0,
                    attrAdds:['will_base'],
                    multAdds:[1],
                    ability:'will_ability',
                    repeatTextAdds:[],
                    repeatAdds:[],
                    textAdds:[],
                    moddable:true
                },
                {
                    repeating:false,
                    attr:'initiative',
                    numAdds:0,
                    attrAdds:[],
                    ability:'initiative_ability',
                    repeatTextAdds:[],
                    repeatAdds:[],
                    textAdds:[],
                    moddable:true
                },
                {
                    repeating:false,
                    attr:'acrobatics',
                    isSkill:true,
                    numAdds:0,
                    attrAdds:['acrobatics_ranks','acrobatics_class_skill'],
                    multAdds:[1,1],
                    ability:'acrobatics_ability',
                    repeatTextAdds:[],
                    repeatAdds:[],
                    textAdds:[],
                    moddable:true
                },
                {
                    repeating:false,
                    attr:'athletics',
                    isSkill:true,
                    numAdds:0,
                    attrAdds:['athletics_ranks','athletics_class_skill'],
                    multAdds:[1,1],
                    ability:'athletics_ability',
                    repeatTextAdds:[],
                    repeatAdds:[],
                    textAdds:[],
                    moddable:true
                },
                {
                    repeating:false,
                    attr:'bluff',
                    isSkill:true,
                    numAdds:0,
                    attrAdds:['bluff_ranks','bluff_class_skill'],
                    multAdds:[1,1],
                    ability:'bluff_ability',

                    repeatTextAdds:[],
                    repeatAdds:[],
                    textAdds:[],
                    moddable:true
                },
                {
                    repeating:false,
                    attr:'computers',
                    isSkill:true,
                    numAdds:0,
                    attrAdds:['computers_ranks','computers_class_skill'],
                    multAdds:[1,1],
                    ability:'computers_ability',

                    repeatTextAdds:[],
                    repeatAdds:[],
                    textAdds:[],
                    moddable:true
                },
                {
                    repeating:false,
                    attr:'culture',
                    isSkill:true,
                    numAdds:0,
                    attrAdds:['culture_ranks','culture_class_skill'],
                    multAdds:[1,1],
                    ability:'culture_ability',
                    repeatTextAdds:[],
                    repeatAdds:[],
                    textAdds:[],
                    moddable:true
                },
                {
                    repeating:false,
                    attr:'diplomacy',
                    isSkill:true,
                    numAdds:0,
                    attrAdds:['diplomacy_ranks','diplomacy_class_skill'],
                    multAdds:[1,1],
                    ability:'diplomacy_ability',
                    repeatTextAdds:[],
                    repeatAdds:[],
                    textAdds:[],
                    moddable:true
                },
                {
                    repeating:false,
                    attr:'disguise',
                    isSkill:true,
                    numAdds:0,
                    attrAdds:['disguise_ranks','disguise_class_skill'],
                    multAdds:[1,1],
                    ability:'disguise_ability',
                    repeatTextAdds:[],
                    repeatAdds:[],
                    textAdds:[],
                    moddable:true
                },
                {
                    repeating:false,
                    attr:'engineering',
                    isSkill:true,
                    numAdds:0,
                    attrAdds:['engineering_ranks','engineering_class_skill'],
                    multAdds:[1,1],
                    ability:'engineering_ability',
                    repeatTextAdds:[],
                    repeatAdds:[],
                    textAdds:[],
                    moddable:true
                },
                {
                    repeating:false,
                    attr:'intimidate',
                    isSkill:true,
                    numAdds:0,
                    attrAdds:['intimidate_ranks','intimidate_class_skill'],
                    multAdds:[1,1],
                    ability:'intimidate_ability',
                    repeatTextAdds:[],
                    repeatAdds:[],
                    textAdds:[],
                    moddable:true
                },
                {
                    repeating:false,
                    isSkill:true,
                    attr:'life_science',
                    numAdds:0,
                    attrAdds:['life_science_ranks','life_science_class_skill'],
                    multAdds:[1,1],
                    ability:'life_science_ability',
                    repeatTextAdds:[],
                    repeatAdds:[],
                    textAdds:[],
                    moddable:true
                },
                {
                    repeating:false,
                    isSkill:true,
                    attr:'medicine',
                    numAdds:0,
                    attrAdds:['medicine_ranks','medicine_class_skill'],
                    multAdds:[1,1],
                    ability:'medicine_ability',
                    repeatTextAdds:[],
                    repeatAdds:[],
                    textAdds:[],
                    moddable:true
                },
                {
                    repeating:false,
                    isSkill:true,
                    attr:'mysticism',
                    numAdds:0,
                    attrAdds:['mysticism_ranks','mysticism_class_skill'],
                    multAdds:[1,1],
                    ability:'mysticism_ability',
                    repeatTextAdds:[],
                    repeatAdds:[],
                    textAdds:[],
                    moddable:true
                },
                {
                    repeating:false,
                    attr:'perception',
                    numAdds:0,
                    attrAdds:['perception_ranks','perception_class_skill'],
                    multAdds:[1,1],
                    ability:'perception_ability',
                    repeatTextAdds:[],
                    repeatAdds:[],
                    textAdds:[],
                    moddable:true
                },
                {
                    repeating:false,
                    isSkill:true,
                    attr:'physical_science',
                    numAdds:0,
                    attrAdds:['physical_science_ranks','physical_science_class_skill'],
                    multAdds:[1,1],
                    ability:'physical_science_ability',
                    repeatTextAdds:[],
                    repeatAdds:[],
                    textAdds:[],
                    moddable:true
                },
                {
                    repeating:false,
                    isSkill:true,
                    attr:'piloting',
                    numAdds:0,
                    attrAdds:['piloting_ranks','piloting_class_skill'],
                    multAdds:[1,1],
                    ability:'piloting_ability',
                    repeatTextAdds:[],
                    repeatAdds:[],
                    textAdds:[],
                    moddable:true
                },
                {
                    repeating:'profession',
                    isSkill:true,
                    attr:'profession',
                    numAdds:0,
                    attrAdds:[],
                    repeatAdds:['ranks','class_skill'],
                    ability:'ability',
                    repeatTextAdds:[],
                    textAdds:[],
                    moddable:true
                },
                {
                    repeating:false,
                    isSkill:true,
                    attr:'sense_motive',
                    numAdds:0,
                    attrAdds:['sense_motive_ranks','sense_motive_class_skill'],
                    multAdds:[1,1],
                    ability:'sense_motive_ability',
                    repeatTextAdds:[],
                    repeatAdds:[],
                    textAdds:[],
                    moddable:true
                },
                {
                    repeating:false,
                    isSkill:true,
                    attr:'sleight_of_hand',
                    numAdds:0,
                    attrAdds:['sleight_of_hand_ranks','sleight_of_hand_class_skill'],
                    multAdds:[1,1],
                    ability:'sleight_of_hand_ability',
                    repeatTextAdds:[],
                    repeatAdds:[],
                    textAdds:[],
                    moddable:true
                },
                {
                    repeating:false,
                    isSkill:true,
                    attr:'stealth',
                    numAdds:0,
                    attrAdds:['stealth_ranks','stealth_class_skill'],
                    multAdds:[1,1],
                    ability:'stealth_ability',
                    repeatTextAdds:[],
                    repeatAdds:[],
                    textAdds:[],
                    moddable:true
                },
                {
                    repeating:false,
                    isSkill:true,
                    attr:'survival',
                    numAdds:0,
                    attrAdds:['survival_ranks','survival_class_skill'],
                    multAdds:[1,1],
                    ability:'survival_ability',
                    repeatTextAdds:[],
                    repeatAdds:[],
                    textAdds:[],
                    moddable:true
                },
                {
                    repeating:'attack',
                    attr:'total',
                    numAdds:0,
                    attrAdds:['bab'],
                    multAdds:[1],
                    category:'category',
                    ability:'ability',
                    repeatTextAdds:[],
                    repeatAdds:[],
                    textAdds:[],
                    moddable:true
                },
                {
                    repeating:'attack',
                    attr:'ability_value',
                    numAdds:0,
                    attrAdds:['bab'],
                    multAdds:[1],
                    category:'category',
                    ability:'ability',
                    repeatTextAdds:[],
                    repeatAdds:[],
                    textAdds:[],
                    moddable:true
                },
                {
                    repeating:'attack',
                    attr:'damage_total',
                    numAdds:0,
                    attrAdds:[],
                    repeatTextAdds:['damage_dice','damage_bonus','damage_misc'],
                    category:'category',
                    ability:'damage_ability',
                    repeatAdds:[],
                    textAdds:[],
                    moddable:true
                },
                {
                    repeating:'ability',
                    attr:'uses_max',
                    numAdds:0,
                    attrAdds:[],
                    multAdds:[],
                    repeatTextAdds:[],
                    repeatAdds:[],
                    textAdds:[],
                    repeatParseField:['uses_max_base'],
                    moddable:true
                },
                {
                    repeating:'ability',
                    attr:'attack_total',
                    numAdds:0,
                    attrAdds:['bab'],
                    multAdds:[1],
                    ability:'attack_ability',
                    repeatTextAdds:[],
                    repeatAdds:[],
                    textAdds:[],
                    moddable:true
                },
                {
                    repeating:'ability',
                    attr:'damage_total',
                    numAdds:0,
                    attrAdds:[],
                    repeatTextAdds:['damage_dice','damage_bonus','damage_misc'],
                    category:'category',
                    ability:'damage_ability',
                    repeatAdds:[],
                    textAdds:[],
                    moddable:true
                },
                {
                    repeating:'ability',
                    attr:'dc',
                    attrAdds:['lvl'],
                    multAdds:[0.5],
                    numAdds:10,
                    ability:'save_ability'
                },
                {
                    repeating:'ability',
                    attr:'attack_ability_value',
                    numAdds:0,
                    attrAdds:[],
                    ability:'attack_ability',
                    repeatTextAdds:[],
                    repeatAdds:[],
                    textAdds:[]
                },
                {
                    repeating:'ability',
                    attr:'damage_ability_value',
                    numAdds:0,
                    attrAdds:[],
                    ability:'damage_ability',
                    repeatTextAdds:[],
                    repeatAdds:[],
                    textAdds:[]
                },
                {
                    repeating:'ability',
                    attr:'bab',
                    numAdds:0,
                    attrAdds:['bab'],
                    multAdds:[1],
                    repeatTextAdds:[],
                    repeatAdds:[],
                    textAdds:[]
                },
                {
                    repeating:'spell',
                    attr:'cantrip_filter',
                    numAdds:0,
                    attrAdds:[],
                    multAdds:[],
                    repeatTextAdds:[],
                    repeatAdds:[],
                    textAdds:[],
                    repeatParseField:['level'],
                    moddable:true
                },
                {
                    repeating:'spell',
                    attr:'level_1_filter',
                    numAdds:0,
                    attrAdds:[],
                    multAdds:[],
                    repeatTextAdds:[],
                    repeatAdds:[],
                    textAdds:[],
                    repeatParseField:['level'],
                    moddable:true
                },
                {
                    repeating:'spell',
                    attr:'level_2_filter',
                    numAdds:0,
                    attrAdds:[],
                    multAdds:[],
                    repeatTextAdds:[],
                    repeatAdds:[],
                    textAdds:[],
                    repeatParseField:['level'],
                    moddable:true
                },
                {
                    repeating:'spell',
                    attr:'level_3_filter',
                    numAdds:0,
                    attrAdds:[],
                    multAdds:[],
                    repeatTextAdds:[],
                    repeatAdds:[],
                    textAdds:[],
                    repeatParseField:['level'],
                    moddable:true
                },
                {
                    repeating:'spell',
                    attr:'level_4_filter',
                    numAdds:0,
                    attrAdds:[],
                    multAdds:[],
                    repeatTextAdds:[],
                    repeatAdds:[],
                    textAdds:[],
                    repeatParseField:['level'],
                    moddable:true
                },
                {
                    repeating:'spell',
                    attr:'level_5_filter',
                    numAdds:0,
                    attrAdds:[],
                    multAdds:[],
                    repeatTextAdds:[],
                    repeatAdds:[],
                    textAdds:[],
                    repeatParseField:['level'],
                    moddable:true
                },
                {
                    repeating:'spell',
                    attr:'level_6_filter',
                    numAdds:0,
                    attrAdds:[],
                    multAdds:[],
                    repeatTextAdds:[],
                    repeatAdds:[],
                    textAdds:[],
                    repeatParseField:['level'],
                    moddable:true
                },
                {
                    repeating:'spell',
                    attr:'level_7_filter',
                    numAdds:0,
                    attrAdds:[],
                    multAdds:[],
                    repeatTextAdds:[],
                    repeatAdds:[],
                    textAdds:[],
                    repeatParseField:['level'],
                    moddable:true
                },
                {
                    repeating:'spell',
                    attr:'level_8_filter',
                    numAdds:0,
                    attrAdds:[],
                    multAdds:[],
                    repeatTextAdds:[],
                    repeatAdds:[],
                    textAdds:[],
                    repeatParseField:['level'],
                    moddable:true
                },
                {
                    repeating:'spell',
                    attr:'level_9_filter',
                    numAdds:0,
                    attrAdds:[],
                    multAdds:[],
                    repeatTextAdds:[],
                    repeatAdds:[],
                    textAdds:[],
                    repeatParseField:['level'],
                    moddable:true
                },
                {
                    repeating:'spell',
                    attr:'attack_total',
                    numAdds:0,
                    attrAdds:['bab'],
                    multAdds:[1],
                    ability:'attack_ability',
                    repeatTextAdds:[],
                    repeatAdds:[],
                    textAdds:[],
                    moddable:true
                },
                {
                    repeating:'spell',
                    attr:'damage_total',
                    numAdds:0,
                    attrAdds:[],
                    repeatTextAdds:['damage_dice','damage_bonus','damage_misc'],
                    category:'category',
                    ability:'damage_ability',
                    repeatAdds:[],
                    textAdds:[],
                    moddable:true
                },
                {
                    repeating:'spell',
                    attr:'dc',
                    attrAdds:[],
                    repeatAdds:['level'],
                    numAdds:10,
                    ability:'save_ability'
                },
                {
                    repeating:'spell',
                    attr:'attack_ability_value',
                    numAdds:0,
                    attrAdds:[],
                    ability:'attack_ability',
                    repeatTextAdds:[],
                    repeatAdds:[],
                    textAdds:[]
                },
                {
                    repeating:'spell',
                    attr:'damage_ability_value',
                    numAdds:0,
                    attrAdds:[],
                    ability:'damage_ability',
                    repeatTextAdds:[],
                    repeatAdds:[],
                    textAdds:[]
                },
                {
                    repeating:'spell',
                    attr:'bab',
                    numAdds:0,
                    attrAdds:['bab'],
                    multAdds:[1],
                    repeatTextAdds:[],
                    repeatAdds:[],
                    textAdds:[]
                }
            ],
            
        RegisterEventHandlers = function(){
            on('change:tab_select '
            +'change:class_1_name change:class_2_name change:class_3_name change:class_4_name change:class_5_name '
            +'change:class_1_level change:class_2_level change:class_3_level change:class_4_level change:class_5_level '
            +'change:class_1_sp change:class_2_sp change:class_3_sp change:class_4_sp change:class_5_sp '
            +'change:class_1_hp change:class_2_hp change:class_3_hp change:class_4_hp change:class_5_hp '
            +'change:class_1_bab change:class_2_bab change:class_3_bab change:class_4_bab change:class_5_bab '
            +'change:class_1_fort change:class_2_fort change:class_3_fort change:class_4_fort change:class_5_fort '
            +'change:class_1_ref change:class_2_ref change:class_3_ref change:class_4_ref change:class_5_ref '
            +'change:class_1_will change:class_2_will change:class_3_will change:class_4_will change:class_5_will '
            +'change:class_1_skills change:class_2_skills change:class_3_skills change:class_4_skills change:class_5_skills '
            +'change:class_1_ability change:class_2_ability change:class_3_ability change:class_4_ability change:class_5_ability '
            +'change:class_1_spells change:class_2_spells change:class_3_spells change:class_4_spells change:class_5_spells '
            +'change:class_1_spell_progression change:class_2_spell_progression change:class_3_spell_progression change:class_4_spell_progression change:class_5_spell_progression '
            +'change:class_1_casting_ability change:class_2_casting_ability change:class_3_casting_ability change:class_4_casting_ability change:class_5_casting_ability '
            +'change:race_hp change:strength_base change:strength_enhance change:strength_penalty change:strength_drain '
            +'change:dexterity_base change:dexterity_enhance change:dexterity_penalty change:dexterity_drain change:constitution_base '
            +'change:constitution_enhance change:constitution_penalty change:constitution change:intelligence_base change:intelligence_enhance '
            +'change:intelligence_penalty change:intelligence_drain change:wisdom_base change:wisdom_enhance change:wisdom_penalty change:wisdom_drain '
            +'change:charisma_base change:charisma_enhance change:charisma_penalty change:charisma_drain change:eac_ability change:kac_ability '
            +'change:fort_ability change:ref_ability change:will_ability change:initiative_ability change:sp change:hp change:rp '
            +'change:acrobatics_ranks change:acrobatics_class_skill change:acrobatics_ability change:acrobatics_acp '
            +'change:athletics_ranks change:athletics_class_skill change:athletics_ability change:athletics_acp '
            +'change:bluff_ranks change:bluff_class_skill change:bluff_ability change:bluff_acp '
            +'change:computers_ranks change:computers_class_skill change:computers_ability change:computers_acp '
            +'change:culture_ranks change:culture_class_skill change:culture_ability change:culture_acp '
            +'change:diplomacy_ranks change:diplomacy_class_skill change:diplomacy_ability change:diplomacy_acp '
            +'change:disguise_ranks change:disguise_class_skill change:disguise_ability change:disguise_acp '
            +'change:engineering_ranks change:engineering_class_skill change:engineering_ability  change:engineering_acp '
            +'change:intimidate_ranks change:intimidate_class_skill change:intimidate_ability  change:intimidate_acp '
            +'change:life_science_ranks change:life_science_class_skill change:life_science_ability  change:life_science_acp '
            +'change:medicine_ranks change:medicine_class_skill change:medicine_ability  change:medicine_acp '
            +'change:mysticism_ranks change:mysticism_class_skill change:mysticism_ability change:mysticism_acp '
            +'change:perception_ranks change:perception_class_skill change:perception_ability change:perception_acp '
            +'change:physical_science_ranks change:physical_science_class_skill change:physical_science_ability change:physical_science_acp '
            +'change:piloting_ranks change:piloting_class_skill change:piloting_ability change:_acp '
            +'change:sense_motive_ranks change:sense_motive_class_skill change:sense_motive_ability change:sense_motive_acp '
            +'change:sleight_of_hand_ranks change:sleight_of_hand_class_skill change:sleight_of_hand_ability change:sleight_of_hand_acp '
            +'change:stealth_ranks change:stealth_class_skill change:stealth_ability change:stealth_acp '
            +'change:survival_ranks change:survival_class_skill change:survival_ability change:survival_acp '
            +'change:repeating_item change:repeating_attack change:repeating_profession change:repeating_buff change:repeating_ability change:repeating_spell '
            +'change:create_cantrip change:create_1st change:create_2nd change:create_3rd change:create_4th change:create_5th change:create_6th change:create_7th change:create_8th change:create_9th '
            +'remove:repeating_item remove:repeating_buff remove:repeating_ability',
            accessStarfinder);
        },
        
        accessStarfinder = function (event){
            var attribute = event.sourceAttribute,
                repeatSec = event.sourceAttribute.match(/repeating_([^_]+)/) ? event.sourceAttribute.match(/repeating_([^_]+)/)[1] : false,
                cloneRepAttr = JSON.parse(JSON.stringify(repeatingAttributes)),
                sectionAggregate = [],
                currSection,
                attributes=[],
                bonuses,setObj,
                getID = () => {
                    currSection=cloneRepAttr.shift();
                    getSectionIDs('repeating_'+currSection.section,(itemIDArr)=>{
                        sectionAggregate.push({
                            section:currSection.section,
                            id:itemIDArr,
                            fields:currSection.fields
                        });
                        if(_.isEmpty(cloneRepAttr)){
                            useID();
                        }else{
                            getID();
                        }
                    });
                },
                useID = () => {
                    _.each(sectionAggregate,(section)=>{
                        _.each(section.id,(sid)=>{
                            _.each(section.fields,(f)=>{
                                attributes.push('repeating_'+section.section+'_'+sid+'_'+f);
                            });
                        });
                    });
                    attributes = attributes.concat(sheetAttributes);
                    getAttrs(attributes,(objs)=>{
                        if(attribute.match(/^(?:rp|hp|sp)$/)){
                            healthHandler(objs);
                        }else{
                            if(attribute.match(/frequency/)){
                                setObj={};
                                setObj[event.sourceAttribute.replace(/frequency/,'toggle_freq_dependency')]=objs[event.sourceAttribute];
                                setObj[event.sourceAttribute.replace(/frequency/,'usage_freq_dependency')]=objs[event.sourceAttribute];
                                setObj[event.sourceAttribute.replace(/frequency/,'uses_freq_dependency')]=objs[event.sourceAttribute];
                            }else{
                                setObj = attribute.match(/class_\d/) ? classHandler(objs,attribute) : attribute.match(/repeating_ability|repeating_spell/) ? abilityHandler(objs,attribute) : {};
                            }
                            if(setObj){
                                bonuses=parseBuffs(objs);
                                applyBuffs(objs,bonuses,setObj);
                            }
                        }
                    });
                };
            if(attribute.match(/show_options/)){
                return;
            }
            if(attribute==='tab_select'){
                getAttrs(['tab_select'],(objs)=>{
                    setAttrs({tab:objs.tab_select},{silent:true});
                });
            }else if(attribute.match(/(?:save|attack|mods|damage)_checkbox/)){
                setObj={};
                getAttrs([event.sourceAttribute],(objs)=>{
                    setObj[event.sourceAttribute]=objs[event.sourceAttribute];
                    setAttrs(setObj,{silent:true});
                });
            }else if(attribute.match(/create/)){
                setObj={};
                let createSwitch = {
                    'cantrip':{section:'_spell_',attrs:['_level','_cantrip_filter'],values:[0,'cantrip']},
                    '1st':{section:'_spell_',attrs:['_level','_level_1_filter'],values:[1,1]},
                    '2nd':{section:'_spell_',attrs:['_level','_level_2_filter'],values:[2,2]},
                    '3rd':{section:'_spell_',attrs:['_level','_level_3_filter'],values:[3,3]},
                    '4th':{section:'_spell_',attrs:['_level','_level_4_filter'],values:[4,4]},
                    '5th':{section:'_spell_',attrs:['_level','_level_5_filter'],values:[5,5]},
                    '6th':{section:'_spell_',attrs:['_level','_level_6_filter'],values:[6,6]},
                    '7th':{section:'_spell_',attrs:['_level','_level_7_filter'],values:[7,7]},
                    '8th':{section:'_spell_',attrs:['_level','_level_8_filter'],values:[8,8]},
                    '9th':{section:'_spell_',attrs:['_level','_level_9_filter'],values:[9,9]}
                };
                let createTarget=createSwitch[attribute.replace(/create_/,'')];
                let rowID = generateRowID();
                _.each(_.range(createTarget.attrs.length),(n)=>{
                    setObj['repeating'+createTarget.section+rowID+createTarget.attrs[n]]=createTarget.values[n];
                });
                setObj[attribute]=0;
                setAttrs(setObj,{silent:true});
            }else{
                getID();
            }
        },
        
        healthHandler = function(attributes){
            var setObj = _.reduce(['sp','hp','rp'],(memo,h)=>{
                memo.health_status+=(attributes[h]*1 <= 0 ? 1 : 0);
                return memo;
            },{health_status:0});
            setAttrs(setObj,{silent:true});
            return undefined;
        },
        
        classHandler = function(attributes,attribute){
            var classVar = attribute.replace(/class_\d_/,''),
                classNum = attribute.replace(/class_(\d)_.+/,'$1'),
                varSwitch = {
                    name:classNameHandler,
                    level:classLevelHandler,
                    sp:classHealthHandler,
                    hp:classHealthHandler,
                    spell_progression:classHealthHandler,
                    bab:classBABHandler,
                    fort:classSaveHandler,
                    ref:classSaveHandler,
                    will:classSaveHandler,
                    spells:classSpellHandler,
                    casting_ability:classAbilityHandler,
                    ability:classAbilityHandler
                };
            return varSwitch[classVar](attributes,classVar,classNum);
        },
        
        //class attribute handling functions
        classNameHandler = function(attributes){
            var temp,
                classNL = _.reduce([1,2,3,4,5],(memo,n)=>{
                    temp=(attributes['class_'+n+'_name']||'')+((attributes['class_'+n+'_name']&&attributes['class_'+n+'_name']!==''&&attributes['class_'+n+'_level']&&attributes['class_'+n+'_level']!=='') ? ' ' : '')+(attributes['class_'+n+'_level']||'');
                    memo+=temp.length>0 ? (memo.length>0 ? ' / ' : '')+temp : '';
                    return memo;
                },'');
                setAttrs({'class&level':classNL},{silent:true});
                return undefined;
        },
        
        classLevelHandler = function(attributes){
            var convertSave = {
                    poor:(lvl)=>Math.floor(lvl/3),
                    good:(lvl)=>lvl>0 ? (Math.floor(lvl/2) + 2) : 0
                },
                temp;
            return _.reduce([1,2,3,4,5],(memo,n)=>{
                memo.character_level=(memo.character_level||0)+(attributes['class_'+n+'_level']*1||0);
                memo.bab+=Math.floor(attributes['class_'+n+'_bab']*attributes['class_'+n+'_level']||0);
                _.each(['fort','ref','will'],(save)=>{
                    memo[save+'_base']+=convertSave[attributes['class_'+n+'_'+save]](attributes['class_'+n+'_level']*1||0);
                });
                temp=(attributes['class_'+n+'_name']||'')+((attributes['class_'+n+'_name']&&attributes['class_'+n+'_name']!==''&&attributes['class_'+n+'_level']&&attributes['class_'+n+'_level']!=='') ? ' ' : '')+(attributes['class_'+n+'_level']||'');
                memo['class&level']+=temp.length>0 ? (memo['class&level'].length>0 ? ' / ' : '')+temp : '';
                return memo;
            },{level:0,fort_base:0,ref_base:0,will_base:0,bab:0,'class&level':''});
        },
        
        classHealthHandler = function(){
            return {};
        },
        
        classBABHandler = function(attributes){
            return _.reduce([1,2,3,4,5],(memo,n)=>{
                memo.bab+=Math.floor(attributes['class_'+n+'_bab']*attributes['class_'+n+'_level']||0);
                return memo;
            },{bab:0});
        },
        
        classSaveHandler = function(attributes,save){
            var convertSave = {
                    poor:(lvl)=>Math.floor(lvl/3),
                    good:(lvl)=>lvl>0 ? (Math.floor(lvl/2) + 2) : 0
                },
                memObj={};
                
            memObj[save+'_base']=0;
            return _.reduce([1,2,3,4,5],(memo,n)=>{
                memo[save+'_base']+=convertSave[attributes['class_'+n+'_'+save]](attributes['class_'+n+'_level']*1||0);
                return memo;
            },memObj);
        },
        
        classAbilityHandler = function(attributes,attr,classNum){
            var preClass = 'class_'+classNum,
                setObj={},
                repeatingSources = _.filter(_.keys(attributes),(a)=>{return a.match(/repeating_[^_]+_-[^_]+_source/)});
                
            if(attr==='ability'){
                setObj[preClass+'_casting_ability']=attributes[preClass+'_ability'];
            }
            return _.reduce(repeatingSources,(memo,s)=>{
                if((attributes[s]+'').toLowerCase()===(attributes[preClass+'_name']+'').toLowerCase()){
                    memo[s.replace(/source/,'save_ability')]=attributes[preClass+((attr==='casting_ability' && s.match(/spell/)) ? '_casting' : '')+'_ability'];
                }
                return memo;
            },setObj);
        },
        
        classSpellHandler = function(attributes,attr,classNum){
            var setObj = {},
                preClass = 'class_'+classNum;
            _.some([1,2,3,4,5],(n)=>{
                if(attributes['class_'+n+'_spells']*1===1){
                    setObj.is_caster = 1;
                    setObj.caster_select = 1;
                    return true;
                }else{
                    setObj.is_caster=0;
                    setObj.caster_select = 0;
                }
            });
            if(attr==='spells' && attributes[preClass+'_spells']*1===1){
                setObj[preClass+'_casting_ability']=attributes[preClass+'_ability'];
            }
            return setObj;
        },
        
        abilityHandler = function(attributes,attr){
            var field = attr.replace(/repeating_ability_-[^_]+_/,''),
                setObj={};
            
            switch(field){
                case 'source':
                    setObj = abilitySourceHandler(attributes,attr);
                    break;
            }
            return setObj;
        },
        
        abilitySourceHandler = function(attributes,attr){
            return _.reduce([1,2,3,4,5],(memo,n)=>{
                if((attributes['class_'+n+'_name']+'').toLowerCase()===(attributes[attr]+'').toLowerCase()){
                    memo[attr.replace(/source/,'save_ability')]=attributes['class_'+n+'_ability'];
                }
                return memo;
            },{});
        },
        
        parseBuffs = function(attributes){
            var modRegex = /((?:\+|\-)?.*?(?=(?:\s+max dex|\s+[^\s]+)?\s+to\s+))(?:\s+(max dex|[^\s]+))?\s+to\s+(.+)/i,
                buffSplit,buffMatch,buff,buffType,buffed,evalBuff,
                buffFields = _.chain(_.keys(attributes))
                    .filter((k)=>{
                        return k.match(/repeating_(?:item_-[^_]+_mods|buff_-[^_]+_mods|ability_-[^_]+_mods)/);
                    })
                    .filter((k)=>{
                        let typeSwitch = {
                                'item':(p1)=>[p1+'equipped'],
                                'buff':(p1)=>[p1+'toggle'],
                                'ability':(p1)=>[p1+'toggle',p1+'frequency']
                            };
                        let typeMatch = k.match(/(repeating_(item|buff|ability)_-[^_]+_)mods/);
                        return _.some(typeSwitch[typeMatch[2]](typeMatch[1]),(ts)=>{
                            return (attributes[ts]+'').match(/enabled|equipped|constant/);
                        });
                    })
                    .map((k)=>{
                        return attributes[k];
                    })
                    .reject((f)=>{return _.isEmpty(f)})
                    .reduce((memo,f)=>{
                        buffSplit = f.split(/\s*,\s*|\s*\n\s*/);
                        memo=memo.concat(buffSplit);
                        return memo;
                    },[])
                    .reduce((memo,f)=>{
                        buffMatch = f.match(modRegex);
                        if(buffMatch){
                            buff = buffMatch[1].toLowerCase();
                            buffed = buffMatch[3].toLowerCase().split(/\s+and\s+/);
                            buffType = buffMatch[2] ? buffMatch[2].toLowerCase().replace(/max dex/i,'max_dex') : 'untyped';
                            _.each(buffed,(b)=>{
                                b=b.replace(/\s+/g,'_');
                                if(b.startsWith('category:')){
                                    b=b.replace(/category:_?/,'');
                                    memo.categories[b]=memo.categories[b]||{};
                                    memo.categories[b][buffType]=memo.categories[b][buffType]||[];
                                    memo.categories[b][buffType].push(buff);
                                }else if(b.match(/^armor$/i)){
                                    memo.eac=memo.eac||{};
                                    memo.eac[buffType]=memo.eac[buffType]||[];
                                    memo.eac[buffType].push(buff);
                                    memo.kac=memo.eac||{};
                                    memo.kac[buffType]=memo.kac[buffType]||[];
                                    memo.kac[buffType].push(buff);
                                }else if(b.match(/^skills?$/i)){
                                    _.each(skillList,(skill)=>{
                                        memo[skill]=memo[skill]||{};
                                        memo[skill][buffType]=memo[skill][buffType]||[];
                                        memo[skill][buffType].push(buff);
                                    });
                                }else if(b==='acp'){
                                    memo[b]=memo[b]||{};
                                    memo[b].acp=memo[b].acp||[];
                                    memo[b].acp.push(buff);
                                }else{
                                    memo[b]=memo[b]||{};
                                    memo[b][buffType]=memo[b][buffType]||[];
                                    memo[b][buffType].push(buff);
                                }
                            });
                        }
                        return memo;
                    },{})
                    .value();
            return buffFields;
        },
        
        starfinderMax = function(){
            if(arguments[0]===true){
                return _.min(_.rest(arguments));
            }else{
                return _.max(_.rest(arguments));
            }
        },
        
        //needs handling for armor/acp
        calcBuffs = function(attributes,bonus,setObj){
            var tObj,evalBuff;
            return _.reduce(_.keys(bonus),(memo,t)=>{
                tObj = _.reduce(bonus[t],(m,b)=>{
                    evalBuff=(b+'').replace(/(floor|ceil|abs|round|abs)\(/,'Math.$1(').replace(/@{([^}]+)}/,(match,p1)=>{
                        return setObj[p1.toLowerCase()]*1 || attributes[p1.toLowerCase()]*1||'@{'+p1+'}';
                    });
                    try{
                        evalBuff=eval(evalBuff);
                        if(evalBuff>0){
                            if(t==='armor'){
                                m.armor=starfinderMax(false,m.armor,evalBuff);
                            }else if(t.match(/untyped|circumstance/)){
                                m.buff+=evalBuff;
                            }else if(t==='max_dex'){
                                m.max_dex=starfinderMax(true,m.max_dex,evalBuff);
                            }else{
                                m.buff=starfinderMax(false,m.buff,evalBuff);
                            }
                        }else if(evalBuff<0){
                            if(t==='acp'){
                                m.acp=starfinderMax(true,m.acp,evalBuff);
                            }else{
                                m.pen+=evalBuff;
                            }
                        }
                    }catch(err){
                        m.misc+=b;
                    }
                    return m;
                },{buff:0,pen:0,misc:'',armor:0,acp:0});
                memo.total+=tObj.buff+tObj.pen+tObj.acp;
                memo.misc+=tObj.misc;
                memo.armor=starfinderMax(false,memo.armor,tObj.armor);
                if(tObj.max_dex){
                    memo.max_dex=starfinderMax(true,memo.max_dex,tObj.max_dex);
                }
                return memo;
            },{total:0,misc:'',armor:0});
        },
        
        applyBuffs = function(attributes,bonus,setObj){
            var bTotal, sectionIDs, repeatFormat, repeatIDs,armbTotal,
                levelClass=0,
                rpAbility=0,
                convertProgress = {
                    'half':(lvl)=>lvl >= 13 ? 4 : lvl >= 10 ? 3 : lvl >= 7 ? 2 : lvl >= 4 ? 1 : 0,
                    'partial':(lvl)=> lvl >= 16 ? 6 : lvl >= 13 ? 5 : lvl >= 10 ? 4 : lvl >= 7 ? 3 : lvl >= 4 ? 2 : lvl >= 1 ? 1 : 0,
                    'full_prep':(lvl)=>Math.min(Math.floor((lvl+ 1)/2),9),
                    'full_spont':(lvl)=>lvl*1===1 ? 1 : Math.floor(lvl/2)
                };
            //Caster Class buffing
            if((setObj.is_caster||attributes.is_caster)&&setObj.is_caster!==0){
                setObj.caster_level=0;
                setObj=_.reduce([1,2,3,4,5],(memo,n)=>{
                    let preClass='class_'+n;
                    if(attributes[preClass+'_spells']*1===1){
                        memo['caster_level']+=(attributes[preClass+'_level']*1||0);
                        memo[preClass+'_show']=1;
                        memo[preClass+'_max_spell']=convertProgress[attributes[preClass+'_spell_progression']](attributes[preClass+'_level']*1)||0;
                    }else{
                        memo[preClass+'_show']=0;
                        memo[preClass+'_max_spell']=0;
                    }
                    memo.char_max_spell_1 = _.max([memo.char_max_spell_1,setObj[preClass+'_max_spell'],0]);
                    memo.caster_level_change=bTotal > 0 ? 1 : bTotal < 0 ? -1 : 0;
                    return memo;
                },setObj);
                _.each([2,3,4],(n)=>{
                    setObj['char_max_spell_'+n]=setObj.char_max_spell_1;
                });
                bTotal=calcBuffs(attributes,bonus.caster_level,setObj).total;
                if(setObj.caster_level>0){
                    setObj.caster_level+=bTotal;
                }
            }
            _.each(attributeObjs,(obj)=>{
                let repeatAddition = obj.repeating ? 'repeating_'+obj.repeating+'_' : '';
                let repeatIDs = repeatAddition==='' ? [''] : _.reduce(_.keys(attributes),(memo,k)=>{
                    if(k.match(repeatAddition)){
                        let kMatch = k.match(new RegExp(repeatAddition+'\-[^_]+_'));
                        if(kMatch){
                            if(!_.contains(memo,kMatch[0])){
                                memo.push(kMatch[0]);
                            }
                        }
                    }
                    return memo;
                },[]);
                if(!_.isEmpty(repeatIDs)){
                    setObj = _.reduce(repeatIDs,(memo,id) =>{
                        let specificBonus = bonus[obj.attr] || {};
                        specificBonus = calcBuffs(attributes,specificBonus,setObj);
                        bTotal=specificBonus.total + (attributes[id+(obj.repeating ? 'acp' : obj.attr+'_acp')]*1===1 ? calcBuffs(attributes,bonus.acp,setObj).total : 0);
                        if(obj.moddable){
                            memo[id+(obj.repeating ? 'change' : obj.attr+'_change')]=bTotal > 0 ? 1 : (bTotal < 0 ? -1 : 0);
                        }
                        if(obj.attr==='rp_max'){
                            rpAbility=_.reduce([1,2,3,4,5],(m,n)=>{
                                if(attributes['class_'+n+'_level']>0){
                                    m = _.max([m,(setObj[attributes['class_'+n+'_ability']]*1||attributes[attributes['class_'+n+'_ability']]*1)])
                                }
                                return m;
                            },0);
                        }else{
                            rpAbility=0;
                        }
                        memo[id+obj.attr]=_.chain([
                                _.reduce(obj.repeatTextAdds,(m,add)=>{
                                    return m+(setObj[id+add]||attributes[id+add]||'')
                                },'')
                                +_.reduce(obj.textAdds,(m,add)=>{
                                    return m+(setObj[add]*1||attributes[add]||'')
                                },''),
                                _.reduce(obj.repeatParseField,(m,add)=>{
                                    let calculated = calcBuffs(attributes,{untyped:[attributes[id+add]]},setObj).total
                                    return m + calculated;
                                },0)
                                +((setObj[setObj[id+obj.ability]]*1||setObj[attributes[id+obj.ability]]*1||attributes[attributes[id+obj.ability]]*1||rpAbility||0)
                                +obj.numAdds
                                +_.reduce(_.range(obj.attrAdds.length),(m,add)=>{
                                    let csMatch = obj.attrAdds[add].match('class_skill');
                                    if(obj.attr==='dc' && obj.attrAdds[add]==='lvl'){
                                        if(obj.repeating==='ability'){
                                            levelClass = _.reduce([1,2,3,4,5],(mem,n)=>{
                                                if(attributes['class_'+n+'_name'].toLowerCase()===attributes[id+'source'].toLowerCase()){
                                                    mem=attributes['class_'+n+'_level']*1||0;
                                                }
                                                if(n===5 && m.length===0){
                                                    mem=attributes.character_level;
                                                }
                                                return mem;
                                            },0);
                                        }
                                    }
                                    if(!csMatch || attributes[obj.attrAdds[add].replace(/class_skill/,'ranks')]*1>0){
                                        return m+Math.floor((setObj[obj.attrAdds[add]]*1||(setObj[obj.attrAdds[add]]*1===0 ? 0 : (attributes[obj.attrAdds[add]]*1||levelClass||0)))*(obj.multAdds[add]*1||setObj[obj.multAdds[add]]*1||attributes[obj.multAdds[add]]*1||1));
                                    }else{
                                        return m;
                                    }
                                },0)
                                +_.reduce(obj.repeatAdds,(m,add)=>{
                                    let csMatch = add.match('class_skill');
                                    if(!csMatch || attributes[id+add.replace(/class_skill/,'ranks')]*1>0){
                                        m+=(setObj[id+add]*1||attributes[id+add]*1||0);
                                    }
                                    return m;
                                },0)
                                +bTotal
                                +(obj.attr==='attack_total' && attributes[id+'attack_proficiency']==='no' ? -4 : (obj.attr==='attack_dmg_total' && attributes[id+'attack_proficiency']==='specialized' ? (attributes[id+'attack_category'].match(/small arms|operative/i) ? Math.floor((setObj.character_level||attributes.character_level)/2) : setObj.character_level*1||attributes.character_level*1):0)))
                            ])
                            .reject((v)=>{
                                return !v&&v!==0;
                            })
                            .value().join(' + ');
                        if(obj.attr.match(/_filter/)){
                            memo[id+obj.attr]=Math.min(Math.max(memo[id+obj.attr]*1||0,0),9);
                            memo[id+obj.attr]=memo[id+obj.attr]*1===0 ? 'cantrip' : memo[id+obj.attr];
                        }
                        return memo;
                    },setObj);
                }
            });
            setObj.sp=(attributes.sp*1||0)+((setObj.sp_max*1-attributes.sp_max*1)*1||0);
            setObj.hp=(attributes.hp*1||0)+((setObj.hp_max*1-attributes.hp_max*1)*1||0);
            setObj.rp_max=Math.max((setObj.rp_max*1+Math.max(Math.floor((setObj.character_level*1||attributes.character_level*1||0)/2),1)),1);
            setObj.rp=(attributes.rp*1||0)+((setObj.rp_max*1-attributes.rp_max*1)*1||0);
            setObj.temp_hp=(attributes.temp_hp*1||0)+(setObj.temp_hp_max*1-attributes.temp_hp_max*1);
            //Encumbrance
            setObj.carried_bulk = 0;
            setObj.wealth=0;
            setObj = _.reduce(_.keys(attributes),(memo,a)=>{
                let aMatch =a.match(/repeating_item_-[^_]+_item_(bulk|cost)/);
                if(aMatch){
                    if(aMatch[1]==='bulk'){
                        memo.carried_bulk = memo.carried_bulk + ((attributes[a]+'').match(/l/i) ? 0.1 : attributes[a]*1||0)*attributes[a.replace(/bulk/,'quantity')]||0;
                    }else{
                        memo.wealth=memo.wealth + (attributes[a]*1||0)*attributes[a.replace(/cost/,'quantity')]||0;
                    }
                }
                return memo;
            },setObj);
            setObj.carried_bulk=Math.floor(setObj.carried_bulk)||0;
            bTotal=calcBuffs(attributes,bonus.encumber_bulk,setObj).total;
            setObj.encumber_bulk = Math.floor(setObj.strength/2)+bTotal;
            setObj.encumber_bulk_change=bTotal > 0 ? 1 : (bTotal < 0 ? -1 : 0);
            bTotal=calcBuffs(attributes,bonus.overburden_bulk,setObj).total;
            setObj.overburden_bulk = (setObj.strength*1||0)+bTotal;
            setObj.overburden_bulk_change=bTotal > 0 ? 1 : (bTotal < 0 ? -1 : 0);
            setObj.encumber_level = Math.min(Math.floor(setObj.carried_bulk/setObj.encumber_bulk),1)+Math.min(Math.floor(setObj.carried_bulk/setObj.overburden_bulk),1);
            setAttrs(setObj,{silent:true});
        },
        
        bootup = function(){
            TAS.log('Starfinder Character Sheet v'+version+' loaded');
        };
        return {
            Bootup: bootup,
            RegisterEventHandlers: RegisterEventHandlers
        };
    }());
    starfinder.Bootup();
    starfinder.RegisterEventHandlers();
    /*end of starfinder.js*/
</script>
